{"version":3,"sources":["proxy/proxy.js","requests/greenHooks.js","menu-home/menu.js","menu-home/home.js","menu-home/login.js","menu-home/clientes.js","utils/utils.js","menu-home/pedidos.js","menu-home/promocoes.js","menu-home/conta.js","produtos/cardProduto.js","produtos/produtos.js","produtos/cardProdutoOnline.js","produtos/produtosOnline.js","carrinho/cardCarrinhoNovo.js","carrinho/carrinho.js","pedido/cardItemPedido.js","pedido/pedido.js","trade/solicitacaoTrade.js","trade/solicitacoesTrade.js","tests/dataTableDemo.js","App.js","reportWebVitals.js","index.js"],"names":["api_address","useLocalStorage","key","initialValue","useState","savedValue","JSON","parse","localStorage","getItem","e","getSavedValue","value","setValue","useEffect","setItem","stringify","usePeriodos","produto","periodo","periodo_atual","dadosPeriodo","setDadosPeriodo","params","axios","method","url","then","res","data","MenuPerfil","menu","useRef","username","items_perfil","label","icon","push","items","model","popup","ref","id","onClick","event","current","toggle","aria-controls","aria-haspopup","MyMenu","props","itemsDesk","itemMob","visibleRight","setVisibleRight","query","setQuery","tipoConta","start","href","alt","src","className","button","end","style","textDecoration","loggedIn","searchInput","onChange","target","length","test","preventDefault","window","location","placeholder","type","handleSearch","visible","position","onHide","bannersTemplate","banner","link","url_imagem","Home","state","banners","this","updateBanners","document","title","setState","console","log","numVisible","numScroll","itemTemplate","React","Component","Login","login","setLogin","senha","setSenha","setToken","setLoggedin","setClienteId","setClienteNome","setIsRep","setUsername","setCarrinhoId","setCategorias","setCategoriasMobile","setColecoes","setPeriodos","setTipoConta","message","htmlFor","feedback","FormData","append","post","response","config","headers","Authorization","get","ReactGA","action","user_type","catch","err","show","severity","summary","sticky","handleSubmit","Clientes","clientes","setClientes","token","altera_cliente","nome","field","header","filter","filterPlaceholder","body","rowData","Fragment","confirmDialog","acceptLabel","rejectLabel","accept","confirma_alteracao","formatMoney","number","toLocaleString","currency","Pedidos","pedidos","setPedidos","carrinhoAtualId","displayModal","setDisplayModal","isRep","getPedidos","alterar_pedido","carrrinhoId","formatCurrency","valor_total","valor_total_entregar","data_liberacao","moment","format","liberado_rep","enviado_fabrica","cliente__id","cliente__nome","liberado_cliente","processar","Promocoes","carrinhoId","promocoes","setPromocoes","clienteId","getPromocoes","resizableColumns","columnResizeMode","width","elems_html","condicoes","slice","map","val","index","desc_condicao","id_promocao","id_condicao","computaPromo","removePromo","Conta","senhaAtual","setSenhaAtual","senhaNova1","setSenhaNova1","senhaNova2","setSenhaNova2","displayModalSenha","setDisplayModalSenha","clear","changePassword","handleLogout","CardProduto","count","isBarCode","condicao","desconto","produto__desconto","display","gap","preco","parseFloat","toFixed","top","produto__url_imagem","produto__descricao","produto__produto","maximizable","TableProds","isBarcode","onSave","undefined","dados_periodo","tamanhos","produto__tamanhos","a","qtds","reduce","soma","i","tam","accumulator","currentValue","setPeriodo","pedido","setPedido","pedidoTotal","setPedidoTotal","change","anterior","novo","changePedidoTotal","setChangePedidoTotal","linhasDados","setLinhasDados","displayModalObs","setDisplayModalObs","observacaoItem","setObservacaoItem","order","cor","Array","produto__qtd_tamanhos","fill","tams","LinhaDados","dados","options","produto__periodos","marginTop","qtd_total","b","observacao_item","error","focus","rows","cols","handleChange","valor","ordem","ped_prov","qtd_anterior","flexDirection","desc_cor","fontSize","marginBottom","desc_liberacao","marginLeft","renderTamanhosGrid","elems","Object","keys","idx","liberacao","min","onValueChange","mode","showButtons","buttonLayout","decrementButtonClassName","incrementButtonClassName","incrementButtonIcon","decrementButtonIcon","max","renderButtons","Produtos","listItems","setListItems","first","setFirst","setRows","qtd","setQtd","colecao","setColecao","orderBy","setOrderBy","tamColuna","setTamColuna","classColuna","setclassColuna","colecoesOptions","periodosOptions","produtos","setProdutos","setIsBarCode","useLocation","values","queryString","search","pathname","colecao_busca","periodo_busca","order_by","useProductSearch","listItemsProv","lista","scrollTo","totalRecords","rowsPerPageOptions","onPageChange","ProdutosOnline","useProductSearchOnline","CardCarrinho","panelCollapsed","setPanelCollapsed","handleDelete","forceUpdate","preco_desc","preco_normal","qtd_item","valor_item","toString","substring","collapsed","onToggle","toggleable","inputId","periodoAtual","periodos_alteracao","periodo_update","updatePeriodo","hideModal","UsePeriodos","orderAtual","has_message","item","validaQtdsPedido","calculatePedido","qtdAtual","qtdMaxima","item_has_message","Carrinho","counter","setCounter","tipoPedido","carrinho","setCarrinho","valorTotal","setValorTotal","qtdTotal","setQtdTotal","observacoes","setObservacoes","razaoSocial","setRazaoSocial","emptyMessage","setEmptyMessage","useCartSearch","observacoesNovo","setObservacoesNovo","updateCounter","prevCounter","CardPeriodo","qtd_periodo","valor_periodo","itens","open","isTeste","handleSave","CardItemPedido","qtd_item_entregar","map_list","order_item","disabled","Pedido","valorTotalEntregar","setValorTotalEntregar","qtdTotalEntregar","setQtdTotalEntregar","pathIdPedido","idPedido","lastIndexOf","qtd_periodo_entregar","valor_periodo_entregar","SolicitacaoTrade","materials","setMaterials","cliente","setCliente","materialEscolhido","setMaterialEscolhido","materialOpcaoEscolhido","setMaterialOpcaoEscolhido","displayModalOpcao","setDisplayModalOpcao","displayModalMaterial","setDisplayModalMaterial","responsiveOptions","breakpoint","optionLabel","descricao","imagem_material_opcao","height","descricao_longa","descricao_opcao","circular","material","imagem_material","setMaterial","opcoes","materialOpcao","prazo_envio","setMaterialOpcao","materialOpcaoId","Solicitacoes","solicitacoes","setSolicitacoes","solicitacao","setSolicitacao","material_opcao_imagem","material_descricao_longa","imagens","imagem","imagem_solicitacao_trade","acao_tabela","tipo_condicao","App","verificaLogin","path","component","DataTableBasicDemo","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialize","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d4514728.chunk.js","sourcesContent":["// export const api_address = \"http://127.0.0.1:8000\"\r\nexport const api_address = \"https://greencomapi.azurewebsites.net\"","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport queryString from \"query-string\";\r\nimport { api_address } from \"../proxy/proxy.js\";\r\n\r\nfunction getSavedValue(key, initialValue) {\r\n  let savedValue = false;\r\n  try {\r\n    savedValue = JSON.parse(localStorage.getItem(key));\r\n  } catch (e) {\r\n    savedValue = false;\r\n  }\r\n\r\n  if (savedValue) return savedValue;\r\n\r\n  return initialValue;\r\n}\r\n\r\nexport function useLocalStorage(key, initialValue) {\r\n  const [value, setValue] = useState(() => {\r\n    return getSavedValue(key, initialValue);\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  }, [value]);\r\n\r\n  return [value, setValue];\r\n}\r\n\r\nexport function useProductSearch(colecao, periodo, clienteId, orderBy) {\r\n  const [produtos, setProdutos] = useState({});\r\n  const [isBarCode, setIsBarCode] = useState(false);\r\n  const location = useLocation();\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n\r\n  useEffect(() => {\r\n    const values = queryString.parse(window.location.search); //busca get parameters\r\n    let url = api_address + location.pathname + \"/\";\r\n    let colecao_busca = colecao;\r\n    if (colecao_busca === \"Todas\") colecao_busca = null;\r\n    let periodo_busca = periodo;\r\n    if (periodo_busca === \"Todos\") periodo_busca = null;\r\n\r\n    axios({\r\n      method: \"GET\",\r\n      url: url,\r\n      headers: { Authorization: \"Token \" + token },\r\n      params: {\r\n        query: values.query,\r\n        colecao: colecao_busca,\r\n        periodo: periodo_busca,\r\n        order_by: orderBy,\r\n        clienteId: clienteId,\r\n      },\r\n    }).then((res) => {\r\n      setProdutos(res.data);\r\n      console.log(res.data[\"isBarCode\"]);\r\n      setIsBarCode(res.data[\"isBarCode\"]);\r\n    });\r\n  }, [location, colecao, periodo, clienteId, orderBy]);\r\n  return { produtos, isBarCode };\r\n}\r\n\r\nexport function useProductSearchOnline() {\r\n  const [produtos, setProdutos] = useState({});\r\n  const [isBarCode, setIsBarCode] = useState(false);\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const values = queryString.parse(window.location.search); //busca get parameters\r\n    let url = api_address + location.pathname + \"/\";\r\n\r\n    axios({\r\n      method: \"GET\",\r\n      url: url,\r\n      params: {\r\n        query: values.query,\r\n      },\r\n    }).then((res) => {\r\n      setProdutos(res.data);\r\n      console.log(res.data[\"isBarCode\"]);\r\n      setIsBarCode(res.data[\"isBarCode\"]);\r\n    });\r\n  }, [location]);\r\n  return { produtos, isBarCode };\r\n}\r\n\r\nexport default function usePeriodos(produto, periodo, periodo_atual = null) {\r\n  const [dadosPeriodo, setDadosPeriodo] = useState([]);\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n\r\n  useEffect(() => {\r\n    let url = api_address + \"/periodos/\";\r\n    if (periodo !== \"\") {\r\n      let params = {\r\n        produto: produto,\r\n        periodo: periodo,\r\n      };\r\n      axios({\r\n        method: \"GET\",\r\n        // headers: { Authorization: \"Token \" + token },\r\n        url: url,\r\n        params: params,\r\n      }).then((res) => {\r\n        setDadosPeriodo(res.data[\"dados\"]);\r\n      });\r\n    }\r\n  }, [produto, periodo, periodo_atual]);\r\n  return { dadosPeriodo };\r\n}\r\n\r\nexport function useCartSearch(counter, clienteId) {\r\n  const [carrinho, setCarrinho] = useState([]);\r\n  const [valorTotal, setValorTotal] = useState(0);\r\n  const [qtdTotal, setQtdTotal] = useState(0);\r\n  const [observacoes, setObservacoes] = useState(\"\");\r\n  const [razaoSocial, setRazaoSocial] = useState(\"\");\r\n  const [emptyMessage, setEmptyMessage] = useState(null);\r\n  const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\", null);\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n\r\n  useEffect(() => {\r\n    let url = api_address + \"/carrinho/\";\r\n    let params = {\r\n      carrinhoId: carrinhoId,\r\n      clienteId: clienteId,\r\n    };\r\n    axios({\r\n      method: \"GET\",\r\n      headers: { Authorization: \"Token \" + token },\r\n      url: url,\r\n      params: params,\r\n    }).then((res) => {\r\n      console.log(res.data);\r\n      if (res.data[\"confirmed\"]) {\r\n        setCarrinhoId(res.data[\"carrinhoId\"]);\r\n      }\r\n      setCarrinho(res.data[\"dados\"]);\r\n      setObservacoes(res.data[\"observacoes\"]);\r\n      setRazaoSocial(res.data[\"razao_social\"]);\r\n      setEmptyMessage(res.data[\"message\"]);\r\n      setValorTotal(res.data[\"valor_total\"]);\r\n      setQtdTotal(res.data[\"qtd_total\"]);\r\n    });\r\n  }, [counter, carrinhoId, observacoes, valorTotal, qtdTotal, razaoSocial]);\r\n\r\n  return {\r\n    carrinho,\r\n    emptyMessage,\r\n    observacoes,\r\n    valorTotal,\r\n    qtdTotal,\r\n    razaoSocial,\r\n  };\r\n}\r\n\r\nexport function useFilterOptions() {\r\n  const [colecoes, setColecoes] = useState([]);\r\n  const [periodos, setPeriodos] = useState([]);\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n\r\n  useEffect(() => {\r\n    let url = api_address + \"/filterOptions/\";\r\n    axios({\r\n      method: \"GET\",\r\n      headers: { Authorization: \"Token \" + token },\r\n      url: url,\r\n    }).then((res) => {\r\n      console.log(res.data);\r\n      setColecoes(res.data[\"colecoes\"]);\r\n      setPeriodos(res.data[\"periodos\"]);\r\n    });\r\n  }, [colecoes, periodos]);\r\n\r\n  return { colecoes, periodos };\r\n}\r\n\r\nexport function useClients() {\r\n  const [clientes, setClientes] = useState([]);\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n\r\n  useEffect(() => {\r\n    let url = api_address + \"/clientes/\";\r\n    axios({\r\n      method: \"GET\",\r\n      headers: { Authorization: \"Token \" + token },\r\n      url: url,\r\n    }).then((res) => {\r\n      console.log(res.data);\r\n      setClientes(res.data[\"clientes\"]);\r\n    });\r\n  }, []);\r\n\r\n  return { clientes };\r\n}\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport \"./menu.css\";\r\nimport { Menubar } from \"primereact/menubar\";\r\nimport { Menu } from \"primereact/menu\";\r\nimport { Button } from \"primereact/button\";\r\nimport { SlideMenu } from \"primereact/slidemenu\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { useLocalStorage } from \"../requests/greenHooks.js\";\r\nimport { Sidebar } from \"primereact/sidebar\";\r\nimport { Image } from \"react-bootstrap\";\r\n//Menu com dropdown para pedidos,clientes e etc\r\nconst MenuPerfil = () => {\r\n  const menu = useRef(null);\r\n  const [username] = useLocalStorage(\"username\", null);\r\n  const [isRep] = useLocalStorage(\"isRep\", null);\r\n\r\n  let items_perfil = [\r\n    {\r\n      label: \"Conta\",\r\n      icon: \"pi pi-user\",\r\n      url: \"/conta\",\r\n    },\r\n    {\r\n      label: \"Pedidos\",\r\n      icon: \"pi pi-book\",\r\n      url: \"/pedidos\",\r\n    },\r\n  ];\r\n  if (isRep) {\r\n    items_perfil.push({\r\n      label: \"Clientes\",\r\n      icon: \"pi pi-users\",\r\n      url: \"/clientes\",\r\n    });\r\n    items_perfil.push({\r\n      label: \"Promocoes\",\r\n      icon: \"pi pi-percentage\",\r\n      url: \"/promocoes\",\r\n    });\r\n    items_perfil.push({\r\n      label: \"Trade\",\r\n      icon: \"pi pi-flag\",\r\n      url: \"/trade\",\r\n    });\r\n  }\r\n  const items = [\r\n    {\r\n      label: username,\r\n      items: items_perfil,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Menu model={items} popup ref={menu} id=\"popup_menu\" />\r\n      <Button\r\n        icon=\"pi pi-align-justify\"\r\n        onClick={(event) => menu.current.toggle(event)}\r\n        aria-controls=\"popup_menu\"\r\n        aria-haspopup\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport function MyMenu(props) {\r\n  const [itemsDesk] = useLocalStorage(\"categorias\",[])\r\n  const [itemMob,] = useLocalStorage(\"categoriasMobile\",[])\r\n  const [visibleRight, setVisibleRight] = useState(false);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [search, setSearch] = useState('search');\r\n  const [tipoConta] = useLocalStorage(\"tipoConta\", []);\r\n\r\n  const handleSearch = (e) => {\r\n    if (query !== \"\") {\r\n      e.preventDefault();\r\n      window.location = \"/busca?query=\" + query;\r\n      setQuery(\"\");\r\n    }\r\n  };\r\n  const handleChangeSearch = (e) => {\r\n    //Faz submit automaticamente na busca caso seja codigo de barras\r\n    setQuery(e.target.value);\r\n    if (e.target.value.length >= 13 && /^\\d+$/.test(e.target.value)) {\r\n      e.preventDefault();\r\n      window.location = \"/busca?query=\" + e.target.value;\r\n      setQuery(\"\");\r\n    }\r\n  };\r\n\r\n  const start = (\r\n    <a href=\"/\" >\r\n      <img\r\n        alt=\"logo\"\r\n        src=\"https://www.greenish.com.br/arquivos/logo-greenish.png?v=638040487547770000\"\r\n        className=\"p-mr-2\"\r\n      />\r\n    </a>\r\n  );\r\n  //Mostra lateral do menu apenas para usuario logado\r\n  const button = (\r\n    <div className=\"btnMenu\" onClick={() => setVisibleRight(true)}>\r\n      <Button className=\"bars\"\r\n        icon=\"pi pi-bars\"\r\n        />\r\n    </div>\r\n  );\r\n  let end = <a href=\"/login\" style={{textDecoration: 'none'}}><Button>Login</Button></a>;\r\n  if (props.loggedIn) {\r\n    end = (\r\n      <div className=\"endMenu\">\r\n        <div>\r\n          <InputText\r\n            ref={props.searchInput}\r\n            onChange={handleChangeSearch}\r\n            placeholder=\"Buscar\"\r\n            type=\"text\"\r\n          />\r\n          <Button\r\n            onClick={(e) => {handleSearch(e)\r\n            }}\r\n            icon=\"pi pi-search\"\r\n            className=\"p-button-rounded p-button-secondary\"\r\n            />\r\n            </div>\r\n        <div className=\"btns\">\r\n          <Button\r\n            icon=\"pi pi-shopping-cart\"\r\n            onClick={(e) => (window.location.href = \"/carrinho\")}\r\n            aria-controls=\"popup_menu\"\r\n            aria-haspopup\r\n          />\r\n          {tipoConta === \"visitante\" ? (\r\n            <Button\r\n              icon=\"pi pi-user\"\r\n              onClick={(e) => (window.location.href = \"/conta\")}\r\n              aria-controls=\"popup_menu\"\r\n              aria-haspopup\r\n            />\r\n          ) : (\r\n            <MenuPerfil />\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card menu\">\r\n        <Menubar model={itemsDesk} start={start} end={end} className=\"menu\" />\r\n      </div>\r\n      <div className=\"card menuMobile\">\r\n        <header className=\"menuMobile\">\r\n          {start} {button}\r\n        </header>\r\n      </div>\r\n      <Sidebar\r\n        visible={visibleRight}\r\n        position=\"right\"\r\n        onHide={() => setVisibleRight(false)}\r\n      >\r\n        <p>{end}</p>\r\n        <SlideMenu model={itemMob} />\r\n      </Sidebar>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport './home.css';\r\nimport { Carousel } from 'primereact/carousel';\r\n\r\nconst bannersTemplate = (banner) => {\r\n    return (\r\n        <div className=\"product-item\">\r\n            <div className=\"product-item-content\">\r\n                <div className=\"mb-3\">\r\n                <a href={banner.link} ><img src={banner.url_imagem}  className=\"product-image\" /></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport class Home extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n        \r\n      this.state = {\r\n          banners: [],\r\n        }\r\n    }\r\n  \r\n    componentDidMount() {\r\n      this.updateBanners();\r\n      document.title = \"Greenish B2B\"\r\n    }  \r\n    updateBanners() {\r\n\r\n        let url = api_address+'/home'\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n        }).then(res => {\r\n            this.setState({banners: res.data['banners']})\r\n            console.log(this.state.banners)\r\n        })\r\n    }\r\n  \r\n    render() {\r\n        // const lista = this.state.banners.slice()\r\n        // let banners_html = lista.map((val,index) => <a href={val.link}><img src={val.url_imagem}></img></a>)\r\n        return (\r\n            <div>\r\n                <Carousel value={this.state.banners} numVisible={1} numScroll={1} //responsiveOptions={responsiveOptions}\r\n                itemTemplate={bannersTemplate} />\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { Button } from \"primereact/button\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { Password } from \"primereact/password\";\r\nimport axios from \"axios\";\r\nimport ReactGA from \"react-ga4\";\r\nimport { useLocalStorage } from \"../requests/greenHooks.js\";\r\nimport { Messages } from \"primereact/messages\";\r\nimport { api_address } from \"../proxy/proxy.js\";\r\n\r\nexport default function Login(props) {\r\n  const [login, setLogin] = useState(\"\");\r\n  const [senha, setSenha] = useState(\"\");\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n  const [, setLoggedin] = useLocalStorage(\"loggedin\", null);\r\n  const [, setClienteId] = useLocalStorage(\"clienteId\", null);\r\n  const [, setClienteNome] = useLocalStorage(\"clienteNome\", null);\r\n  const [isRep, setIsRep] = useLocalStorage(\"isRep\", null);\r\n  const [, setUsername] = useLocalStorage(\"username\", null);\r\n  const [, setCarrinhoId] = useLocalStorage(\"carrinhoId\", null);\r\n  const [, setCategorias] = useLocalStorage(\"categorias\", []);\r\n  const [, setCategoriasMobile] = useLocalStorage(\"categoriasMobile\", []);\r\n  const [, setColecoes] = useLocalStorage(\"colecoes\", []);\r\n  const [, setPeriodos] = useLocalStorage(\"periodos\", []);\r\n  const [, setTipoConta] = useLocalStorage(\"tipoConta\", []);\r\n  const message = useRef(null);\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Login\";\r\n  }, []);\r\n\r\n  const handleSubmit = () => {\r\n    let data = new FormData();\r\n    data.append(\"username\", login);\r\n    data.append(\"password\", senha);\r\n\r\n    axios\r\n      .post(api_address + \"/api-token-auth/\", data)\r\n      .then((response) => {\r\n        let config = {\r\n          headers: { Authorization: \"Token \" + response.data[\"token\"] },\r\n        };\r\n        console.log(config);\r\n        setToken(response.data[\"token\"]);\r\n        axios.get(api_address + \"/login/\", config).then((response) => {\r\n          console.log(response.data);\r\n          setLoggedin(true);\r\n          setClienteId(response.data[\"clienteId\"]);\r\n          setClienteNome(response.data[\"clienteNome\"]);\r\n          setIsRep(response.data[\"isRep\"]);\r\n          setUsername(response.data[\"username\"]);\r\n          setCarrinhoId(null);\r\n          setCategorias(response.data[\"cats\"]);\r\n          setCategoriasMobile(response.data[\"cats_mobile\"]);\r\n          setColecoes(response.data[\"colecoes\"]);\r\n          setPeriodos(response.data[\"periodos\"]);\r\n          setTipoConta(response.data[\"tipo_conta\"]);\r\n          window.location.href = \"/\";\r\n          ReactGA.event({\r\n            action: \"login\",\r\n            user_type: response.data[\"tipo_conta\"],\r\n          });\r\n        });\r\n      })\r\n      .catch(function (err) {\r\n        message.current.show([\r\n          {\r\n            severity: \"error\",\r\n            summary: \"Usuario ou senha Incorretos\",\r\n            sticky: false,\r\n          },\r\n        ]);\r\n        setLogin(\"\");\r\n        setSenha(\"\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Messages ref={message} />\r\n      <div className=\"p-field\">\r\n        <label htmlFor=\"login\">Login</label>\r\n        <InputText\r\n          id=\"login\"\r\n          value={login}\r\n          onChange={(e) => setLogin(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"p-field\">\r\n        <label htmlFor=\"senha\">Senha</label>\r\n        <Password\r\n          id=\"senha\"\r\n          value={senha}\r\n          onChange={(e) => setSenha(e.target.value)}\r\n          feedback={false}\r\n        />\r\n      </div>\r\n      <Button label=\"Entrar\" onClick={() => handleSubmit()} />\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\n\r\nconst Clientes = () => {\r\n    const [clientes, setClientes] = useState([]);\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [, setClienteId] = useLocalStorage(\"clienteId\",null)\r\n    const [, setClienteNome] = useLocalStorage(\"clienteNome\",null)\r\n    const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n\r\n    const getClientes = () =>{\r\n        let url = api_address+'/clientes/'\r\n        axios({\r\n            method: 'GET',\r\n            headers: {'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            console.log(res.data['clientes'])\r\n            setClientes(res.data['clientes'])\r\n        })\r\n    } \r\n\r\n    useEffect(() => {\r\n        getClientes()\r\n        document.title = \"Greenish B2B | Clientes\"\r\n      }, [])\r\n\r\n    const confirma_alteracao = (rowData) => {\r\n        confirmDialog({\r\n            message: 'Itens nao salvos no carrinho serao apagados. Confirma alteracao?',\r\n            header: 'Confirmacao',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            acceptLabel:\"Sim\",\r\n            rejectLabel:\"Nao\",\r\n            accept: () => altera_cliente(rowData.id,rowData.nome)\r\n        })\r\n    }\r\n\r\n    const altera_cliente = (id,nome) =>{\r\n        // axios({ --- EXCLUSAO INATIVADA\r\n        //     method: 'GET',\r\n        //     headers: {'Authorization': 'Token '+token},\r\n        //     url: api_address+'/pedidos/deleta/'+carrinhoId,\r\n        //   })\r\n        setClienteId(id)\r\n        setClienteNome(nome)\r\n        setCarrinhoId(null)\r\n        window.location.href = '/'\r\n    }\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                <Button label=\"Selecionar\" onClick={() => confirma_alteracao(rowData)} />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"card\">\r\n                <DataTable value={clientes}>\r\n                    <Column field=\"cnpj\" header=\"CNPJ\" filter filterPlaceholder=\"Buscar\"></Column> \r\n                    <Column field=\"razao_social\" header=\"Razao Social\" filter filterPlaceholder=\"Buscar\"></Column>             \r\n                    <Column field=\"uf\" header=\"UF\"></Column>\r\n                    <Column field=\"cidade\" header=\"Cidade\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column field=\"tabela_precos\" header=\"Tabela\"></Column>\r\n                    <Column field=\"desc_cond_pag\" header=\"Condicao Pagamento\"></Column>\r\n                    <Column body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Clientes","export function formatMoney(number) {\r\n    if(number == null){\r\n      return \"\"\r\n    }\r\n    return number.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\r\n  }","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\n\r\nimport React, { useState, useEffect,useRef } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages'\r\nimport { ProgressSpinner } from 'primereact/progressspinner'\r\nimport { Dialog } from 'primereact/dialog'\r\nimport { ColumnGroup } from 'primereact/columngroup'\r\nimport { Row } from 'primereact/row';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport moment from 'moment';\r\n\r\n\r\nconst Pedidos = () => {\r\n    const [pedidos, setPedidos] = useState([]);\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [, setClienteId] = useLocalStorage(\"clienteId\",null)\r\n    const [, setClienteNome] = useLocalStorage(\"clienteNome\",null)\r\n    const [carrinhoAtualId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n    const message = useRef(null)\r\n    const [isRep,] = useLocalStorage(\"isRep\",null)\r\n\r\n    const getPedidos = () =>{\r\n        let url = api_address+'/pedidos/'\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers: {'Authorization': 'Token '+token}\r\n        }).then(res => {\r\n            setPedidos(res.data['pedidos'])\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getPedidos()\r\n        document.title = \"Greenish B2B | Pedidos\"\r\n      }, [])\r\n\r\n      const confirma_alteracao = (rowData) => {\r\n        confirmDialog({\r\n            message: 'Itens nao salvos no carrinho serao apagados. Confirma alteracao?',\r\n            header: 'Confirmacao',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            acceptLabel:\"Sim\",\r\n            rejectLabel:\"Nao\",\r\n            accept: () => alterar_pedido(rowData.id,rowData.cliente__id,rowData.cliente__nome)\r\n        })\r\n    }\r\n\r\n\r\n    const alterar_pedido = (carrrinhoId,id,nome) =>{\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/pedidos/retoma/'+carrrinhoId+'/',\r\n            headers: {'Authorization': 'Token '+token},\r\n            params:{\r\n                carrinhoAtualId:carrinhoAtualId\r\n              },\r\n          }).then(res => {\r\n            if(res.data['confirmed']){\r\n                setCarrinhoId(carrrinhoId)\r\n                setClienteId(id)\r\n                setClienteNome(nome)\r\n                window.location.href = '/carrinho'\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res.data['message'], sticky: false }\r\n                ])\r\n            }\r\n          })\r\n    }\r\n\r\n\r\n    const visualizar_pedido = (carrrinhoId,id,nome) =>{\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/pedidos/retoma/'+carrrinhoId+'/',\r\n            headers: {'Authorization': 'Token '+token},\r\n            params:{\r\n                carrinhoAtualId:carrinhoAtualId\r\n              },\r\n          }).then(res => {\r\n            if(res.data['confirmed']){\r\n                setCarrinhoId(carrrinhoId)\r\n                setClienteId(id)\r\n                setClienteNome(nome)\r\n                window.location.href = '/carrinho'\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res.data['message'], sticky: false }\r\n                ])\r\n            }\r\n          })\r\n    }\r\n\r\n    const processar = (rowData) =>{\r\n        setDisplayModal(true)\r\n\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/pedidos/processa/'+rowData.id+'/',\r\n            headers: {'Authorization': 'Token '+token}\r\n          }).then(res => {\r\n            setDisplayModal(false)\r\n            if(res.data['confirmed']){\r\n                getPedidos()\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res.data['message'], sticky: true }\r\n                ])\r\n            }\r\n          })\r\n    }\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <div className='td'>\r\n                {rowData.liberado_rep ? <Button className='bt' label=\"Visualizar\" onClick={() => window.location.href = '/pedido/'+rowData.id} />  : <Button className='bt' label=\"Alterar\" onClick={() => confirma_alteracao(rowData)} />}\r\n                {rowData.liberado_rep  ? <></>  : rowData.liberado_cliente && isRep ? <Button className='bt' label=\"Processar\" onClick={() => processar(rowData)} /> : <></>}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    console.log(pedidos)\r\n\r\n    const enviado_template = (rowData) => {\r\n        return rowData.enviado_fabrica ? <>Sim</>  : <>No</>\r\n    }\r\n    const liberado_template = (rowData) => {\r\n        return rowData.liberado_rep ? <>Sim</>  : <>No</>\r\n    }\r\n    const is_teste_template = (rowData) => {\r\n        return rowData.is_teste ? <>Sim</>  : <>No</>\r\n    }\r\n\r\n    const formatCurrency = (value) => {\r\n        return value.toLocaleString('en-US', {style: 'currency', currency: 'BRL'});\r\n    }\r\n\r\n    const valorTotalTemplate = (rowData) => {\r\n        return `${formatCurrency(rowData.valor_total)}`;\r\n    }\r\n    const valorTotalEntregarTemplate = (rowData) => {\r\n        return `${formatCurrency(rowData.valor_total_entregar)}`;\r\n    }\r\n\r\n    const dateTemplate = (rowData) => {\r\n        if(rowData.data_liberacao == null){\r\n            return \"...\"\r\n        }\r\n        return moment(rowData.data_liberacao, \"YYYY-MM-DDTHH:mm:ssZ\").format('DD/MM/YYYY');\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <Dialog title=\"Processando\" visible={displayModal} onHide={()=>\"\"}><ProgressSpinner /></Dialog>\r\n            <div>\r\n                <DataTable value={pedidos}>\r\n                    <Column field=\"cliente__razao_social\" header=\"Razao Social\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column field=\"colecao\" header=\"Colecao\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column header=\"Valor\" body={valorTotalTemplate}></Column>\r\n                    <Column header=\"Valor Entregar\" body={valorTotalEntregarTemplate}></Column>\r\n                    <Column field=\"qtd_total\" header=\"Qtd\"></Column>\r\n                    <Column field=\"cliente__desc_cond_pag\" header=\"Cond Pag\"></Column>\r\n                    <Column body={dateTemplate} header=\"Data\"></Column>\r\n                    <Column field=\"liberado_rep\" header=\"Liberado\" body={liberado_template}></Column>\r\n                    <Column field=\"enviado_fabrica\" header=\"Enviado\" body={enviado_template}></Column>\r\n                    <Column field=\"codigo_erp\" header=\"ID Ondas\"></Column>\r\n                    <Column header=\"Acoes\" body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pedidos","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\n\r\nimport React, { useState, useEffect,useRef } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages'\r\n\r\nconst Promocoes = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const message = useRef(null)\r\n    const [promocoes,setPromocoes] = useState([])\r\n    const [clienteId, ] = useLocalStorage(\"clienteId\",null)\r\n\r\n  \r\n    useEffect(() => {\r\n        getPromocoes()\r\n        document.title = \"Greenish B2B | Promocoes\"\r\n      }, [])\r\n\r\n    const computaPromo = (id_promocao,id_condicao) =>{\r\n        let url = api_address+'/promocoes/'+carrinhoId+'/'\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers:{'Authorization': 'Token '+token},\r\n            params:{\r\n                id_promocao:id_promocao,\r\n                id_condicao:id_condicao\r\n              }\r\n        }).then(res => {\r\n            console.log(res)\r\n            if(res['data']['confirmed']){\r\n                message.current.show([\r\n                    { severity: 'success', summary: res['data']['message'], sticky: false }\r\n                ])\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res['data']['message'], sticky: false }\r\n                ])                \r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    const removePromo = () =>{\r\n        let url = api_address+'/promocoes/remove/'+carrinhoId+'/'\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url, \r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoes Removidas com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const getPromocoes = () =>{\r\n        let url = api_address+'/promocoes'\r\n        if(clienteId != null){\r\n            url = url +'/'+ clienteId\r\n        }\r\n        let params = {}\r\n        if(carrinhoId != null){\r\n            params['carrinhoId'] = carrinhoId\r\n        }\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url,\r\n            params:params\r\n        }).then(res => {\r\n            setPromocoes(res.data['promocoes'])\r\n            console.log(res.data['promocoes'])\r\n        })\r\n    } \r\n\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        const elems = rowData.condicoes.slice()\r\n        let elems_html = elems.map((val,index) =>\r\n        <Button className=\"p-mr-2\" label={val.desc_condicao} onClick={() => computaPromo(rowData.id_promocao,val.id)} />)\r\n        return (\r\n            <React.Fragment>\r\n                {elems_html}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"card\">\r\n                <DataTable value={promocoes} resizableColumns columnResizeMode=\"fit\">\r\n                    <Column field=\"descricao\" header=\"Promocao\" style={{width:'15%'}}></Column>\r\n                    <Column field=\"atingido\" header=\"Atingido\" style={{width:'10%'}}></Column>\r\n                    <Column header=\"Acoes\" body={actionBodyTemplate} style={{width:'85%'}}></Column>\r\n                </DataTable>\r\n            </div>\r\n            <Button className=\"p-d-block p-mx-auto p-mt-6\" label={\"Remover Promoes\"} onClick={() => removePromo()} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Promocoes","import React, {useEffect,useState,useRef} from \"react\";\r\nimport { Button } from 'primereact/button'\r\nimport axios from 'axios'\r\nimport {Password} from 'primereact/password';\r\nimport 'primeflex/primeflex.css';\r\nimport { Dialog } from 'primereact/dialog'\r\nimport { Messages } from 'primereact/messages'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\nexport default function Conta(props){\r\n  const [senhaAtual,setSenhaAtual ] = useState(\"\")\r\n  const [senhaNova1,setSenhaNova1 ] = useState(\"\")\r\n  const [senhaNova2,setSenhaNova2 ] = useState(\"\")\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n  const [displayModalSenha, setDisplayModalSenha] = useState(false)\r\n  const message = useRef(null)\r\n  const [tipoConta,] = useLocalStorage(\"tipoConta\",null)\r\n    \r\n  useEffect(() => {\r\n      document.title = \"Greenish B2B | Conta\"\r\n    }, [])\r\n\r\n    const handleLogout = () =>{\r\n        var config = {\r\n          headers: {'Authorization': 'Token '+token}\r\n        }\r\n        axios.get(api_address+'/accounts/logout/',config)\r\n        .then(response => {\r\n            localStorage.clear()\r\n            window.location.href = '/'\r\n        })\r\n    }\r\n\r\n    const changePassword = () =>{\r\n        if (senhaNova1 === senhaNova2){\r\n          var data = {\r\n            \"senhaNova\":senhaNova1,\r\n            \"senhaAtual\":senhaAtual,\r\n          }\r\n          var config = {\r\n            headers: {'Authorization': 'Token '+token}\r\n          }\r\n          axios.post(api_address+'/change_password/',data,config)\r\n          .then(response => {\r\n              if (response.data['confirmed']){\r\n                localStorage.clear()\r\n                window.location.href = '/login'                \r\n              }else{\r\n                  message.current.show([\r\n                      { severity: 'error', summary: response.data['message'], sticky: false }\r\n                  ])\r\n              }  \r\n          })\r\n      }else{\r\n        message.current.show([\r\n          { severity: 'error', summary: \"Confirmacao de nova senha invalida\", sticky: false }\r\n      ])\r\n      }\r\n      setSenhaAtual(\"\")\r\n      setSenhaNova1(\"\")\r\n      setSenhaNova2(\"\")\r\n  }\r\n\r\n    return(\r\n      <div>\r\n        <Dialog title=\"Alterar Senha\" visible={displayModalSenha} onHide={()=>setDisplayModalSenha(false)}>\r\n            <Messages ref={message} />\r\n            <h5>Senha Atual</h5>\r\n            <Password  value={senhaAtual} onChange={(e)=>setSenhaAtual(e.target.value)} feedback={false}/>\r\n            <h5>Senha Nova</h5>\r\n            <Password value={senhaNova1} onChange={(e)=>setSenhaNova1(e.target.value)} feedback={false}/>\r\n            <h5>Confirme a Nova Senha</h5>\r\n            <Password value={senhaNova2} onChange={(e)=>setSenhaNova2(e.target.value)} feedback={false}/>\r\n            <h5></h5>\r\n            <Button label=\"Confirmar\" onClick={() => changePassword()} />\r\n        </Dialog>\r\n        {tipoConta===\"visitante\" ? <></> : <Button label=\"Alterar Senha\" onClick={() => setDisplayModalSenha(true)} /> }\r\n        <Button label=\"Logout\" onClick={() => handleLogout()} />\r\n      </div>\r\n  \r\n    )\r\n  }","import { InputNumber } from \"primereact/inputnumber\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { Messages } from \"primereact/messages\";\r\nimport { Card } from \"primereact/card\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport usePeriodos, { useLocalStorage } from \"../requests/greenHooks.js\";\r\nimport axios from \"axios\";\r\nimport \"primeflex/primeflex.css\";\r\nimport { api_address } from \"../proxy/proxy.js\";\r\nimport { InputTextarea } from \"primereact/inputtextarea\";\r\nimport { formatMoney } from \"../utils/utils.js\";\r\nimport { Chip } from \"primereact/chip\";\r\nimport \"./card.css\";\r\n\r\nexport default function CardProduto(props) {\r\n  let count = 0;\r\n  const [displayModal, setDisplayModal] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    setDisplayModal(props.isBarCode);\r\n  }, [props.isBarCode]);\r\n\r\n  const onClick = () => {\r\n    setDisplayModal(true);\r\n  };\r\n  const onHide = () => {\r\n    setDisplayModal(false);\r\n  };\r\n  let condicao;\r\n  let desconto;\r\n  if (props.produto.produto__desconto > 0) {\r\n    desconto =<div style={{display: 'flex', gap: 8}}>\r\n    <s>{formatMoney(props.produto.preco)}</s>\r\n      <span>{formatMoney(props.produto.preco - (props.produto.produto__desconto * props.produto.preco))}</span>\r\n    </div>\r\n  } else {\r\n    desconto = \"\";\r\n  }\r\n  return (\r\n    <div className=\"p-shadow-2 p-m-2\">\r\n      <Card className=\"card\">\r\n        <div\r\n          className=\"img\"\r\n          >\r\n        {props.produto.produto__desconto > 0 && \r\n        <div className=\"tag\"><p>\r\n          {\r\n            parseFloat(props.produto.produto__desconto * 100).toFixed() + '%'\r\n          }\r\n          </p>\r\n        </div>\r\n        }\r\n        <img\r\n          top\r\n          width=\"100%\"\r\n          src={props.produto.produto__url_imagem}\r\n          alt=\"Sem Imagem\"\r\n          onClick={() => {\r\n            onClick();\r\n          }}\r\n        />\r\n        </div>\r\n\r\n        <div className=\"header\">\r\n          <div>\r\n            <p id=\"p1\">{props.produto.produto__descricao}</p>\r\n            <p>{props.produto.produto__produto}</p>\r\n          </div>\r\n          <div className=\"chip\">\r\n            {props.produto.produto__desconto > 0 ? \r\n            <p id=\"desconto\">{desconto}</p>\r\n            :\r\n            <p>{formatMoney(props.produto.preco)}</p>\r\n          }\r\n          </div>\r\n        </div>\r\n        <div className=\"cardIn\">\r\n          <Dialog\r\n            header={props.produto.produto__produto}\r\n            maximizable\r\n            visible={displayModal}\r\n            style={{ width: \"75vw\" }}\r\n            onHide={() => onHide()}\r\n          >\r\n            <div className=\"p-grid\">\r\n              <div className=\"p-col\">\r\n                <img\r\n                  top\r\n                  width=\"100%\"\r\n                  src={props.produto.produto__url_imagem}\r\n                  alt=\"Sem Imagem\"\r\n                />\r\n              </div>\r\n              <div className=\"p-col-fixed\" style={{ width: \"500px\" }}>\r\n                <TableProds\r\n                  isBarcode={props.isBarCode}\r\n                  searchInput={props.searchInput}\r\n                  onSave={onHide}\r\n                  produto={props.produto}\r\n                  periodo={props.periodo}\r\n                ></TableProds>\r\n              </div>\r\n            </div>\r\n          </Dialog>\r\n          {!(props.produto.dados_periodo == undefined) ? (\r\n            <div style={{ width: \"100%\" }}>\r\n              {props.produto.dados_periodo.map((e, key) => {\r\n                let tamanhos = JSON.parse(props.produto.produto__tamanhos);\r\n                condicao = props.produto.dados_periodo.map((a) =>\r\n                  a.qtds.reduce(function (soma, i) {\r\n                    return soma + i;\r\n                  })\r\n                );\r\n\r\n                if (count <= 0) {\r\n                  if (\r\n                    condicao.reduce(function (soma, i) {\r\n                      return soma + i;\r\n                    }) > 0\r\n                  ) {\r\n                    count++;\r\n                    return (\r\n                      <div key={key} className=\"disponivel\">\r\n                        <div>\r\n                          <strong>Disponvel</strong>\r\n                        </div>\r\n                        <div className=\"table\">\r\n                          {tamanhos.map((tam, index) => {\r\n                            return (\r\n                              <div>\r\n                                <span>{tam}</span>\r\n                                <p>\r\n                                  {props.produto.dados_periodo.reduce(\r\n                                    (accumulator, currentValue) =>\r\n                                      accumulator + currentValue.qtds[index],\r\n                                    0\r\n                                  )}\r\n                                </p>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n                }\r\n              })}\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction definePeriodo(isBarcode) {\r\n  if (isBarcode) {\r\n    return \"Pre-selecionados\";\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\nconst renderTamanhosGrid = (props) => {\r\n  let prods_tams = JSON.parse(props.produto.produto__tamanhos);\r\n  let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>);\r\n  return tams;\r\n};\r\nfunction TableProds(props) {\r\n  const [produto] = useState(props.produto);\r\n  const [periodo, setPeriodo] = useState(props.periodo);\r\n  const [pedido, setPedido] = useState({});\r\n  const [pedidoTotal, setPedidoTotal] = useState(0);\r\n  const [changePedidoTotal, setChangePedidoTotal] = useState({\r\n    change: 0,\r\n    anterior: 0,\r\n    novo: 0,\r\n  });\r\n  const [linhasDados, setLinhasDados] = useState(<div></div>);\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n  const [clienteId] = useLocalStorage(\"clienteId\", null);\r\n  const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\", null);\r\n  const [displayModalObs, setDisplayModalObs] = useState(false);\r\n  const [observacaoItem, setObservacaoItem] = useState(\"\");\r\n  const message = useRef(null);\r\n  const { dadosPeriodo } = usePeriodos(produto.produto__produto, periodo);\r\n\r\n  useEffect(() => {\r\n    let total = 0;\r\n    let order = {};\r\n    for (var index in dadosPeriodo) {\r\n      let item = dadosPeriodo[index];\r\n      let cor = item[\"cor\"];\r\n      let qtds = new Array(produto.produto__qtd_tamanhos).fill(0);\r\n      order[cor] = qtds;\r\n    }\r\n    setPedido(order);\r\n    setPedidoTotal(0);\r\n  }, [dadosPeriodo]);\r\n\r\n  useEffect(() => {\r\n    setPedidoTotal(pedidoTotal + changePedidoTotal[\"change\"]);\r\n  }, [changePedidoTotal]);\r\n\r\n  useEffect(() => {\r\n    if (periodo !== \"\") {\r\n      let tams = dadosPeriodo.map((val) => (\r\n        <LinhaDados\r\n          dados={val}\r\n          pedido={pedido}\r\n          produto={props.produto}\r\n          setPedido={setPedido}\r\n          setChangePedidoTotal={setChangePedidoTotal}\r\n        ></LinhaDados>\r\n      ));\r\n      setLinhasDados(tams);\r\n    }\r\n  }, [pedido, periodo]);\r\n\r\n  const renderTamanhosGrid = (props) => {\r\n    let prods_tams = JSON.parse(props.produto.produto__tamanhos);\r\n    let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>);\r\n    return tams;\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    let qtd_total = 0;\r\n    for (var index in pedido) {\r\n      let qtds_cor = pedido[index];\r\n      qtd_total = qtd_total + qtds_cor.reduce((a, b) => a + b, 0);\r\n    }\r\n    var data = {\r\n      produto: produto,\r\n      periodo: periodo,\r\n      qtds: pedido,\r\n      qtd_total: qtd_total,\r\n      clienteId: clienteId,\r\n      carrinhoId: carrinhoId,\r\n      observacao_item: observacaoItem,\r\n    };\r\n    var config = {\r\n      headers: { Authorization: \"Token \" + token },\r\n    };\r\n\r\n    console.log(data);\r\n    console.log(config[\"headers\"]);\r\n    if (qtd_total > 0) {\r\n      axios\r\n        .post(api_address + \"/carrinho/\", data, config)\r\n        .then((response) => {\r\n          if (response.data[\"confirmed\"]) {\r\n            props.onSave();\r\n            // message.current.show([\r\n            //     { severity: 'success', summary: response.data['message'], sticky: true }\r\n            // ])\r\n            setCarrinhoId(response.data[\"carrinhoId\"]);\r\n          } else {\r\n            message.current.show([\r\n              {\r\n                severity: \"error\",\r\n                summary: response.data[\"message\"],\r\n                sticky: true,\r\n              },\r\n            ]);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.message);\r\n        });\r\n    } else {\r\n      message.current.show([\r\n        {\r\n          severity: \"error\",\r\n          summary: \"Quantidade deve ser maior que 0\",\r\n          sticky: false,\r\n        },\r\n      ]);\r\n    }\r\n    props.searchInput.current.focus();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Messages ref={message} />\r\n      <div className=\"header\">\r\n        <Dropdown\r\n          placeholder=\"Selecione Perodo\"\r\n          id=\"dropdown\"\r\n          value={periodo}\r\n          options={JSON.parse(props.produto.produto__periodos)}\r\n          onChange={(e) => setPeriodo(e.value)}\r\n        />\r\n        <div className=\"chip\">\r\n        <span id=\"qtd\">Quantidade Total:</span>\r\n        <p id=\"quantidade\">{pedidoTotal}</p>\r\n        </div>\r\n      </div>\r\n      {linhasDados}\r\n      <Button\r\n        style={{ marginTop: \"1.5rem\" }}\r\n        label=\"Observao\"\r\n        onClick={() => setDisplayModalObs(true)}\r\n        className=\"p-mr-2\"\r\n      />\r\n      <Button\r\n        style={{ marginTop: \"1.5rem\" }}\r\n        label=\"Adicionar\"\r\n        onClick={handleSubmit}\r\n      />\r\n      <Dialog\r\n        header=\"Observao Item\"\r\n        visible={displayModalObs}\r\n        onHide={() => setDisplayModalObs(false)}\r\n      >\r\n        <div>\r\n          <InputTextarea\r\n            rows={2}\r\n            cols={50}\r\n            value={observacaoItem}\r\n            onChange={(e) => setObservacaoItem(e.target.value)}\r\n          />\r\n        </div>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction LinhaDados(props) {\r\n  const handleChange = (valor, props, ordem) => {\r\n    if (valor == null) {\r\n      valor = 0;\r\n    }\r\n    props.setChangePedidoTotal(0);\r\n    let ped_prov = props.pedido;\r\n    let qtd_anterior = ped_prov[props.dados.cor][ordem];\r\n    ped_prov[props.dados.cor][ordem] = valor;\r\n    props.setPedido(ped_prov);\r\n    console.log(\"change\");\r\n    console.log(valor - qtd_anterior);\r\n    props.setChangePedidoTotal({\r\n      change: valor - qtd_anterior,\r\n      anterior: qtd_anterior,\r\n      novo: valor,\r\n    });\r\n    //props.setPedidoTotal(0)\r\n  };\r\n  const renderTamanhosGrid = (props) => {\r\n    let prods_tams = JSON.parse(props.produto.produto__tamanhos);\r\n    let tams = prods_tams.map((val) => (\r\n      <div\r\n        className=\"p-col-1\"\r\n        style={{ fontSize: 12, marginBottom: \"-.75rem\", marginLeft: \".25rem\" }}\r\n      >\r\n        {val}\r\n      </div>\r\n    ));\r\n    return tams;\r\n  };\r\n\r\n  const renderButtons = (props) => {\r\n    let elems = [];\r\n    if (Object.keys(props.pedido).length === 0) {\r\n      return elems.map((val) => val);\r\n    }\r\n    for (var idx in props.dados.qtds) {\r\n      let i = idx;\r\n\r\n      if (props.dados.liberacao) {\r\n        elems.push(\r\n          <div className=\"p-col-1 p-mt-4\">\r\n            <InputNumber\r\n              min={0}\r\n              id={props.dados.cor + i}\r\n              value={props.pedido[props.dados.cor][i]}\r\n              onValueChange={(e) => handleChange(e.value, props, i)}\r\n              mode=\"decimal\"\r\n              showButtons\r\n              buttonLayout=\"vertical\"\r\n              style={{ width: \"2.5em\" }}\r\n              decrementButtonClassName=\"p-button-secondary\"\r\n              incrementButtonClassName=\"p-button-secondary\"\r\n              incrementButtonIcon=\"pi pi-plus\"\r\n              decrementButtonIcon=\"pi pi-minus\"\r\n            />\r\n          </div>\r\n        );\r\n      } else {\r\n        elems.push(\r\n          <div className=\"p-col-1 p-mt-4\">\r\n            <span className=\"p-float-label\">\r\n              <InputNumber\r\n                max={props.dados.qtds[i]}\r\n                min={0}\r\n                id={props.dados.cor + i}\r\n                value={props.pedido[props.dados.cor][i]}\r\n                onValueChange={(e) => handleChange(e.value, props, i)}\r\n                mode=\"decimal\"\r\n                showButtons\r\n                buttonLayout=\"vertical\"\r\n                style={{ width: \"2.5em\" }}\r\n                decrementButtonClassName=\"p-button-secondary\"\r\n                incrementButtonClassName=\"p-button-secondary\"\r\n                incrementButtonIcon=\"pi pi-plus\"\r\n                decrementButtonIcon=\"pi pi-minus\"\r\n              />\r\n              <label htmlFor={props.dados.cor + i}>{props.dados.qtds[i]}</label>\r\n            </span>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    return elems.map((val) => val);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{ display: \"flex\", flexDirection: \"column\", marginTop: \"1rem\" }}\r\n    >\r\n      <div>\r\n        <div>\r\n          <b>{props.dados.cor + \" - \" + props.dados.desc_cor}</b>\r\n        </div>\r\n        <div>\r\n          <p style={{ fontSize: 12, marginBottom: \"-.1rem\" }}>\r\n            {props.dados.desc_liberacao}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div style={{ display: \"flex\", gap: \".25rem\" }}>\r\n          {renderTamanhosGrid(props)}\r\n        </div>\r\n        <div style={{ display: \"flex\", gap: \".25rem\" }}>\r\n          {renderButtons(props)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useProductSearch, useLocalStorage } from \"../requests/greenHooks.js\";\r\nimport CardProduto from \"./cardProduto.js\";\r\nimport \"primeflex/primeflex.css\";\r\nimport { Paginator } from \"primereact/paginator\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport \"./produtos.css\";\r\n\r\nexport default function Produtos(props) {\r\n  const [listItems, setListItems] = useState(<div></div>);\r\n  const [first, setFirst] = useState(0);\r\n  const [rows, setRows] = useState(12);\r\n  const [qtd, setQtd] = useState(0);\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n  const [colecao, setColecao] = useLocalStorage(\"colecao\", \"Todas\");\r\n  const [periodo, setPeriodo] = useLocalStorage(\"periodo\", \"Todos\");\r\n  const [orderBy, setOrderBy] = useLocalStorage(\"orderBy\", \"produto\");\r\n  const [clienteId] = useLocalStorage(\"clienteId\", null);\r\n  const [tamColuna, setTamColuna] = useLocalStorage(\"tamColuna\", 3);\r\n  const [classColuna, setclassColuna] = useState(\r\n    \"p-col-12 p-md-6 p-lg-\" + tamColuna\r\n  );\r\n  const [displayModal, setDisplayModal] = useState(false);\r\n  const [colecoesOptions] = useLocalStorage(\"colecoes\", []);\r\n  const [periodosOptions] = useLocalStorage(\"periodos\", []);\r\n\r\n  const tamColOptions = [2, 3, 4, 6, 12];\r\n  const orderByOptions = [\"produto\", \"estoque\", \"desconto\"];\r\n\r\n  const onClick = () => {\r\n    setDisplayModal(true);\r\n  };\r\n  const onHide = () => {\r\n    setDisplayModal(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Produtos\";\r\n  }, []);\r\n\r\n  //-------------------\r\n\r\n  const { produtos, isBarCode } = useProductSearch(\r\n    colecao,\r\n    periodo,\r\n    clienteId,\r\n    orderBy\r\n  );\r\n\r\n  console.log(isBarCode);\r\n\r\n  const handlePageChange = (event) => {\r\n    setFirst(event.first);\r\n    setRows(event.rows);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (\"lista\" in produtos) {\r\n      setQtd(produtos[\"lista\"].length);\r\n      const lista = produtos[\"lista\"].slice(first, first + rows);\r\n      let listItemsProv = <div className={classColuna}>Entrou</div>;\r\n      listItemsProv = lista.map((val, index) => (\r\n        <div className={classColuna}>\r\n          <CardProduto\r\n            produto={val}\r\n            isBarCode={isBarCode}\r\n            key={index}\r\n            periodo={periodo}\r\n            searchInput={props.searchInput}\r\n          ></CardProduto>\r\n        </div>\r\n      ));\r\n      setListItems(listItemsProv);\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }, [produtos, classColuna, first, rows, isBarCode]);\r\n\r\n  useEffect(() => {\r\n    setclassColuna(\"p-col-12 p-md-\" + tamColuna + \" p-lg-\" + tamColuna);\r\n  }, [tamColuna]);\r\n\r\n  return (\r\n    <div className=\"main\">\r\n        <div className=\"Filtros\"\r\n        >\r\n            <div>\r\n              <h3>Colecao</h3>\r\n              <Dropdown\r\n                id=\"dropdown\"\r\n                value={colecao}\r\n                options={colecoesOptions}\r\n                onChange={(e) => setColecao(e.value)}\r\n              />\r\n            </div>\r\n            <div>\r\n              <h3>Periodo</h3>\r\n              <Dropdown\r\n                id=\"dropdown\"\r\n                value={periodo}\r\n                options={periodosOptions}\r\n                onChange={(e) => setPeriodo(e.value)}\r\n              />\r\n            </div>\r\n            <div>\r\n              <h3>Ordenar por</h3>\r\n              <Dropdown\r\n                id=\"dropdown\"\r\n                value={orderBy}\r\n                options={orderByOptions}\r\n                onChange={(e) => setOrderBy(e.value)}\r\n              />\r\n            </div>\r\n            <div className=\"last\">\r\n              <h3>Tamanho</h3>\r\n              <Dropdown\r\n                id=\"dropdown\"\r\n                value={tamColuna}\r\n                options={tamColOptions}\r\n                onChange={(e) => setTamColuna(e.value)}\r\n              />\r\n          </div>\r\n      </div>\r\n      <div className=\"p-grid\">{listItems}</div>\r\n      <Paginator\r\n        first={first}\r\n        rows={rows}\r\n        totalRecords={qtd}\r\n        rowsPerPageOptions={[12, 24, 36]}\r\n        onPageChange={handlePageChange}\r\n      ></Paginator>\r\n    </div>\r\n  );\r\n}\r\n","import { InputNumber } from \"primereact/inputnumber\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { Messages } from \"primereact/messages\";\r\nimport { Card } from \"primereact/card\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport usePeriodos, { useLocalStorage } from \"../requests/greenHooks.js\";\r\nimport axios from \"axios\";\r\nimport \"primeflex/primeflex.css\";\r\nimport { api_address } from \"../proxy/proxy.js\";\r\nimport { InputTextarea } from \"primereact/inputtextarea\";\r\nimport { formatMoney } from \"../utils/utils.js\";\r\nimport { Chip } from \"primereact/chip\";\r\nimport \"./card.css\";\r\n\r\nexport default function CardProduto(props) {\r\n  let count = 0;\r\n  const [displayModal, setDisplayModal] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    setDisplayModal(props.isBarCode);\r\n  }, [props.isBarCode]);\r\n\r\n  const onClick = () => {\r\n    setDisplayModal(true);\r\n  };\r\n  const onHide = () => {\r\n    setDisplayModal(false);\r\n  };\r\n  let condicao;\r\n  let desconto;\r\n  if (props.produto.produto__desconto > 0) {\r\n    desconto =<div style={{display: 'flex', gap: 8}}>\r\n    <s>{formatMoney(props.produto.preco)}</s>\r\n      <span>{formatMoney(props.produto.preco - (props.produto.produto__desconto * props.produto.preco))}</span>\r\n    </div>\r\n  } else {\r\n    desconto = \"\";\r\n  }\r\n  return (\r\n    <div className=\"p-shadow-2 p-m-2\">\r\n      <Card className=\"card\">\r\n        <div\r\n          className=\"img\"\r\n          >\r\n        {props.produto.produto__desconto > 0 && \r\n        <div className=\"tag\"><p>\r\n          {\r\n            parseFloat(props.produto.produto__desconto * 100).toFixed() + '%'\r\n          }\r\n          </p>\r\n        </div>\r\n        }\r\n        <img\r\n          top\r\n          width=\"100%\"\r\n          src={props.produto.produto__url_imagem}\r\n          alt=\"Sem Imagem\"\r\n          onClick={() => {\r\n            onClick();\r\n          }}\r\n        />\r\n        </div>\r\n\r\n        <div className=\"header\">\r\n          <div>\r\n            <p id=\"p1\">{props.produto.produto__descricao}</p>\r\n            <p>{props.produto.produto__produto}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"cardIn\">\r\n          <Dialog\r\n            header={props.produto.produto__produto}\r\n            maximizable\r\n            visible={displayModal}\r\n            style={{ width: \"75vw\" }}\r\n            onHide={() => onHide()}\r\n          >\r\n            <div className=\"p-grid\">\r\n              <div className=\"p-col\">\r\n                <img\r\n                  top\r\n                  width=\"100%\"\r\n                  src={props.produto.produto__url_imagem}\r\n                  alt=\"Sem Imagem\"\r\n                />\r\n              </div>\r\n              <div className=\"p-col-fixed\" style={{ width: \"500px\" }}>\r\n                <TableProds\r\n                  isBarcode={props.isBarCode}\r\n                  searchInput={props.searchInput}\r\n                  onSave={onHide}\r\n                  produto={props.produto}\r\n                  periodo={props.periodo}\r\n                ></TableProds>\r\n              </div>\r\n            </div>\r\n          </Dialog>\r\n          {!(props.produto.dados_periodo == undefined) ? (\r\n            <div style={{ width: \"100%\" }}>\r\n              {props.produto.dados_periodo.map((e, key) => {\r\n                let tamanhos = JSON.parse(props.produto.produto__tamanhos);\r\n                condicao = props.produto.dados_periodo.map((a) =>\r\n                  a.qtds.reduce(function (soma, i) {\r\n                    return soma + i;\r\n                  })\r\n                );\r\n\r\n                if (count <= 0) {\r\n                  if (\r\n                    condicao.reduce(function (soma, i) {\r\n                      return soma + i;\r\n                    }) > 0\r\n                  ) {\r\n                    count++;\r\n                    return (\r\n                      <div key={key} className=\"disponivel\">\r\n                        <div>\r\n                          <strong>Disponvel</strong>\r\n                        </div>\r\n                        <div className=\"table\">\r\n                          {tamanhos.map((tam, index) => {\r\n                            return (\r\n                              <div>\r\n                                <span>{tam}</span>\r\n                                <p>\r\n                                  {props.produto.dados_periodo.reduce(\r\n                                    (accumulator, currentValue) =>\r\n                                      accumulator + currentValue.qtds[index],\r\n                                    0\r\n                                  )}\r\n                                </p>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n                }\r\n              })}\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction definePeriodo(isBarcode) {\r\n  if (isBarcode) {\r\n    return \"Pre-selecionados\";\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\nconst renderTamanhosGrid = (props) => {\r\n  let prods_tams = JSON.parse(props.produto.produto__tamanhos);\r\n  let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>);\r\n  return tams;\r\n};\r\nfunction TableProds(props) {\r\n  const [produto] = useState(props.produto);\r\n  const [periodo, setPeriodo] = useState(props.periodo);\r\n  const [pedido, setPedido] = useState({});\r\n  const [pedidoTotal, setPedidoTotal] = useState(0);\r\n  const [changePedidoTotal, setChangePedidoTotal] = useState({\r\n    change: 0,\r\n    anterior: 0,\r\n    novo: 0,\r\n  });\r\n  const [linhasDados, setLinhasDados] = useState(<div></div>);\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n  const [clienteId] = useLocalStorage(\"clienteId\", null);\r\n  const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\", null);\r\n  const [displayModalObs, setDisplayModalObs] = useState(false);\r\n  const [observacaoItem, setObservacaoItem] = useState(\"\");\r\n  const message = useRef(null);\r\n  const { dadosPeriodo } = usePeriodos(produto.produto__produto, periodo);\r\n\r\n  useEffect(() => {\r\n    let total = 0;\r\n    let order = {};\r\n    for (var index in dadosPeriodo) {\r\n      let item = dadosPeriodo[index];\r\n      let cor = item[\"cor\"];\r\n      let qtds = new Array(produto.produto__qtd_tamanhos).fill(0);\r\n      order[cor] = qtds;\r\n    }\r\n    setPedido(order);\r\n    setPedidoTotal(0);\r\n  }, [dadosPeriodo]);\r\n\r\n  useEffect(() => {\r\n    setPedidoTotal(pedidoTotal + changePedidoTotal[\"change\"]);\r\n  }, [changePedidoTotal]);\r\n\r\n  useEffect(() => {\r\n    if (periodo !== \"\") {\r\n      let tams = dadosPeriodo.map((val) => (\r\n        <LinhaDados\r\n          dados={val}\r\n          pedido={pedido}\r\n          produto={props.produto}\r\n          setPedido={setPedido}\r\n          setChangePedidoTotal={setChangePedidoTotal}\r\n        ></LinhaDados>\r\n      ));\r\n      setLinhasDados(tams);\r\n    }\r\n  }, [pedido, periodo]);\r\n\r\n  const renderTamanhosGrid = (props) => {\r\n    let prods_tams = JSON.parse(props.produto.produto__tamanhos);\r\n    let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>);\r\n    return tams;\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    let qtd_total = 0;\r\n    for (var index in pedido) {\r\n      let qtds_cor = pedido[index];\r\n      qtd_total = qtd_total + qtds_cor.reduce((a, b) => a + b, 0);\r\n    }\r\n    var data = {\r\n      produto: produto,\r\n      periodo: periodo,\r\n      qtds: pedido,\r\n      qtd_total: qtd_total,\r\n      clienteId: clienteId,\r\n      carrinhoId: carrinhoId,\r\n      observacao_item: observacaoItem,\r\n    };\r\n    var config = {\r\n      headers: { Authorization: \"Token \" + token },\r\n    };\r\n\r\n    console.log(data);\r\n    console.log(config[\"headers\"]);\r\n    if (qtd_total > 0) {\r\n      axios\r\n        .post(api_address + \"/carrinho/\", data, config)\r\n        .then((response) => {\r\n          if (response.data[\"confirmed\"]) {\r\n            props.onSave();\r\n            // message.current.show([\r\n            //     { severity: 'success', summary: response.data['message'], sticky: true }\r\n            // ])\r\n            setCarrinhoId(response.data[\"carrinhoId\"]);\r\n          } else {\r\n            message.current.show([\r\n              {\r\n                severity: \"error\",\r\n                summary: response.data[\"message\"],\r\n                sticky: true,\r\n              },\r\n            ]);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.message);\r\n        });\r\n    } else {\r\n      message.current.show([\r\n        {\r\n          severity: \"error\",\r\n          summary: \"Quantidade deve ser maior que 0\",\r\n          sticky: false,\r\n        },\r\n      ]);\r\n    }\r\n    props.searchInput.current.focus();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Messages ref={message} />\r\n      <div className=\"header\">\r\n        <Dropdown\r\n          placeholder=\"Selecione Perodo\"\r\n          id=\"dropdown\"\r\n          value={periodo}\r\n          options={JSON.parse(props.produto.produto__periodos)}\r\n          onChange={(e) => setPeriodo(e.value)}\r\n        />\r\n        <div className=\"chip\">\r\n        <span id=\"qtd\">Quantidade Total:</span>\r\n        <p id=\"quantidade\">{pedidoTotal}</p>\r\n        </div>\r\n      </div>\r\n      {linhasDados}\r\n      <Dialog\r\n        header=\"Observao Item\"\r\n        visible={displayModalObs}\r\n        onHide={() => setDisplayModalObs(false)}\r\n      >\r\n        <div>\r\n          <InputTextarea\r\n            rows={2}\r\n            cols={50}\r\n            value={observacaoItem}\r\n            onChange={(e) => setObservacaoItem(e.target.value)}\r\n          />\r\n        </div>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction LinhaDados(props) {\r\n  const handleChange = (valor, props, ordem) => {\r\n    if (valor == null) {\r\n      valor = 0;\r\n    }\r\n    props.setChangePedidoTotal(0);\r\n    let ped_prov = props.pedido;\r\n    let qtd_anterior = ped_prov[props.dados.cor][ordem];\r\n    ped_prov[props.dados.cor][ordem] = valor;\r\n    props.setPedido(ped_prov);\r\n    console.log(\"change\");\r\n    console.log(valor - qtd_anterior);\r\n    props.setChangePedidoTotal({\r\n      change: valor - qtd_anterior,\r\n      anterior: qtd_anterior,\r\n      novo: valor,\r\n    });\r\n    //props.setPedidoTotal(0)\r\n  };\r\n  const renderTamanhosGrid = (props) => {\r\n    let prods_tams = JSON.parse(props.produto.produto__tamanhos);\r\n    let tams = prods_tams.map((val) => (\r\n      <div\r\n        className=\"p-col-1\"\r\n        style={{ fontSize: 12, marginBottom: \"-.75rem\", marginLeft: \".25rem\" }}\r\n      >\r\n        {val}\r\n      </div>\r\n    ));\r\n    return tams;\r\n  };\r\n\r\n  const renderButtons = (props) => {\r\n    let elems = [];\r\n    if (Object.keys(props.pedido).length === 0) {\r\n      return elems.map((val) => val);\r\n    }\r\n    for (var idx in props.dados.qtds) {\r\n      let i = idx;\r\n\r\n      if (props.dados.liberacao) {\r\n        elems.push(\r\n          <div className=\"p-col-1 p-mt-4\">\r\n            <InputNumber\r\n              min={0}\r\n              id={props.dados.cor + i}\r\n              value={props.pedido[props.dados.cor][i]}\r\n              onValueChange={(e) => handleChange(e.value, props, i)}\r\n              mode=\"decimal\"\r\n              showButtons\r\n              buttonLayout=\"vertical\"\r\n              style={{ width: \"2.5em\" }}\r\n              decrementButtonClassName=\"p-button-secondary\"\r\n              incrementButtonClassName=\"p-button-secondary\"\r\n              incrementButtonIcon=\"pi pi-plus\"\r\n              decrementButtonIcon=\"pi pi-minus\"\r\n            />\r\n          </div>\r\n        );\r\n      } else {\r\n        elems.push(\r\n          <div className=\"p-col-1 p-mt-4\">\r\n            <span className=\"p-float-label\">\r\n              <InputNumber\r\n                max={props.dados.qtds[i]}\r\n                min={0}\r\n                id={props.dados.cor + i}\r\n                value={props.pedido[props.dados.cor][i]}\r\n                onValueChange={(e) => handleChange(e.value, props, i)}\r\n                mode=\"decimal\"\r\n                showButtons\r\n                buttonLayout=\"vertical\"\r\n                style={{ width: \"2.5em\" }}\r\n                decrementButtonClassName=\"p-button-secondary\"\r\n                incrementButtonClassName=\"p-button-secondary\"\r\n                incrementButtonIcon=\"pi pi-plus\"\r\n                decrementButtonIcon=\"pi pi-minus\"\r\n              />\r\n              <label htmlFor={props.dados.cor + i}>{props.dados.qtds[i]}</label>\r\n            </span>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    return elems.map((val) => val);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{ display: \"flex\", flexDirection: \"column\", marginTop: \"1rem\" }}\r\n    >\r\n      <div>\r\n        <div>\r\n          <b>{props.dados.cor + \" - \" + props.dados.desc_cor}</b>\r\n        </div>\r\n        <div>\r\n          <p style={{ fontSize: 12, marginBottom: \"-.1rem\" }}>\r\n            {props.dados.desc_liberacao}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div style={{ display: \"flex\", gap: \".25rem\" }}>\r\n          {renderTamanhosGrid(props)}\r\n        </div>\r\n        <div style={{ display: \"flex\", gap: \".25rem\" }}>\r\n          {renderButtons(props)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useProductSearchOnline, useLocalStorage } from \"../requests/greenHooks.js\";\r\nimport CardProduto from \"./cardProdutoOnline.js\";\r\nimport \"primeflex/primeflex.css\";\r\nimport { Paginator } from \"primereact/paginator\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport \"./produtos.css\";\r\n\r\nexport default function ProdutosOnline(props) {\r\n  const [listItems, setListItems] = useState(<div></div>);\r\n  const [first, setFirst] = useState(0);\r\n  const [rows, setRows] = useState(12);\r\n  const [qtd, setQtd] = useState(0);\r\n  const [periodo, setPeriodo] = useState(\"Imediato\");\r\n  const [tamColuna, setTamColuna] = useLocalStorage(\"tamColuna\", 3);\r\n  const [classColuna, setclassColuna] = useState(\r\n    \"p-col-12 p-md-6 p-lg-\" + tamColuna\r\n  );\r\n  const [displayModal, setDisplayModal] = useState(false);\r\n\r\n  const tamColOptions = [2, 3, 4, 6, 12];\r\n  const orderByOptions = [\"produto\", \"estoque\", \"desconto\"];\r\n\r\n  const onClick = () => {\r\n    setDisplayModal(true);\r\n  };\r\n  const onHide = () => {\r\n    setDisplayModal(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Produtos\";\r\n  }, []);\r\n\r\n  //-------------------\r\n\r\n  const { produtos, isBarCode } = useProductSearchOnline();\r\n\r\n  console.log(isBarCode);\r\n\r\n  const handlePageChange = (event) => {\r\n    setFirst(event.first);\r\n    setRows(event.rows);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (\"lista\" in produtos) {\r\n      setQtd(produtos[\"lista\"].length);\r\n      const lista = produtos[\"lista\"].slice(first, first + rows);\r\n      let listItemsProv = <div className={classColuna}>Entrou</div>;\r\n      listItemsProv = lista.map((val, index) => (\r\n        <div className={classColuna}>\r\n          <CardProduto\r\n            produto={val}\r\n            isBarCode={isBarCode}\r\n            key={index}\r\n            searchInput={props.searchInput}\r\n          ></CardProduto>\r\n        </div>\r\n      ));\r\n      setListItems(listItemsProv);\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }, [produtos, classColuna, first, rows, isBarCode]);\r\n\r\n  useEffect(() => {\r\n    setclassColuna(\"p-col-12 p-md-\" + tamColuna + \" p-lg-\" + tamColuna);\r\n  }, [tamColuna]);\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <div className=\"p-grid\">{listItems}</div>\r\n      <Paginator\r\n        first={first}\r\n        rows={rows}\r\n        totalRecords={qtd}\r\n        rowsPerPageOptions={[12, 24, 36]}\r\n        onPageChange={handlePageChange}\r\n      ></Paginator>\r\n    </div>\r\n  );\r\n}\r\n","import { InputNumber } from \"primereact/inputnumber\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { Messages } from \"primereact/messages\";\r\nimport { Card } from \"primereact/card\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport UsePeriodos, { useLocalStorage } from \"../requests/greenHooks.js\";\r\nimport axios from \"axios\";\r\nimport { confirmDialog } from \"primereact/confirmdialog\";\r\nimport { Panel } from \"primereact/panel\";\r\nimport \"primeflex/primeflex.css\";\r\nimport { api_address } from \"../proxy/proxy.js\";\r\nimport { InputTextarea } from \"primereact/inputtextarea\";\r\nimport { formatMoney } from \"../utils/utils.js\";\r\nimport { Chip } from \"primereact/chip\";\r\nimport \"./cardCarrinho.css\";\r\n\r\nexport default function CardCarrinho(props) {\r\n  const [displayModal, setDisplayModal] = useState(false);\r\n  const [token] = useLocalStorage(\"token\", null);\r\n  const [panelCollapsed, setPanelCollapsed] = useState(true);\r\n  const message = useRef(null);\r\n\r\n  const onClick = () => {\r\n    setDisplayModal(true);\r\n  };\r\n  const onHide = () => {\r\n    setDisplayModal(false);\r\n  };\r\n  const confirma_exclusao = () => {\r\n    confirmDialog({\r\n      message: \"Confirma a exclusao do produto?\",\r\n      header: \"Confirmacao\",\r\n      icon: \"pi pi-exclamation-triangle\",\r\n      acceptLabel: \"Sim\",\r\n      rejectLabel: \"Nao\",\r\n      accept: () => handleDelete(),\r\n    });\r\n  };\r\n\r\n  const updatePeriodo = (periodo_update) => {\r\n    console.log(periodo_update);\r\n    if (periodo_update !== \"\") {\r\n      let data = {\r\n        periodo: periodo_update,\r\n        produto: props.produto,\r\n      };\r\n      let config = {\r\n        headers: { Authorization: \"Token \" + token },\r\n      };\r\n      axios\r\n        .post(\r\n          api_address + \"/carrinho/update_periodo/\" + props.produto.id + \"/\",\r\n          data,\r\n          config\r\n        )\r\n        .then((response) => {\r\n          if (response.data[\"confirmed\"]) {\r\n            setPanelCollapsed(false);\r\n            props.forceUpdate();\r\n          } else {\r\n            message.current.show([\r\n              {\r\n                severity: \"error\",\r\n                summary: response.data[\"message\"],\r\n                sticky: false,\r\n              },\r\n            ]);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    axios({\r\n      method: \"GET\",\r\n      url: api_address + \"/carrinho/delete_item/\" + props.produto.id + \"/\",\r\n      headers: { Authorization: \"Token \" + token },\r\n    }).then((res) => {\r\n      props.forceUpdate();\r\n    });\r\n  };\r\n\r\n  const preco_desc = props.produto.preco - props.produto.desconto;\r\n  const preco_normal = props.produto.preco; //colocar linha cortando text\r\n  const header = (\r\n    <div>\r\n      <h4>\r\n        {props.produto.produto__descricao +\r\n          \" - \" +\r\n          props.produto.produto__produto}\r\n      </h4>\r\n      <p>\r\n        {\"Qtd: \" +\r\n          props.produto.qtd_item +\r\n          \" | Valor: \" +\r\n          formatMoney(props.produto.valor_item)}\r\n      </p>\r\n      {props.produto.desconto > 0 ? (\r\n        <div className=\"chip\">\r\n          <p>\r\n            <div style={{ display: \"flex\", gap: 8 }}>\r\n              <s>{formatMoney(preco_normal)}</s>\r\n              <span>\r\n                {formatMoney(preco_desc)}\r\n              </span>\r\n            </div>\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"chip\">\r\n          <p>{\"Preo: \" + formatMoney(props.produto.preco)}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n  const a = JSON.parse(props.produto.qtds);\r\n\r\n  console.log(props.produto);\r\n\r\n  return (\r\n    <div className=\"p-shadow-2 p-m-2\">\r\n\r\n      <Card>\r\n        {props.produto.desconto > 0 && <><div className=\"tag\">\r\n          <p>{((props.produto.desconto * 100)/preco_normal).toString().substring(0,2) +'%'}</p>\r\n          </div></>}\r\n        <Messages ref={message} />\r\n        <img\r\n          top\r\n          width=\"100%\"\r\n          src={props.produto.produto__url_imagem}\r\n          alt=\"Sem Imagem\"\r\n        />\r\n        <h4>{header}</h4>\r\n        <div className=\"p-grid btns\">\r\n          <Button label=\"Remover\" onClick={() => confirma_exclusao()} />\r\n          <Panel\r\n            header=\"Alterar\"\r\n            collapsed={panelCollapsed}\r\n            onToggle={(e) => setPanelCollapsed(e.value)}\r\n            toggleable\r\n          >\r\n            <div className=\"p-field p-col-12 p-md-4 p-mt-1\">\r\n              <span className=\"p-float-label\">\r\n                <Dropdown\r\n                  inputId=\"dropdown\"\r\n                  value={props.periodoAtual}\r\n                  options={JSON.parse(props.produto.periodos_alteracao)}\r\n                  onChange={(e) => updatePeriodo(e.value)}\r\n                />\r\n                <label htmlFor=\"dropdown\">Periodo</label>\r\n              </span>\r\n            </div>\r\n            <Button label=\"Alterar Quantidades\" onClick={() => onClick()} />\r\n          </Panel>\r\n        </div>\r\n        <div className=\"p-field p-col-12 p-md-3\">\r\n          <Dialog\r\n            header={props.produto.produto__produto}\r\n            maximizable\r\n            visible={displayModal}\r\n            style={{ width: \"75vw\" }}\r\n            onHide={() => onHide()}\r\n          >\r\n            <div className=\"p-grid\">\r\n              <div className=\"p-col\">\r\n                <img\r\n                  top\r\n                  width=\"100%\"\r\n                  src={props.produto.produto__url_imagem}\r\n                  alt=\"Sem Imagem\"\r\n                />\r\n              </div>\r\n              <div className=\"p-col-fixed\" style={{ width: \"500px\" }}>\r\n                <TableProds\r\n                  periodoAtual={props.periodoAtual}\r\n                  produto={props.produto}\r\n                  forceUpdate={props.forceUpdate}\r\n                  hideModal={onHide}\r\n                ></TableProds>\r\n              </div>\r\n            </div>\r\n          </Dialog>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\nfunction TableProds(props) {\r\n  const [produto] = useState(props.produto);\r\n  const [periodo] = useState(props.periodoAtual);\r\n  const [pedido, setPedido] = useState({});\r\n  const message = useRef(null);\r\n  const [linhasDados, setLinhasDados] = useState(<div></div>);\r\n  const [clienteId] = useLocalStorage(\"clienteId\", null);\r\n  const [carrinhoId] = useLocalStorage(\"carrinhoId\", null);\r\n  const [displayModalObs, setDisplayModalObs] = useState(false);\r\n  const [observacaoItem, setObservacaoItem] = useState(\r\n    props.produto.observacao_item\r\n  );\r\n  const [token] = useLocalStorage(\"token\", null);\r\n\r\n  const { dadosPeriodo } = UsePeriodos(produto.produto__produto, periodo);\r\n\r\n  useEffect(() => {\r\n    let [order, has_message] = calculatePedido(dadosPeriodo, produto);\r\n    setPedido(order);\r\n  }, [dadosPeriodo]);\r\n\r\n  useEffect(() => {\r\n    if (periodo !== \"\") {\r\n      let tams = dadosPeriodo.map((val) => (\r\n        <LinhaDados\r\n          dados={val}\r\n          pedido={pedido}\r\n          setPedido={setPedido}\r\n        ></LinhaDados>\r\n      ));\r\n      setLinhasDados(tams);\r\n    }\r\n  }, [pedido]);\r\n\r\n  const renderTamanhosGrid = () => {\r\n    let prods_tams = JSON.parse(produto.produto__tamanhos);\r\n    let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>);\r\n    return tams;\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    let qtd_total = 0;\r\n    for (var index in pedido) {\r\n      let qtds_cor = pedido[index];\r\n      qtd_total = qtd_total + qtds_cor.reduce((a, b) => a + b, 0);\r\n    }\r\n    var data = {\r\n      produto: produto,\r\n      qtds: pedido,\r\n      qtd_total: qtd_total,\r\n      clienteId: clienteId,\r\n      carrinhoId: carrinhoId,\r\n      observacao_item: observacaoItem,\r\n    };\r\n    var config = {\r\n      headers: { Authorization: \"Token \" + token },\r\n    };\r\n\r\n    axios\r\n      .post(\r\n        api_address + \"/carrinho/update_qtds/\" + produto.id + \"/\",\r\n        data,\r\n        config\r\n      )\r\n      .then((response) => {\r\n        if (response.data[\"confirmed\"]) {\r\n          message.current.show([\r\n            {\r\n              severity: \"success\",\r\n              summary: response.data[\"message\"],\r\n              sticky: true,\r\n            },\r\n          ]);\r\n          props.forceUpdate();\r\n          props.hideModal();\r\n        } else {\r\n          message.current.show([\r\n            {\r\n              severity: \"error\",\r\n              summary: response.data[\"message\"],\r\n              sticky: true,\r\n            },\r\n          ]);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Messages ref={message} />\r\n      <div className=\"p-grid\">\r\n        <div className=\"p-col\">TIPO</div>\r\n        <div className=\"p-col\">COR</div>\r\n        {renderTamanhosGrid()}\r\n      </div>\r\n      {linhasDados}\r\n      <Button\r\n        label=\"Observao\"\r\n        onClick={() => setDisplayModalObs(true)}\r\n        className=\"p-mr-2\"\r\n      />\r\n      <Dialog\r\n        header=\"Observao Item\"\r\n        visible={displayModalObs}\r\n        onHide={() => setDisplayModalObs(false)}\r\n      >\r\n        <div>\r\n          <InputTextarea\r\n            rows={2}\r\n            cols={50}\r\n            value={observacaoItem}\r\n            onChange={(e) => setObservacaoItem(e.target.value)}\r\n          />\r\n        </div>\r\n      </Dialog>\r\n      <Button label=\"Alterar\" onClick={handleSubmit} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction LinhaDados(props) {\r\n  const handleChange = (valor, props, ordem) => {\r\n    let ped_prov = props.pedido;\r\n    ped_prov[props.dados.cor][ordem] = valor;\r\n    props.setPedido(ped_prov);\r\n  };\r\n\r\n  const renderButtons = (props) => {\r\n    let elems = [];\r\n    if (Object.keys(props.pedido).length === 0) {\r\n      return elems.map((val) => val);\r\n    }\r\n    let values = [];\r\n    for (var idx in props.dados.qtds) {\r\n      let i = idx;\r\n\r\n      if (props.dados.liberacao) {\r\n        elems.push(\r\n          <div className=\"p-col-1 p-mt-4\">\r\n            <InputNumber\r\n              min={0}\r\n              id={props.dados.cor + i}\r\n              value={props.pedido[props.dados.cor][i]}\r\n              onValueChange={(e) => handleChange(e.value, props, i)}\r\n              mode=\"decimal\"\r\n              showButtons\r\n              buttonLayout=\"vertical\"\r\n              style={{ width: \"2.5em\" }}\r\n              decrementButtonClassName=\"p-button-secondary\"\r\n              incrementButtonClassName=\"p-button-secondary\"\r\n              incrementButtonIcon=\"pi pi-plus\"\r\n              decrementButtonIcon=\"pi pi-minus\"\r\n            />\r\n          </div>\r\n        );\r\n      } else {\r\n        elems.push(\r\n          <div className=\"p-col-1 p-mt-4\">\r\n            <span className=\"p-float-label\">\r\n              <InputNumber\r\n                max={props.dados.qtds[i]}\r\n                min={0}\r\n                id={props.dados.cor + i}\r\n                value={props.pedido[props.dados.cor][i]}\r\n                onValueChange={(e) => handleChange(e.value, props, i)}\r\n                mode=\"decimal\"\r\n                showButtons\r\n                buttonLayout=\"vertical\"\r\n                style={{ width: \"2.5em\" }}\r\n                decrementButtonClassName=\"p-button-secondary\"\r\n                incrementButtonClassName=\"p-button-secondary\"\r\n                incrementButtonIcon=\"pi pi-plus\"\r\n                decrementButtonIcon=\"pi pi-minus\"\r\n              />\r\n              <label htmlFor={props.dados.cor + i}>{props.dados.qtds[i]}</label>\r\n            </span>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return elems.map((val) => val);\r\n  };\r\n  return (\r\n    <div className=\"p-grid\">\r\n      <div className=\"p-col\">{props.dados.desc_liberacao}</div>\r\n      <div className=\"p-col\">\r\n        {props.dados.cor + \" - \" + props.dados.desc_cor}\r\n      </div>\r\n      {renderButtons(props)}\r\n    </div>\r\n  );\r\n}\r\n\r\n//FUNCOES AUXILIARES\r\n\r\n// function calculateOptionsPeriodos(produto,dadosPeriodo){\r\n//     // CALCULA OPCOES DE PERIODOS REMOVENDO A OPCAO DO PERIODO ATUAL e PRE-SELECIONADOS\r\n//     let periodos = JSON.parse(produto.produto__periodos)\r\n//     let index = periodos.indexOf(\"Pre-selecionados\");\r\n//     if (index > -1) {\r\n//         periodos.splice(index, 1);\r\n//     }\r\n//     return periodos\r\n// }\r\n\r\nfunction validaQtdsPedido(qtdAtual, qtdMaxima) {\r\n  let qtds = [];\r\n  let item_has_message = false;\r\n  for (var i in qtdAtual) {\r\n    let dif = qtdMaxima[i] - qtdAtual[i];\r\n    if (dif < 0) {\r\n      qtds.push(qtdMaxima[i]);\r\n      item_has_message = true;\r\n    } else {\r\n      qtds.push(qtdAtual[i]);\r\n    }\r\n  }\r\n  return [qtds, item_has_message];\r\n}\r\n\r\nfunction calculatePedido(dadosPeriodo, produto) {\r\n  let order = {};\r\n  let orderAtual = JSON.parse(produto.qtds);\r\n  let has_message = false;\r\n  for (var index in dadosPeriodo) {\r\n    let item = dadosPeriodo[index];\r\n    let cor = item[\"cor\"];\r\n    let qtds = new Array(produto.produto__qtd_tamanhos).fill(0);\r\n    if (cor in orderAtual) {\r\n      if (item[\"liberacao\"]) {\r\n        qtds = orderAtual[cor];\r\n      } else {\r\n        let [qtds_x, item_has_message] = validaQtdsPedido(\r\n          orderAtual[cor],\r\n          item[\"qtds\"]\r\n        );\r\n        qtds = qtds_x;\r\n        if (item_has_message) has_message = true;\r\n      }\r\n    }\r\n    order[cor] = qtds;\r\n  }\r\n  return [order, has_message];\r\n}\r\n","import React from \"react\";\r\nimport { useCartSearch,useLocalStorage } from '../requests/greenHooks.js'\r\nimport 'primeflex/primeflex.css';\r\nimport { useEffect, useState } from 'react'\r\nimport { Card } from 'primereact/card';\r\nimport './cardCarrinho.css'\r\nimport './carrinho.css'\r\n// import CardCarrinho from './cardCarrinho.js'\r\nimport CardCarrinho from './cardCarrinhoNovo.js'\r\nimport { Button } from 'primereact/button';\r\nimport axios from 'axios'\r\nimport { Dialog } from 'primereact/dialog'\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\nimport { InputSwitch } from 'primereact/inputswitch';\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { ToggleButton } from 'primereact/togglebutton';\r\nimport { SelectButton } from 'primereact/selectbutton';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport { Chip } from 'primereact/chip';\r\n\r\n\r\n\r\nexport default function Carrinho() {\r\n\r\n  const [listItems,setListItems] = useState(<div></div>)\r\n  const [counter,setCounter] = useState(0)\r\n  const [clienteId,setClienteId ] = useLocalStorage(\"clienteId\",null)\r\n  const [clienteNome,setClienteNome ] = useLocalStorage(\"clienteNome\",null)\r\n  const [carrinhoId,setCarrinhoId ] = useLocalStorage(\"carrinhoId\",null)\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n  const [isRep,setIsRep ] = useLocalStorage(\"isRep\",null)\r\n  const [displayModal, setDisplayModal] = useState(false)\r\n  const [tipoPedido, setTipoPedido] = useState(\"Real\")\r\n  const [tipoConta,] = useLocalStorage(\"tipoConta\",null)\r\n\r\n  const {\r\n    carrinho,\r\n    emptyMessage,\r\n    observacoes,\r\n    valorTotal,\r\n    qtdTotal,\r\n    razaoSocial\r\n  } = useCartSearch(counter,clienteId)\r\n\r\n  const [observacoesNovo,setObservacoesNovo] = useState(\"\")\r\n\r\n  const updateCounter = () => {\r\n    setCounter(prevCounter => prevCounter+1)\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Carrinho\"\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setObservacoesNovo(observacoes)\r\n  }, [observacoes])\r\n\r\n  useEffect(() => {\r\n    const lista = carrinho\r\n    let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\"></div>\r\n    if (lista.length>0){\r\n      listItemsProv = lista.map((val,index) => \r\n      <div className=\"p-col-12 p-md-12 p-lg-12\">\r\n        <CardPeriodo forceUpdate={updateCounter} periodoAtual={val.periodo} qtd_periodo={val.qtd_periodo}\r\n        valor_periodo={val.valor_periodo} itens={val.itens} key={index}></CardPeriodo>\r\n        </div>)\r\n    }\r\n    setListItems(listItemsProv)\r\n  }, [carrinho,emptyMessage,carrinhoId,counter])\r\n\r\n  const handleSave = () => {\r\n\r\n    if(tipoConta===\"visitante\"){\r\n      axios({\r\n        method: 'GET',\r\n        url: api_address+'/pedidos/gera_pdf/'+carrinhoId+'/',\r\n        headers: {'Authorization': 'Token '+token},        \r\n      }).then(res => {\r\n        if(res.data['confirmed']){\r\n          window.open(api_address+'/'+res.data['file'],'popUpWindow')\r\n          // window.location.href = \r\n        }else{\r\n          console.log(res.data)\r\n        }\r\n      })\r\n    }else{\r\n      let isTeste = false\r\n      if(tipoPedido === \"Teste\"){\r\n        isTeste = true\r\n      }\r\n      axios({\r\n          method: 'GET',\r\n          url: api_address+'/pedidos/salva/'+carrinhoId+'/',\r\n          headers: {'Authorization': 'Token '+token},\r\n          params:{\r\n            observacoes:observacoesNovo,\r\n            isTeste: isTeste\r\n          }\r\n          \r\n        }).then(res => {\r\n          if(res.data['confirmed']){\r\n            if(isRep){\r\n              setClienteId(null)\r\n              setClienteNome(null)\r\n              setCarrinhoId(null)\r\n            }else{\r\n              setCarrinhoId(null)\r\n            }\r\n            window.location.href = '/pedidos'\r\n          }else{\r\n            console.log(res.data)//Fazer Logica para mostrar mensagem de erro\r\n          }\r\n        })\r\n    }\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"carrinho\">\r\n    <p>{emptyMessage}</p>\r\n    <div className=\"chipGroup\">\r\n    <div className=\"chip\"><p>{\"Cliente: \"+razaoSocial}</p></div>\r\n    <div className=\"chip\"><p>{\"Quantidade Total: \"+qtdTotal}</p></div>\r\n    <div className=\"chip\"><p>{\"Valor Total: \"+formatMoney(valorTotal)}</p></div>\r\n    </div>\r\n    <Button label=\"Salvar\" onClick={() => setDisplayModal(true)} className=\"p-button-rounded p-mr-2\" />\r\n    <Dialog header=\"Observacoes\" visible={displayModal} onHide={()=>setDisplayModal(false)}>     \r\n      <div>\r\n          <InputTextarea rows={10} cols={50} value={observacoesNovo} onChange={(e) => setObservacoesNovo(e.target.value)} />\r\n      </div>\r\n      {/* <div>\r\n         <SelectButton value={tipoPedido} className=\"p-d-block p-mx-auto p-mt-2\" options={[\"Teste\",\"Real\"]} onChange={(e) => setTipoPedido(e.value)} />\r\n      </div> */}\r\n      <div>\r\n        <Button label=\"Salvar\" className=\"p-d-block p-mx-auto p-mt-2\" onClick={() => handleSave()} />\r\n      </div>\r\n\r\n\r\n      \r\n      \r\n    </Dialog>\r\n    <div className=\"p-grid\">{listItems}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nfunction CardPeriodo(props){\r\n  const lista = props.itens.slice()\r\n  let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\">Entrou</div>\r\n  listItemsProv = lista.map((val,index) => <div className=\"p-col-6 p-md-6 p-lg-2\">\r\n    <CardCarrinho periodoAtual={props.periodoAtual} forceUpdate={props.forceUpdate} produto={val} key={index}></CardCarrinho>\r\n    </div>)\r\n\r\n  return (\r\n    <Card>\r\n      <hr />\r\n      <h2>{props.periodoAtual}</h2>\r\n      <p>{\"Quantidade Periodo: \"+props.qtd_periodo + \" | Valor Periodo: \"+ formatMoney(props.valor_periodo)}</p>\r\n    <div className=\"p-grid\">\r\n      {listItemsProv}\r\n    </div>\r\n  </Card>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { InputNumber } from 'primereact/inputnumber';\r\nimport { useEffect, useState,useRef } from 'react'\r\nimport { Messages } from 'primereact/messages'\r\nimport { Card } from 'primereact/card';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport  UsePeriodos,{useLocalStorage }  from '../requests/greenHooks.js'\r\nimport { Chip } from 'primereact/chip';\r\n\r\nimport 'primeflex/primeflex.css';\r\n\r\nexport default function CardItemPedido(props) {\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n    const [token,] = useLocalStorage(\"token\",null)\r\n    const [panelCollapsed,setPanelCollapsed] = useState(true)\r\n    const message = useRef(null)\r\n\r\n\r\n    const onClick = () => {\r\n        setDisplayModal(true)\r\n    }\r\n    const onHide = () => {\r\n        setDisplayModal(false)\r\n    }\r\n\r\n\r\n    const preco_desc = props.produto.preco-props.produto.desconto\r\n    const preco_normal =  props.produto.preco//colocar linha cortando text\r\n    const header = <div>\r\n        <h4>{props.produto.produto__descricao + \" - \" + props.produto.produto__produto}</h4>\r\n        <p>{\"Qtd: \"+props.produto.qtd_item +\" | Valor: \"+ formatMoney(props.produto.valor_item) }</p>\r\n        <p>{\"Qtd Entregar: \"+props.produto.qtd_item_entregar}</p>\r\n        {props.produto.desconto>0 ?  <Chip label={\"Preo: De \"+formatMoney(preco_normal)+\" por R$\"+ formatMoney(preco_desc)} />  : <Chip label={\"Preo: \"+ formatMoney(props.produto.preco)} />  }\r\n        </div>\r\n\r\n    return (\r\n        <div className=\"p-shadow-2 p-m-2\">\r\n        <Card header={header}>\r\n            <Messages ref={message} />\r\n            <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n            <div className=\"p-grid\">\r\n            <Button label=\"Detalhes\" onClick={() => onClick()} className=\"p-mr-2\" />\r\n            </div>\r\n                <div className=\"p-field p-col-12 p-md-3\">\r\n\r\n                    <Dialog header={props.produto.produto__produto} maximizable visible={displayModal} style={{ width: '75vw' }} onHide={() => onHide()}>\r\n                        <div className=\"p-grid\">\r\n                            <div className=\"p-col\">\r\n                                <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n                            </div>\r\n                            <div className=\"p-col-fixed\" style={{ width: '500px'}}>\r\n                                <TableProds\r\n                                 periodoAtual={props.periodoAtual} produto={props.produto} \r\n                                 hideModal={onHide}>\r\n                                 </TableProds>\r\n                            </div>  \r\n                        </div>\r\n\r\n                    </Dialog>\r\n                </div>\r\n        </Card>\r\n        </div>\r\n        \r\n    )\r\n}\r\nfunction TableProds(props) {\r\n    const [produto, ] = useState(props.produto)\r\n    const [periodo, ] = useState(props.periodoAtual)\r\n    const [pedido, setPedido] = useState({})\r\n    const message = useRef(null)\r\n    const [linhasDados, setLinhasDados] = useState(<div></div>)    \r\n\r\n      useEffect(() => {\r\n          let map_list = calculatePedido(produto)\r\n          let pedido = JSON.parse(produto.qtds)\r\n        if (periodo !== ''){\r\n            console.log(pedido)\r\n            let tams = map_list.map((val) => <LinhaDados dados={val} pedido={pedido}></LinhaDados>)\r\n            setLinhasDados(tams)\r\n        }\r\n      }, [])  \r\n\r\n\r\n\r\n    const renderTamanhosGrid = () => {\r\n        let prods_tams = JSON.parse(produto.produto__tamanhos)\r\n        let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>)\r\n        return tams\r\n    }\r\n        \r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col\">COR</div>\r\n                {renderTamanhosGrid()}\r\n            </div>\r\n            {linhasDados}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nfunction LinhaDados(props){\r\n\r\n    const renderButtons = (props) => {\r\n        let elems = []\r\n        if(Object.keys(props.pedido).length === 0){\r\n            return elems.map((val) => val)\r\n        }\r\n        for (var idx in props.dados.qtds){\r\n\r\n            let i = idx\r\n\r\n            elems.push(\r\n            <div className=\"p-col-1 p-mt-4\">\r\n                    <InputNumber min={0} id={props.dados.cor+i} disabled={true}\r\n                    value={props.pedido[props.dados.cor][i]} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                    style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                    incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n            </div>\r\n            )\r\n        \r\n    }\r\n    return elems.map((val) => val)\r\n}\r\n \r\n    return (\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col\">{props.dados.cor}</div>\r\n            {renderButtons(props)}\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\nfunction calculatePedido(produto){\r\n    let order = {}\r\n    let orderAtual = JSON.parse(produto.qtds)\r\n    order = []\r\n    for(var key in orderAtual){\r\n        let order_item = {}\r\n        order_item['cor'] = key\r\n        order_item['qtds'] = orderAtual[key]\r\n        order.push(order_item)\r\n    }\r\n    return order\r\n}\r\n\r\n","import React from \"react\";\r\nimport { useCartSearch,useLocalStorage } from '../requests/greenHooks.js'\r\nimport 'primeflex/primeflex.css';\r\nimport { useEffect, useState } from 'react'\r\nimport { Card } from 'primereact/card';\r\n// import CardCarrinho from './cardCarrinho.js'\r\nimport CardItemPedido from './cardItemPedido.js'\r\nimport axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { Button } from 'primereact/button';\r\nimport { Chip } from 'primereact/chip';\r\nimport { formatMoney } from '../utils/utils.js';\r\n\r\n\r\nexport default function Pedido() {\r\n\r\n  const [listItems,setListItems] = useState(<div></div>)  \r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n\r\n  const [pedido,setPedido ] = useState([])\r\n  const [emptyMessage,setEmptyMessage ] = useState(null)\r\n  const [valorTotal,setValorTotal ] = useState(null)\r\n  const [qtdTotal,setQtdTotal ] = useState(null)\r\n  const [valorTotalEntregar,setValorTotalEntregar ] = useState(null)\r\n  const [qtdTotalEntregar,setQtdTotalEntregar ] = useState(null)\r\n  const [razaoSocial,setRazaoSocial ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Carrinho\"\r\n\r\n\r\n    const pathIdPedido = window.location.href\r\n    const idPedido = pathIdPedido.substring(pathIdPedido.lastIndexOf('/') + 1)\r\n\r\n    let url = api_address+'/pedido/'+idPedido\r\n    axios({\r\n      method: 'GET',\r\n      headers:{'Authorization': 'Token '+token},\r\n      url: url,\r\n    }).then(res => {\r\n      console.log(res.data)\r\n      if(res.data['confirmed']){\r\n        setPedido(res.data['dados'])\r\n        setRazaoSocial(res.data['razao_social'])\r\n        setEmptyMessage(res.data['message'])\r\n        setValorTotal(res.data['valor_total'])\r\n        setQtdTotal(res.data['qtd_total'])\r\n        setValorTotalEntregar(res.data['valor_total_entregar'])\r\n        setQtdTotalEntregar(res.data['qtd_total_entregar'])\r\n      }\r\n\r\n      console.log(res.data['dados'])\r\n    })\r\n\r\n    \r\n  \r\n  }, [])\r\n\r\n\r\n  useEffect(() => {\r\n    const lista = pedido\r\n    let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\"></div>\r\n    if (lista.length>0){\r\n      listItemsProv = lista.map((val,index) => \r\n      <div className=\"p-col-12 p-md-12 p-lg-12\">\r\n        <CardPeriodo periodoAtual={val.periodo} qtd_periodo={val.qtd_periodo} valor_periodo={val.valor_periodo}\r\n        qtd_periodo_entregar={val.qtd_periodo_entregar} valor_periodo_entregar={val.valor_periodo_entregar}\r\n        itens={val.itens} key={index}></CardPeriodo>\r\n        </div>)\r\n    }\r\n    setListItems(listItemsProv)\r\n  }, [pedido,emptyMessage])\r\n\r\n\r\n  return (\r\n    <>\r\n    <p>{emptyMessage}</p>\r\n    <Chip label={\"Cliente: \"+razaoSocial} />\r\n    <Chip label={\"Quantidade Total: \"+qtdTotal} />\r\n    <Chip label={\"Quantidade a Total Entregar: \"+qtdTotalEntregar} />\r\n    <Chip label={\"Valor Total: \"+formatMoney(valorTotal)} />\r\n    <Chip label={\"Valor Total a Entregar: \"+formatMoney(valorTotalEntregar)} />\r\n    {/* <Button className=\"p-button-secondary\" label={\"Cliente: \"+razaoSocial} disabled />\r\n    <Button className=\"p-button-secondary\" label={\"Valor Total: \"+formatMoney(valorTotal)} disabled />\r\n    <Button className=\"p-button-secondary\" label={\"Quantidade Total: \"+qtdTotal} disabled />  */}\r\n    \r\n    {/* <p>{\"Cliente: \"+razaoSocial + \" | Valor Total: \"+valorTotal+ \" | Quantidade Total: \"+qtdTotal}</p> */}\r\n    <div className=\"p-grid\">{listItems}</div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nfunction CardPeriodo(props){\r\n  console.log(props)\r\n  const lista = props.itens.slice()\r\n  let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\">Entrou</div>\r\n  listItemsProv = lista.map((val,index) => <div className=\"p-col-6 p-md-6 p-lg-2\">\r\n    <CardItemPedido periodoAtual={props.periodoAtual} produto={val} key={index}></CardItemPedido>\r\n    </div>)\r\n\r\n  return (\r\n    <Card title={props.periodoAtual}>\r\n    <p>{\"Quantidade Periodo: \"+props.qtd_periodo + \" | Valor Periodo: \"+ formatMoney(props.valor_periodo)}</p>\r\n    <p>{\"Quantidade Periodo a Entregar: \"+props.qtd_periodo_entregar + \" | Valor Periodo a Entregar: \"+ formatMoney(props.valor_periodo_entregar)}</p>\r\n    <div className=\"p-grid\">\r\n\r\n    {listItemsProv}\r\n    </div>\r\n  </Card>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Carousel } from 'primereact/carousel';\r\nimport { Button } from 'primereact/button';\r\nimport './trade.css';\r\nimport axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useCartSearch,useLocalStorage } from '../requests/greenHooks.js'\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\nimport 'primeflex/primeflex.css';\r\n\r\n\r\nconst SolicitacaoTrade = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [materials, setMaterials] = useState([]);\r\n    const [clientes, setClientes] = useState([]);\r\n    const [cliente, setCliente] = useState(null);\r\n    const [materialEscolhido, setMaterialEscolhido] = useState({});\r\n    const [materialOpcaoEscolhido, setMaterialOpcaoEscolhido] = useState({});\r\n    const [displayModalOpcao, setDisplayModalOpcao] = useState(false)\r\n    const [displayModalMaterial, setDisplayModalMaterial] = useState(false)\r\n    const [observacoes,setObservacoes] = useState(\"\")\r\n    const responsiveOptions = [\r\n        {\r\n            breakpoint: '1024px',\r\n            numVisible: 3,\r\n            numScroll: 3\r\n        },\r\n        {\r\n            breakpoint: '600px',\r\n            numVisible: 2,\r\n            numScroll: 2\r\n        },\r\n        {\r\n            breakpoint: '480px',\r\n            numVisible: 1,\r\n            numScroll: 1\r\n        }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        document.title = \"Greenish B2B | Trade Marketing\"\r\n        \r\n        let url = api_address+'/trade/get_materiais'\r\n        axios({\r\n          method: 'GET',\r\n          headers:{'Authorization': 'Token '+token},\r\n          url: url,\r\n        }).then(res => {\r\n          console.log(res.data)\r\n          if(res.data['confirmed']){\r\n            setMaterials(res.data['materiais'])\r\n            setClientes(res.data['clientes'])\r\n          }\r\n    \r\n          console.log(res.data['clientes'])\r\n        })\r\n    \r\n        \r\n      \r\n      }, [])\r\n\r\n\r\n    const handleSave = () => {\r\n\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/trade/salva_solicitacao',\r\n            headers: {'Authorization': 'Token '+token},\r\n            params:{\r\n            observacoes:observacoes,\r\n            clienteId: cliente.id,\r\n            materialOpcaoId:materialOpcaoEscolhido.id\r\n            }\r\n            \r\n        }).then(res => {\r\n            if(res.data['confirmed']){\r\n            window.location.href = '/trade/solicitacoes'\r\n            }else{\r\n            console.log(res.data)//Fazer Logica para mostrar mensagem de erro\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n    const setMaterial = (material) => {\r\n        setMaterialEscolhido(material)\r\n        setDisplayModalOpcao(true)\r\n    }\r\n\r\n    const setMaterialOpcao = (materialOpcao) => {\r\n        setMaterialOpcaoEscolhido(materialOpcao)\r\n        setDisplayModalOpcao(false)\r\n        setDisplayModalMaterial(false)\r\n    }\r\n\r\n    const materialTemplate = (material) => {\r\n        return (\r\n            <div className=\"product-item\">\r\n                <div className=\"product-item-content\">\r\n                    <div className=\"mb-3\">\r\n                        <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${material.imagem_material}`}  alt={material.descricao} className=\"product-image\" />\r\n                    </div>\r\n                    <div>\r\n                        <h4 className=\"mb-1\">{material.descricao}</h4>\r\n                        <h6 className=\"mt-0 mb-3\">{material.descricao_longa}</h6>\r\n                        <div className=\"car-buttons mt-5\">\r\n                            <Button icon=\"pi pi-pencil\" onClick={() => setMaterial(material)} className=\"p-button p-button-rounded mr-2\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const materialOpcaoTemplate = (materialOpcao) => {\r\n        return (\r\n            <div className=\"product-item\">\r\n                <div className=\"product-item-content\">\r\n                    <div className=\"mb-3\">\r\n                        <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${materialOpcao.imagem_material_opcao}`}  alt={materialOpcao.descricao} className=\"product-image\" />\r\n                    </div>\r\n                    <div>\r\n                        <h4 className=\"mb-1\">{materialOpcao.descricao_opcao}</h4>\r\n                        <h6 className=\"mt-0 mb-3\">{`Prazo de Envio: ${materialOpcao.prazo_envio} dias`}</h6>\r\n                        {/* <h6 className=\"mt-0 mb-3\">{materialOpcao.descricao_longa}</h6> */}\r\n                        <div className=\"car-buttons mt-5\">\r\n                            <Button icon=\"pi pi-pencil\" className=\"p-button p-button-rounded mr-2\" onClick={() => setMaterialOpcao(materialOpcao)}   />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n\r\n        <>\r\n\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col-12\">\r\n                <h4>Cliente</h4>\r\n                <Dropdown placeholder=\"Selecione Cliente\" id=\"dropdown\" value={cliente} options={clientes}\r\n                    onChange={(e) => setCliente(e.value) } optionLabel=\"razao_social\"/>\r\n            </div>\r\n            <div className=\"p-col-6\">\r\n                <h4 >Material: {materialEscolhido.descricao}</h4>\r\n                <div className=\"card\">\r\n                    <div className=\"p-grid\">\r\n                    <div className=\"p-col-12\">\r\n                        <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${materialOpcaoEscolhido.imagem_material_opcao}`}\r\n                            style={{ height: '200px'}}  alt={\"escolher\"} className=\"product-image\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"p-col-12\">\r\n                        <p >{materialEscolhido.descricao_longa}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"p-col-6\">\r\n            </div>\r\n            <div className=\"p-col-3\">\r\n            {materialOpcaoEscolhido.descricao_opcao==null ?\r\n             <Button label=\"Escolher Material\"  onClick={() => setDisplayModalMaterial(true)} /> \r\n              :\r\n               <Button label=\"Alterar Material\"  onClick={() => setDisplayModalMaterial(true)} />\r\n            }\r\n            </div>\r\n            <div className=\"p-col-9\">\r\n            </div>\r\n            <div className=\"p-col-12\">\r\n                <h4 >Observacoes</h4>\r\n                <InputTextarea rows={5} cols={100} value={observacoes} onChange={(e) => setObservacoes(e.target.value)} />\r\n            </div>\r\n        </div>\r\n\r\n\r\n            \r\n\r\n\r\n            <Dialog header={\"Escolha material\"}  visible={displayModalMaterial} style={{ width: '75vw' }} onHide={() => setDisplayModalMaterial(false)}>\r\n                <div className=\"carousel-demo\">\r\n\r\n                    <div className=\"card\">\r\n                        <Carousel value={materials} numVisible={2} numScroll={1} responsiveOptions={responsiveOptions} className=\"custom-carousel\" circular\r\n                            itemTemplate={materialTemplate} header={<h5>Teste</h5>} />\r\n                    </div>\r\n                </div>\r\n\r\n            </Dialog>\r\n\r\n\r\n            <Dialog header={\"Escolha opcao de material\"}  visible={displayModalOpcao} style={{ width: '75vw' }} onHide={() => setDisplayModalOpcao(false)}>\r\n                <div className=\"carousel-demo\">\r\n\r\n                    <div className=\"card\">\r\n                        <Carousel value={materialEscolhido.opcoes} numVisible={3} numScroll={1} responsiveOptions={responsiveOptions} className=\"custom-carousel\" circular\r\n                            itemTemplate={materialOpcaoTemplate} />\r\n                    </div>\r\n                </div>\r\n\r\n            </Dialog>\r\n\r\n\r\n\r\n\r\n        \r\n\r\n            <Button label=\"Salvar\" className=\"p-d-block p-mx-auto p-mt-2\" onClick={() => handleSave()} />\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport {SolicitacaoTrade}\r\n     ","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Carousel } from 'primereact/carousel';\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\n\r\n\r\nconst Solicitacoes = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [solicitacoes,setSolicitacoes] = useState([])\r\n    const [solicitacao,setSolicitacao] = useState({})\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n\r\n    const getSolicitacoes = () =>{\r\n        let url = api_address+'/trade/get_solicitacoes'\r\n        axios({\r\n            method: 'GET',\r\n            headers: {'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            console.log(res.data['solicitacoes'])\r\n            setSolicitacoes(res.data['solicitacoes'])\r\n        })\r\n    } \r\n\r\n    useEffect(() => {\r\n        getSolicitacoes()\r\n        document.title = \"Greenish B2B | Trade\"\r\n      }, [])\r\n\r\n    const acao_tabela = (rowData) => {\r\n        setSolicitacao(rowData)\r\n        setDisplayModal(true)\r\n    }\r\n\r\n    const imagensSolicitacaoTemplate = (imagem) => {\r\n        return (\r\n            <div className=\"product-item\">\r\n                <div className=\"product-item-content\">\r\n                    <div className=\"mb-3\">\r\n                        <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${imagem.imagem_solicitacao_trade}`}  alt={\"Sem Imagem\"} className=\"product-image\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                <Button label=\"Visualizar\" onClick={() => acao_tabela(rowData)} />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Dialog header={\"Detalhes Solicitacao\"} visible={displayModal} style={{ width: '75vw' }} onHide={() => setDisplayModal(false)}>\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col-6\">\r\n                    <h4 >Material: {solicitacao.material}</h4>\r\n                    <div className=\"card\">\r\n                        <div className=\"p-grid\">\r\n                        <div className=\"p-col-12\">\r\n                            <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${solicitacao.material_opcao_imagem}`}\r\n                                style={{ height: '200px'}}  alt={\"escolher\"} className=\"product-image\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"p-col-12\">\r\n                            <p >{solicitacao.material_descricao_longa}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"p-col-6\">\r\n                </div>\r\n            </div>\r\n            <h5>Observacoes</h5>\r\n            <InputTextarea value={solicitacao.observacoes} rows={5} cols={30} disabled />\r\n            <Carousel value={solicitacao.imagens} numVisible={3} numScroll={1} circular\r\n                itemTemplate={imagensSolicitacaoTemplate} header={<h5>Imagens</h5>} />\r\n        </Dialog>\r\n\r\n        <div>\r\n        <Button label=\"Fazer nova solicitacao\" onClick={() => window.location.href = '/trade/solicitacao'} className=\"p-button p-button-rounded mr-2\" />\r\n            <div className=\"card\">\r\n                <DataTable value={solicitacoes}>\r\n                    <Column field=\"cliente__razao_social\" header=\"Cliente\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column field=\"material\" header=\"Material\"></Column>\r\n                    <Column field=\"status\" header=\"Status\"></Column>     \r\n                    <Column field=\"data_solicitacao\" header=\"Data Solicitacao\"></Column>\r\n                    <Column field=\"previsao_envio\" header=\"Previsao Envio\"></Column>\r\n                    <Column body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default Solicitacoes","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\n\r\nimport React, { useState, useEffect,useRef } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages'\r\n\r\nconst Promocoes = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const message = useRef(null)\r\n    const [promocoes,setPromocoes] = useState([])\r\n\r\n  \r\n    useEffect(() => {\r\n        getPromocoes()\r\n        document.title = \"Greenish B2B | Promocoes\"\r\n      }, [])\r\n\r\n    const computaPromo = (id_promocao,id_condicao) =>{\r\n        let url = api_address+'/promocoes/'+carrinhoId\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers:{'Authorization': 'Token '+token},\r\n            params:{\r\n                id_promocao:id_promocao,\r\n                id_condicao:id_condicao\r\n              }\r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoo computada com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const removePromo = () =>{\r\n        let url = api_address+'/promocoes/remove/'+carrinhoId\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url, \r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoes Removidas com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const getPromocoes = () =>{\r\n        let url = api_address+'/promocoes'\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            setPromocoes(res.data['promocoes'])\r\n            console.log(res.data['promocoes'])\r\n        })\r\n    } \r\n\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        const elems = rowData.condicoes.slice()\r\n        let elems_html = elems.map((val,index) =>\r\n        <Button className=\"p-mr-2\" label={rowData.tipo_condicao+\" - \"+val.condicao} onClick={() => computaPromo(rowData.id_promocao,val.id)} />)\r\n        return (\r\n            <React.Fragment>\r\n                {elems_html}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"card\">\r\n                <DataTable value={promocoes}>\r\n                    <Column field=\"descricao\" header=\"Promocao\"></Column>\r\n                    <Column header=\"Acoes\" body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n            <Button className=\"p-d-block p-mx-auto p-mt-6\" label={\"Remover Promoes\"} onClick={() => removePromo()} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Promocoes","import {MyMenu} from './menu-home/menu.js'\r\nimport {Home} from './menu-home/home.js'\r\nimport Login from './menu-home/login.js'\r\nimport Clientes from './menu-home/clientes.js'\r\nimport Pedidos from './menu-home/pedidos.js'\r\nimport Promocoes from './menu-home/promocoes.js'\r\nimport Conta from './menu-home/conta.js'\r\nimport Produtos from './produtos/produtos.js'\r\nimport ProdutosOnline from './produtos/produtosOnline.js'\r\nimport Carrinho from './carrinho/carrinho.js'\r\nimport Pedido from './pedido/pedido.js'\r\nimport {SolicitacaoTrade} from './trade/solicitacaoTrade.js'\r\nimport Solicitacoes from './trade/solicitacoesTrade.js'\r\nimport DataTableBasicDemo from './tests/dataTableDemo.js'\r\n\r\nimport React, { useEffect, useRef,useState } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\n// class App extends React.Component {\r\n\r\n//   constructor(props) {\r\n//       super(props);\r\n//       this.state = {\r\n//       }\r\n//   }\r\n\r\n//   verificaLogin(){\r\n//     let loggedIn = JSON.parse(localStorage.getItem('loggedin'))\r\n//     if (loggedIn==null){\r\n//       loggedIn = false\r\n//     }\r\n//     return loggedIn\r\n//   }\r\n\r\n//   render(){\r\n//       const loggedIn = this.verificaLogin()\r\n\r\n      \r\n//       return(\r\n//           <div>\r\n//             <div>\r\n//             <Router>\r\n//               <div>\r\n//                 <nav>\r\n//                   <MyMenu loggedIn={loggedIn}></MyMenu>\r\n//                 </nav>\r\n\r\n//                 {/* A <Switch> looks through its children <Route>s and\r\n//                     renders the first one that matches the current URL. */}\r\n//                 <Switch>\r\n//                   <Route path=\"/login\" component={Login} />\r\n//                   <Route path=\"/clientes\" component={Clientes} />\r\n//                   <Route path=\"/pedidos\" component={Pedidos} />\r\n//                   <Route path=\"/promocoes\" component={Promocoes} />\r\n//                   <Route path=\"/conta\" component={Conta} />\r\n//                   <Route path=\"/carrinho\" component={Carrinho} />\r\n//                   <Route path=\"/trade/solicitacao\" component={SolicitacaoTrade} />\r\n//                   <Route path=\"/trade\" component={Solicitacoes} />\r\n//                   <Route path=\"/busca\" component={Produtos} />\r\n//                   <Route path=\"/teste\" component={DataTableBasicDemo} />\r\n//                   <Route path=\"/pedido/:idPedido\" component={Pedido} />\r\n//                   <Route path=\"/:linha/:categoria/:subcategoria\">\r\n//                     {loggedIn ? <Produtos />  :  <Redirect to=\"/login\"/>}\r\n//                   </Route>                  \r\n//                   {/* <Route path=\"/:linha/:categoria/:subcategoria\" component={Produtos} /> */}\r\n//                   <Route path=\"/:linha/:categoria\">\r\n//                     {loggedIn ? <Produtos /> :   <Redirect to=\"/login\"/> }\r\n//                   </Route>   \r\n//                   <Route path='/' component={Home}/>\r\n//                 </Switch>\r\n//               </div>\r\n//             </Router>             \r\n//             </div>\r\n//           </div>\r\n//       )\r\n//   }\r\n\r\n\r\n// }\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const verificaLogin = () =>{\r\n    let loggedIn = JSON.parse(localStorage.getItem('loggedin'))\r\n    if (loggedIn==null){\r\n      loggedIn = false\r\n    }\r\n    return loggedIn\r\n    }\r\n\r\n\r\n  const [loggedIn, setLoggedIn] = useState(verificaLogin());\r\n  const searchInput = useRef(null)\r\n\r\n\r\n\r\n      \r\n      return(\r\n          <div>\r\n            <div>\r\n            <Router>\r\n              <div>\r\n                <nav>\r\n                  <MyMenu searchInput={searchInput} loggedIn={loggedIn}></MyMenu>\r\n                </nav>\r\n\r\n                {/* A <Switch> looks through its children <Route>s and\r\n                    renders the first one that matches the current URL. */}\r\n                <Switch>\r\n                  <Route path=\"/login\" component={Login} />\r\n                  <Route path=\"/clientes\" component={Clientes} />\r\n                  <Route path=\"/pedidos\" component={Pedidos} />\r\n                  <Route path=\"/promocoes\" component={Promocoes} />\r\n                  <Route path=\"/conta\" component={Conta} />\r\n                  <Route path=\"/carrinho\" component={Carrinho} />\r\n                  <Route path=\"/trade/solicitacao\" component={SolicitacaoTrade} />\r\n                  <Route path=\"/trade\" component={Solicitacoes} />\r\n                  <Route path=\"/busca\" >\r\n                    <Produtos searchInput={searchInput} />\r\n                  </Route>   \r\n                  <Route path=\"/teste\" component={DataTableBasicDemo} />\r\n                  <Route path=\"/pedido/:idPedido\" component={Pedido} />\r\n                  <Route path=\"/online\" component={ProdutosOnline} />\r\n                  <Route path=\"/:linha/:categoria/:subcategoria\">\r\n                    {loggedIn ? <Produtos searchInput={searchInput} />  :  <Redirect to=\"/login\"/>}\r\n                  </Route>                  \r\n                  {/* <Route path=\"/:linha/:categoria/:subcategoria\" component={Produtos} /> */}\r\n                  <Route path=\"/:linha/:categoria\">\r\n                    {loggedIn ? <Produtos searchInput={searchInput} /> :   <Redirect to=\"/login\"/> }\r\n                  </Route>   \r\n                  <Route path='/' component={Home}/>\r\n                </Switch>\r\n              </div>\r\n            </Router>             \r\n            </div>\r\n          </div>\r\n      )\r\n  }\r\n\r\n\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'primereact/resources/themes/saga-blue/theme.css'\r\nimport 'primereact/resources/primereact.min.css'\r\nimport 'primeicons/primeicons.css'\r\n\r\nimport ReactGA from \"react-ga4\";\r\n\r\nReactGA.initialize(\"G-XGGNKTY87X\")\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}