{"version":3,"sources":["proxy/proxy.js","requests/greenHooks.js","menu-home/menu.js","menu-home/home.js","menu-home/login.js","menu-home/clientes.js","menu-home/pedidos.js","menu-home/promocoes.js","menu-home/conta.js","produtos/cardProduto.js","produtos/produtos.js","carrinho/cardCarrinhoNovo.js","carrinho/carrinho.js","tests/dataTableDemo.js","App.js","reportWebVitals.js","index.js"],"names":["api_address","useLocalStorage","key","initialValue","useState","savedValue","JSON","parse","localStorage","getItem","e","getSavedValue","value","setValue","useEffect","setItem","stringify","usePeriodos","produto","periodo","periodo_atual","dadosPeriodo","setDadosPeriodo","token","params","axios","method","headers","url","then","res","data","MenuPerfil","menu","useRef","username","items_perfil","label","icon","push","items","model","popup","ref","id","onClick","event","current","toggle","aria-controls","aria-haspopup","MyMenu","props","query","setQuery","start","href","alt","src","height","className","end","loggedIn","onChange","target","length","test","preventDefault","window","location","placeholder","type","Home","state","banners","this","updateBanners","document","title","setState","console","log","banners_html","slice","map","val","index","img","React","Component","Login","login","setLogin","senha","setSenha","setToken","setLoggedin","setClienteId","setClienteNome","setIsRep","setUsername","setCarrinhoId","setCategorias","setColecoes","setPeriodos","message","htmlFor","feedback","FormData","append","post","response","config","get","catch","err","show","severity","summary","sticky","handleSubmit","Clientes","clientes","setClientes","carrinhoId","altera_cliente","nome","field","header","filter","filterPlaceholder","body","rowData","Fragment","confirmDialog","acceptLabel","rejectLabel","accept","confirma_alteracao","Pedidos","pedidos","setPedidos","carrinhoAtualId","displayModal","setDisplayModal","isRep","getPedidos","alterar_pedido","carrrinhoId","visible","onHide","valor_total","toLocaleString","style","currency","moment","data_criacao","format","liberado_rep","enviado_fabrica","is_teste","cliente__id","cliente__nome","liberado_cliente","processar","Promocoes","promocoes","setPromocoes","getPromocoes","elems_html","condicoes","tipo_condicao","condicao","id_promocao","id_condicao","computaPromo","removePromo","Conta","senhaAtual","setSenhaAtual","senhaNova1","setSenhaNova1","senhaNova2","setSenhaNova2","displayModalSenha","setDisplayModalSenha","clear","changePassword","handleLogout","CardProduto","produto__descricao","produto__produto","produto__linha","preco","top","width","produto__url_imagem","maximizable","TableProds","setPeriodo","pedido","setPedido","linhasDados","setLinhasDados","clienteId","order","cor","qtds","Array","produto__qtd_tamanhos","fill","tams","LinhaDados","dados","options","produto__periodos","produto__tamanhos","renderTamanhosGrid","qtd_total","reduce","a","b","error","handleChange","valor","ordem","ped_prov","desc_liberacao","desc_cor","elems","Object","keys","i","idx","liberacao","min","onValueChange","mode","showButtons","buttonLayout","decrementButtonClassName","incrementButtonClassName","incrementButtonIcon","decrementButtonIcon","max","renderButtons","Produtos","listItems","setListItems","first","setFirst","rows","setRows","qtd","setQtd","colecao","setColecao","tamColuna","setTamColuna","classColuna","setclassColuna","colecoesOptions","periodosOptions","produtos","setProdutos","useLocation","values","queryString","search","pathname","colecao_busca","periodo_busca","useProductSearch","listItemsProv","lista","scrollTo","totalRecords","rowsPerPageOptions","onPageChange","CardCarrinho","panelCollapsed","setPanelCollapsed","handleDelete","forceUpdate","preco_desc","desconto","preco_normal","qtd_item","valor_item","collapsed","onToggle","toggleable","inputId","periodoAtual","periodos_alteracao","periodo_update","updatePeriodo","hideModal","UsePeriodos","orderAtual","has_message","item","validaQtdsPedido","calculatePedido","qtdAtual","qtdMaxima","item_has_message","Carrinho","counter","setCounter","clienteNome","tipoPedido","setTipoPedido","carrinho","setCarrinho","valorTotal","setValorTotal","qtdTotal","setQtdTotal","observacoes","setObservacoes","emptyMessage","setEmptyMessage","useCartSearch","observacoesNovo","setObservacoesNovo","updateCounter","prevCounter","CardPeriodo","qtd_periodo","valor_periodo","itens","cols","isTeste","handleSave","App","verificaLogin","path","component","DataTableBasicDemo","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0eba33ca.chunk.js","sourcesContent":["// export const api_address = \"http://192.168.18.139:8000\"\r\n// export const api_address = \"http://vendas.greenish.com.br:8080\"\r\n// export const api_address = \"http://127.0.0.1:8000\"\r\nexport const api_address = \"https://greencomapi.azurewebsites.net\"","import { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { useLocation } from 'react-router-dom'\r\nimport queryString from 'query-string'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\n\r\nfunction getSavedValue(key,initialValue){\r\n  let savedValue = false\r\n  try{\r\n    savedValue= JSON.parse(localStorage.getItem(key))\r\n  }catch (e){\r\n    savedValue = false\r\n  }\r\n  \r\n  if (savedValue) return savedValue\r\n\r\n  return initialValue\r\n  }\r\n\r\nexport function useLocalStorage(key,initialValue){\r\n  const [value,setValue] = useState(() => {return getSavedValue(key,initialValue)})\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key,JSON.stringify(value))\r\n  },[value])\r\n\r\n  return [value,setValue]\r\n}\r\n\r\n\r\nexport function useProductSearch(colecao,periodo,clienteId) {\r\n    const [produtos, setProdutos] = useState({})\r\n    const location = useLocation()\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n      \r\n    useEffect(() => {\r\n      const values = queryString.parse(window.location.search) //busca get parameters\r\n      let url = api_address+location.pathname+'/'\r\n      let colecao_busca = colecao\r\n      if (colecao_busca === \"Todas\")colecao_busca = null\r\n      let periodo_busca = periodo\r\n      if (periodo_busca === \"Todos\")periodo_busca = null \r\n      \r\n      axios({\r\n        method: 'GET',\r\n        url: url,\r\n        headers:{'Authorization': 'Token '+token},\r\n        params:{\r\n          query:values.query,\r\n          colecao:colecao_busca,\r\n          periodo:periodo_busca,\r\n          \"clienteId\":clienteId\r\n        }\r\n      }).then(res => {\r\n        setProdutos(res.data)\r\n      })\r\n    }, [location,colecao,periodo,clienteId])\r\n    return { produtos }\r\n}\r\n\r\nexport default function usePeriodos(produto,periodo,periodo_atual=null) {\r\n  const [dadosPeriodo, setDadosPeriodo] = useState([])\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n    \r\n  useEffect(() => {\r\n    let url = api_address+'/periodos'\r\n    if(periodo !== ''){\r\n      let params = {\r\n        produto:produto,\r\n        periodo:periodo\r\n      }\r\n      axios({\r\n        method: 'GET',\r\n        headers:{'Authorization': 'Token '+token},\r\n        url: url,\r\n        params:params\r\n      }).then(res => {\r\n        setDadosPeriodo(res.data['dados'])\r\n      })\r\n    }\r\n\r\n  }, [produto,periodo,periodo_atual])\r\n  return { dadosPeriodo }\r\n}\r\n\r\nexport function useCartSearch(counter,clienteId) {\r\n  const [carrinho, setCarrinho] = useState([])\r\n  const [valorTotal, setValorTotal] = useState(0)\r\n  const [qtdTotal, setQtdTotal] = useState(0)\r\n  const [observacoes, setObservacoes] = useState(\"\")\r\n  const [emptyMessage, setEmptyMessage] = useState(null)\r\n  const [carrinhoId,setCarrinhoId ] = useLocalStorage(\"carrinhoId\",null)\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n    \r\n  useEffect(() => {\r\n    let url = api_address+'/carrinho'\r\n    let params = {\r\n      carrinhoId:carrinhoId,\r\n      clienteId:clienteId\r\n    }\r\n    axios({\r\n      method: 'GET',\r\n      headers:{'Authorization': 'Token '+token},\r\n      url: url,\r\n      params:params\r\n    }).then(res => {\r\n      if(res.data['confirmed']){\r\n        setCarrinhoId(res.data['carrinhoId'])\r\n      }\r\n      setCarrinho(res.data['dados'])\r\n      setObservacoes(res.data['observacoes'])\r\n      setEmptyMessage(res.data['message'])\r\n      setValorTotal(res.data['valor_total'])\r\n      setQtdTotal(res.data['qtd_total'])\r\n      \r\n    })\r\n\r\n  },[counter,carrinhoId,observacoes,valorTotal,qtdTotal])\r\n\r\n  return { carrinho, emptyMessage,observacoes,valorTotal,qtdTotal }\r\n}\r\n\r\nexport function useFilterOptions() {\r\n  const [colecoes, setColecoes] = useState([])\r\n  const [periodos, setPeriodos] = useState([])\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n    \r\n  useEffect(() => {\r\n    let url = api_address+'/filterOptions'\r\n    axios({\r\n      method: 'GET',\r\n      headers:{'Authorization': 'Token '+token},\r\n      url: url,\r\n    }).then(res => {\r\n      console.log(res.data)\r\n      setColecoes(res.data['colecoes'])\r\n      setPeriodos(res.data['periodos'])\r\n    })\r\n\r\n  },[colecoes,periodos])\r\n\r\n  return { colecoes, periodos }\r\n}\r\n\r\nexport function useClients() {\r\n  const [clientes, setClientes] = useState([])\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n    \r\n  useEffect(() => {\r\n    let url = api_address+'/clientes'\r\n    axios({\r\n      method: 'GET',\r\n      headers:{'Authorization': 'Token '+token},\r\n      url: url,\r\n    }).then(res => {\r\n      console.log(res.data)\r\n      setClientes(res.data['clientes'])\r\n    })\r\n\r\n  },[])\r\n\r\n  return { clientes }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n  ","import React, { useState,useRef }  from 'react';\r\nimport { Menubar } from 'primereact/menubar';\r\nimport { Menu } from 'primereact/menu';\r\nimport { Button } from 'primereact/button';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport axios from 'axios'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\n//Menu com dropdown para pedidos,clientes e etc\r\nconst MenuPerfil = () => {\r\n    const menu = useRef(null);\r\n    const [username, ] = useLocalStorage(\"username\",null)\r\n    const [isRep, ] = useLocalStorage(\"isRep\",null)\r\n    \r\n    let items_perfil = [\r\n            {\r\n                label: 'Conta',\r\n                icon: 'pi pi-user',\r\n                url: '/conta'\r\n            },\r\n            {\r\n                label: 'Pedidos',\r\n                icon: 'pi pi-upload',\r\n                url: '/pedidos'\r\n            },\r\n\r\n        ]\r\n        if (isRep){\r\n            items_perfil.push({\r\n                label: 'Promocoes',\r\n                icon: 'pi pi-external-link',\r\n                url: '/promocoes'\r\n            })\r\n            items_perfil.push({\r\n                label: 'Clientes',\r\n                icon: 'pi pi-external-link',\r\n                url: '/clientes'\r\n            })\r\n\r\n        }    \r\n    const items = [\r\n        {   \r\n            label:username,\r\n            items: items_perfil\r\n        }\r\n    ]\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <Menu model={items} popup ref={menu} id=\"popup_menu\" />\r\n            <Button icon=\"pi pi-user\" onClick={(event) => menu.current.toggle(event)} aria-controls=\"popup_menu\" aria-haspopup />\r\n        </>\r\n    );\r\n}\r\n\r\n\r\n// export class MyMenu extends React.Component {\r\n//     constructor(props) {\r\n//       super(props)\r\n        \r\n//       this.state = {\r\n//           items: [],\r\n//           query: '',\r\n//           lastUpdate: 1623533795696,\r\n//           displayModal : true\r\n//         }\r\n//     }\r\n  \r\n//     componentDidMount() {\r\n//       this.updateCats();\r\n//     }\r\n\r\n//     handleSearch = (e) =>{\r\n//         if (this.state.query !== ''){\r\n//             e.preventDefault()\r\n//             window.location = '/busca?query='+this.state.query\r\n//             this.setState({query: ''})\r\n//         }\r\n\r\n//     }\r\n//     handleChangeSearch = (e) =>{\r\n//         //Faz submit automaticamente na busca caso seja codigo de barras\r\n//         this.setState({query: e.target.value})\r\n//         if (e.target.value.length >= 13 && /^\\d+$/.test(e.target.value)){\r\n//             e.preventDefault()\r\n//             console.log(this.state.query)\r\n//             window.location = '/busca?query='+e.target.value\r\n//             this.setState({query: ''})\r\n//         }\r\n\r\n//     }\r\n  \r\n//     updateCats() {\r\n//         let intervalo = 900000\r\n//         let agora = Date.now()\r\n//         let diferenca = agora-this.state.lastUpdate\r\n        \r\n//         if(diferenca>intervalo){\r\n//             this.setState({lastUpdate: agora})\r\n//             let url = api_address+'/categorias'  \r\n//             axios({\r\n//               method: 'GET',\r\n//               url: url,\r\n//               headers: {'Authorization': 'Token '+localStorage.getItem('token')}\r\n//             }).then(res => {\r\n//               this.setState({items: res.data})\r\n//             })\r\n//         }\r\n\r\n//     }\r\n  \r\n//     render() {\r\n//         const items = this.state.items\r\n//         const start = <a href=\"/\"><img alt=\"logo\" src=\"https://ondasstr092020.blob.core.windows.net/modelo/logo.png\" height=\"40\" className=\"p-mr-2\"></img></a>\r\n//         //Mostra lateral do menu apenas para usuario logado\r\n//         let end = <a href=\"/login\">Login</a>\r\n//         if(this.props.loggedIn){\r\n            \r\n//             end = <> \r\n//             <InputText onChange={this.handleChangeSearch} placeholder=\"Buscar\" type=\"text\" />\r\n//             <Button onClick={this.handleSearch} icon=\"pi pi-search\" className=\"p-button-rounded p-button-secondary\" />\r\n//             <Button icon=\"pi pi-shopping-cart\" onClick={(e) => window.location.href=\"/carrinho\"} aria-controls=\"popup_menu\" aria-haspopup />\r\n//             <MenuPerfil></MenuPerfil>\r\n//             </>\r\n//         }\r\n//         return (\r\n//             <div>\r\n//                 <div className=\"card\">\r\n//                     <Menubar model={items} start={start} end={end} />\r\n//                 </div>\r\n\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n\r\nexport function MyMenu(props){\r\n    const [items,] = useLocalStorage(\"categorias\",[])\r\n    const [query,setQuery] = useState('')\r\n\r\n    const handleSearch = (e) =>{\r\n        if (query !== ''){\r\n            e.preventDefault()\r\n            window.location = '/busca?query='+query\r\n            setQuery('')\r\n        }\r\n\r\n    }\r\n    const handleChangeSearch = (e) =>{\r\n        //Faz submit automaticamente na busca caso seja codigo de barras\r\n        setQuery(e.target.value)\r\n        if (e.target.value.length >= 13 && /^\\d+$/.test(e.target.value)){\r\n            e.preventDefault()\r\n            window.location = '/busca?query='+e.target.value\r\n            setQuery('')\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const start = <a href=\"/\"><img alt=\"logo\" src=\"https://ondasstr092020.blob.core.windows.net/modelo/logo.png\" height=\"40\" className=\"p-mr-2\"></img></a>\r\n    //Mostra lateral do menu apenas para usuario logado\r\n    let end = <a href=\"/login\">Login</a>\r\n    if(props.loggedIn){\r\n        \r\n        end = <> \r\n        <InputText onChange={handleChangeSearch} placeholder=\"Buscar\" type=\"text\" />\r\n        <Button onClick={handleSearch} icon=\"pi pi-search\" className=\"p-button-rounded p-button-secondary\" />\r\n        <Button icon=\"pi pi-shopping-cart\" onClick={(e) => window.location.href=\"/carrinho\"} aria-controls=\"popup_menu\" aria-haspopup />\r\n        <MenuPerfil></MenuPerfil>\r\n        </>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"card\">\r\n                <Menubar model={items} start={start} end={end} />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\n\r\nexport class Home extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n        \r\n      this.state = {\r\n          banners: [],\r\n        }\r\n    }\r\n  \r\n    componentDidMount() {\r\n      this.updateBanners();\r\n      document.title = \"Greenish B2B\"\r\n    }  \r\n    updateBanners() {\r\n\r\n        let url = api_address+'/home'\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n        }).then(res => {\r\n            this.setState({banners: res.data['banners']})\r\n            console.log(this.state.banners)\r\n        })\r\n    }\r\n  \r\n    render() {\r\n        const lista = this.state.banners.slice()\r\n        let banners_html = lista.map((val,index) => <a href={val.url}><img src={val.img}></img></a>)\r\n        return (\r\n            <div>\r\n                {banners_html}\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {  useState,useEffect,useRef } from 'react'\r\nimport { Button } from 'primereact/button'\r\nimport { InputText } from 'primereact/inputtext'\r\nimport {Password} from 'primereact/password';\r\nimport axios from 'axios'\r\nimport Cookies from 'js-cookie'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { Messages } from 'primereact/messages'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\nexport default function Login(props){\r\n\r\n    const [login,setLogin] = useState(\"\")\r\n    const [senha,setSenha] = useState(\"\")\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [,setLoggedin] = useLocalStorage(\"loggedin\",null)\r\n    const [,setClienteId] = useLocalStorage(\"clienteId\",null)\r\n    const [,setClienteNome] = useLocalStorage(\"clienteNome\",null)\r\n    const [isRep,setIsRep] = useLocalStorage(\"isRep\",null)\r\n    const [,setUsername] = useLocalStorage(\"username\",null)\r\n    const [,setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const [,setCategorias] = useLocalStorage(\"categorias\",[])\r\n    const [,setColecoes] = useLocalStorage(\"colecoes\",[])\r\n    const [,setPeriodos] = useLocalStorage(\"periodos\",[])\r\n    const message = useRef(null)\r\n\r\n    useEffect(() => {\r\n      document.title = \"Greenish B2B | Login\"\r\n    }, [])\r\n\r\n\r\n    const handleSubmit = () =>{\r\n\r\n      let data = new FormData()\r\n      data.append(\"username\",login)\r\n      data.append(\"password\",senha)\r\n  \r\n      axios.post(api_address+'/api-token-auth/',data)\r\n      .then(response => {\r\n        console.log(response.data)\r\n        let config = {headers:{'Authorization': 'Token '+response.data['token']}}\r\n        setToken(response.data['token'])\r\n        axios.get(api_address+'/login',config)\r\n        .then(response => {\r\n          console.log(response.data)\r\n          setLoggedin(true)\r\n          setClienteId(response.data['clienteId'])\r\n          setClienteNome(response.data['clienteNome'])\r\n          setIsRep(response.data['isRep'])\r\n          setUsername(response.data['username'])\r\n          setCarrinhoId(null)\r\n          setCategorias(response.data['cats'])\r\n          setColecoes(response.data['colecoes'])\r\n          setPeriodos(response.data['periodos'])\r\n          window.location.href = '/'\r\n        })\r\n      }).catch(function (err){\r\n        message.current.show([\r\n          { severity: 'error', summary: \"Usuario ou senha Incorretos\", sticky: false }\r\n        ])\r\n        setLogin(\"\")\r\n        setSenha(\"\")\r\n      })\r\n    }\r\n\r\n    return(\r\n      <div>\r\n        <Messages ref={message} />\r\n        <div className=\"p-field\">\r\n          <label htmlFor=\"login\" >Login</label>\r\n            <InputText id=\"login\" value={login} onChange={(e) => setLogin(e.target.value)}/>\r\n        </div>\r\n        <div className=\"p-field\">\r\n            <label htmlFor=\"senha\">Senha</label>\r\n            <Password id=\"senha\" value={senha} onChange={(e) => setSenha(e.target.value)} feedback={false}  />\r\n        </div>\r\n        <Button label=\"Entrar\" onClick={() => handleSubmit()} />\r\n      </div>\r\n  \r\n    )\r\n  }","// import React from 'react';\r\n// import axios from 'axios'\r\n// import { Button } from 'primereact/button';\r\n// import { useLocalStorage } from '../requests/greenHooks.js'\r\n// import { useState,useEffect } from 'react'\r\n// import { confirmDialog } from 'primereact/confirmdialog'\r\n// import  {api_address }  from '../proxy/proxy.js'\r\n\r\n\r\n// export default function Clientes(props) {\r\n\r\n//     const [clientes,setClientes] = useState([])\r\n//     const [token,setToken] = useLocalStorage(\"token\",null)\r\n//     const [, setClienteId] = useLocalStorage(\"clienteId\",null)\r\n//     const [, setClienteNome] = useLocalStorage(\"clienteNome\",null)\r\n//     const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n  \r\n//     useEffect(() => {\r\n//         getClientes()\r\n//         document.title = \"Greenish B2B | Clientes\"\r\n//       }, [])\r\n\r\n//     const confirma_alteracao = (id,nome) => {\r\n//         confirmDialog({\r\n//             message: 'Itens nao salvos no carrinho serao apagados. Confirma alteracao?',\r\n//             header: 'Confirmacao',\r\n//             icon: 'pi pi-exclamation-triangle',\r\n//             acceptLabel:\"Sim\",\r\n//             rejectLabel:\"Nao\",\r\n//             accept: () => altera_cliente(id,nome)\r\n//         })\r\n//     }\r\n\r\n//     const altera_cliente = (id,nome) =>{\r\n//         axios({\r\n//             method: 'GET',\r\n//             headers: {'Authorization': 'Token '+token},\r\n//             url: api_address+'/pedidos/deleta/'+carrinhoId,\r\n//           })\r\n//         setClienteId(id)\r\n//         setClienteNome(nome)\r\n//         setCarrinhoId(null)\r\n//         window.location.href = '/'\r\n//     }\r\n    \r\n\r\n//     const getClientes = () =>{\r\n//         let url = api_address+'/clientes'\r\n//         axios({\r\n//             method: 'GET',\r\n//             headers: {'Authorization': 'Token '+token},\r\n//             url: url,\r\n//         }).then(res => {\r\n//             setClientes(res.data['clientes'])\r\n//         })\r\n//     } \r\n//     console.log(clientes)\r\n//     const lista = clientes.slice()\r\n//     let clientes_html = lista.map((val,index) => <div>\r\n//         <p>{val.nome+\" - \"+val.tabela_precos}</p><Button label=\"Selecionar\" onClick={() => confirma_alteracao(val.id,val.nome)} />\r\n//         </div>)\r\n//     return (\r\n//         <div>\r\n//             {clientes_html}\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n\r\nimport axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\n\r\nconst Clientes = () => {\r\n    const [clientes, setClientes] = useState([]);\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [, setClienteId] = useLocalStorage(\"clienteId\",null)\r\n    const [, setClienteNome] = useLocalStorage(\"clienteNome\",null)\r\n    const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n\r\n    const getClientes = () =>{\r\n        let url = api_address+'/clientes'\r\n        axios({\r\n            method: 'GET',\r\n            headers: {'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            console.log(res.data['clientes'])\r\n            setClientes(res.data['clientes'])\r\n        })\r\n    } \r\n\r\n    useEffect(() => {\r\n        getClientes()\r\n        document.title = \"Greenish B2B | Clientes\"\r\n      }, [])\r\n\r\n    const confirma_alteracao = (rowData) => {\r\n        confirmDialog({\r\n            message: 'Itens nao salvos no carrinho serao apagados. Confirma alteracao?',\r\n            header: 'Confirmacao',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            acceptLabel:\"Sim\",\r\n            rejectLabel:\"Nao\",\r\n            accept: () => altera_cliente(rowData.id,rowData.nome)\r\n        })\r\n    }\r\n\r\n    const altera_cliente = (id,nome) =>{\r\n        axios({\r\n            method: 'GET',\r\n            headers: {'Authorization': 'Token '+token},\r\n            url: api_address+'/pedidos/deleta/'+carrinhoId,\r\n          })\r\n        setClienteId(id)\r\n        setClienteNome(nome)\r\n        setCarrinhoId(null)\r\n        window.location.href = '/'\r\n    }\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                <Button label=\"Selecionar\" onClick={() => confirma_alteracao(rowData)} />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"card\">\r\n                <DataTable value={clientes}>\r\n                    <Column field=\"razao_social\" header=\"Razao Social\" filter filterPlaceholder=\"Busca por Razao Social\"></Column>             \r\n                    <Column field=\"uf\" header=\"UF\"></Column>\r\n                    <Column field=\"cidade\" header=\"Cidade\" filter filterPlaceholder=\"Busca por Cidade\"></Column>\r\n                    <Column field=\"tabela_precos\" header=\"Tabela\"></Column>\r\n                    <Column field=\"desc_cond_pag\" header=\"Condicao Pagamento\"></Column>\r\n                    <Column body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Clientes","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\n\r\nimport React, { useState, useEffect,useRef } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages'\r\nimport { ProgressSpinner } from 'primereact/progressspinner'\r\nimport { Dialog } from 'primereact/dialog'\r\nimport { ColumnGroup } from 'primereact/columngroup'\r\nimport { Row } from 'primereact/row';\r\nimport moment from 'moment';\r\n\r\n\r\nconst Pedidos = () => {\r\n    const [pedidos, setPedidos] = useState([]);\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [, setClienteId] = useLocalStorage(\"clienteId\",null)\r\n    const [, setClienteNome] = useLocalStorage(\"clienteNome\",null)\r\n    const [carrinhoAtualId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n    const message = useRef(null)\r\n    const [isRep,] = useLocalStorage(\"isRep\",null)\r\n\r\n    const getPedidos = () =>{\r\n        let url = api_address+'/pedidos'\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers: {'Authorization': 'Token '+token}\r\n        }).then(res => {\r\n            setPedidos(res.data['pedidos'])\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getPedidos()\r\n        document.title = \"Greenish B2B | Pedidos\"\r\n      }, [])\r\n\r\n      const confirma_alteracao = (rowData) => {\r\n        confirmDialog({\r\n            message: 'Itens nao salvos no carrinho serao apagados. Confirma alteracao?',\r\n            header: 'Confirmacao',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            acceptLabel:\"Sim\",\r\n            rejectLabel:\"Nao\",\r\n            accept: () => alterar_pedido(rowData.id,rowData.cliente__id,rowData.cliente__nome)\r\n        })\r\n    }\r\n\r\n\r\n    const alterar_pedido = (carrrinhoId,id,nome) =>{\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/pedidos/retoma/'+carrrinhoId,\r\n            headers: {'Authorization': 'Token '+token},\r\n            params:{\r\n                carrinhoAtualId:carrinhoAtualId\r\n              },\r\n          }).then(res => {\r\n            if(res.data['confirmed']){\r\n                setCarrinhoId(carrrinhoId)\r\n                setClienteId(id)\r\n                setClienteNome(nome)\r\n                window.location.href = '/carrinho'\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res.data['message'], sticky: false }\r\n                ])\r\n            }\r\n          })\r\n    }\r\n\r\n    const processar = (rowData) =>{\r\n        setDisplayModal(true)\r\n\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/pedidos/processa/'+rowData.id,\r\n            headers: {'Authorization': 'Token '+token}\r\n          }).then(res => {\r\n            setDisplayModal(false)\r\n            if(res.data['confirmed']){\r\n                getPedidos()\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res.data['message'], sticky: true }\r\n                ])\r\n            }\r\n          })\r\n    }\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                {rowData.liberado_rep ? <></>  : <Button label=\"Alterar\" onClick={() => confirma_alteracao(rowData)} />}\r\n                {rowData.liberado_rep  ? <></>  : rowData.liberado_cliente && isRep ? <Button label=\"Processar\" onClick={() => processar(rowData)} /> : <></>}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    console.log(pedidos)\r\n\r\n    const enviado_template = (rowData) => {\r\n        return rowData.enviado_fabrica ? <>Sim</>  : <>No</>\r\n    }\r\n    const liberado_template = (rowData) => {\r\n        return rowData.liberado_rep ? <>Sim</>  : <>No</>\r\n    }\r\n    const is_teste_template = (rowData) => {\r\n        return rowData.is_teste ? <>Sim</>  : <>No</>\r\n    }\r\n\r\n    const formatCurrency = (value) => {\r\n        return value.toLocaleString('en-US', {style: 'currency', currency: 'BRL'});\r\n    }\r\n\r\n    const valorTotalTemplate = (rowData) => {\r\n        return `${formatCurrency(rowData.valor_total)}`;\r\n    }\r\n\r\n    const dateTemplate = (rowData) => {\r\n        return moment(rowData.data_criacao, \"YYYY-MM-DDTHH:mm:ssZ\").format('MM/DD/YYYY');\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <Dialog title=\"Processando\" visible={displayModal} onHide={()=>\"\"}><ProgressSpinner /></Dialog>\r\n            <div className=\"card\">\r\n                <DataTable value={pedidos}>\r\n                    <Column field=\"id\" header=\"ID\" ></Column>\r\n                    <Column field=\"cliente__razao_social\" header=\"Razao Social\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column field=\"colecao\" header=\"Colecao\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column header=\"Valor\" body={valorTotalTemplate}></Column>\r\n                    <Column field=\"qtd_total\" header=\"Qtd\"></Column>\r\n                    <Column field=\"cliente__desc_cond_pag\" header=\"Cond Pag\"></Column>\r\n                    <Column body={dateTemplate} header=\"Data\"></Column>\r\n                    <Column field=\"liberado_rep\" header=\"Liberado\" body={liberado_template}></Column>\r\n                    <Column field=\"enviado_fabrica\" header=\"Enviado\" body={enviado_template}></Column>\r\n                    <Column field=\"codigo_erp\" header=\"ID Ondas\"></Column>\r\n                    <Column header=\"Teste\" body={is_teste_template}></Column>\r\n                    <Column header=\"Acoes\" body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pedidos","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\n\r\nimport React, { useState, useEffect,useRef } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages'\r\n\r\nconst Promocoes = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const message = useRef(null)\r\n    const [promocoes,setPromocoes] = useState([])\r\n\r\n  \r\n    useEffect(() => {\r\n        getPromocoes()\r\n        document.title = \"Greenish B2B | Promocoes\"\r\n      }, [])\r\n\r\n    const computaPromo = (id_promocao,id_condicao) =>{\r\n        let url = api_address+'/promocoes/'+carrinhoId\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers:{'Authorization': 'Token '+token},\r\n            params:{\r\n                id_promocao:id_promocao,\r\n                id_condicao:id_condicao\r\n              }\r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoo computada com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const removePromo = () =>{\r\n        let url = api_address+'/promocoes/remove/'+carrinhoId\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url, \r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoes Removidas com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const getPromocoes = () =>{\r\n        let url = api_address+'/promocoes'\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            setPromocoes(res.data['promocoes'])\r\n            console.log(res.data['promocoes'])\r\n        })\r\n    } \r\n\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        const elems = rowData.condicoes.slice()\r\n        let elems_html = elems.map((val,index) =>\r\n        <Button className=\"p-mr-2\" label={rowData.tipo_condicao+\" - \"+val.condicao} onClick={() => computaPromo(rowData.id_promocao,val.id)} />)\r\n        return (\r\n            <React.Fragment>\r\n                {elems_html}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"card\">\r\n                <DataTable value={promocoes}>\r\n                    <Column field=\"descricao\" header=\"Promocao\"></Column>\r\n                    <Column header=\"Acoes\" body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n            <Button className=\"p-d-block p-mx-auto p-mt-6\" label={\"Remover Promoes\"} onClick={() => removePromo()} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Promocoes","import React, {useEffect,useState,useRef} from \"react\";\r\nimport { Button } from 'primereact/button'\r\nimport axios from 'axios'\r\nimport {Password} from 'primereact/password';\r\nimport 'primeflex/primeflex.css';\r\nimport { Dialog } from 'primereact/dialog'\r\nimport { Messages } from 'primereact/messages'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\nexport default function Conta(props){\r\n  const [senhaAtual,setSenhaAtual ] = useState(\"\")\r\n  const [senhaNova1,setSenhaNova1 ] = useState(\"\")\r\n  const [senhaNova2,setSenhaNova2 ] = useState(\"\")\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n  const [displayModalSenha, setDisplayModalSenha] = useState(false)\r\n  const message = useRef(null)\r\n    \r\n  useEffect(() => {\r\n      document.title = \"Greenish B2B | Conta\"\r\n    }, [])\r\n\r\n    const handleLogout = () =>{\r\n        var config = {\r\n          headers: {'Authorization': 'Token '+token}\r\n        }\r\n        axios.get(api_address+'/accounts/logout',config)\r\n        .then(response => {\r\n            localStorage.clear()\r\n            window.location.href = '/'\r\n        })\r\n    }\r\n\r\n    const changePassword = () =>{\r\n        if (senhaNova1 === senhaNova2){\r\n          var data = {\r\n            \"senhaNova\":senhaNova1,\r\n            \"senhaAtual\":senhaAtual,\r\n          }\r\n          var config = {\r\n            headers: {'Authorization': 'Token '+token}\r\n          }\r\n          axios.post(api_address+'/change_password/',data,config)\r\n          .then(response => {\r\n              if (response.data['confirmed']){\r\n                localStorage.clear()\r\n                window.location.href = '/login'                \r\n              }else{\r\n                  message.current.show([\r\n                      { severity: 'error', summary: response.data['message'], sticky: false }\r\n                  ])\r\n              }  \r\n          })\r\n      }else{\r\n        message.current.show([\r\n          { severity: 'error', summary: \"Confirmacao de nova senha invalida\", sticky: false }\r\n      ])\r\n      }\r\n      setSenhaAtual(\"\")\r\n      setSenhaNova1(\"\")\r\n      setSenhaNova2(\"\")\r\n  }\r\n\r\n    return(\r\n      <div>\r\n        <Dialog title=\"Alterar Senha\" visible={displayModalSenha} onHide={()=>setDisplayModalSenha(false)}>\r\n            <Messages ref={message} />\r\n            <h5>Senha Atual</h5>\r\n            <Password  value={senhaAtual} onChange={(e)=>setSenhaAtual(e.target.value)} feedback={false}/>\r\n            <h5>Senha Nova</h5>\r\n            <Password value={senhaNova1} onChange={(e)=>setSenhaNova1(e.target.value)} feedback={false}/>\r\n            <h5>Confirme a Nova Senha</h5>\r\n            <Password value={senhaNova2} onChange={(e)=>setSenhaNova2(e.target.value)} feedback={false}/>\r\n            <h5></h5>\r\n            <Button label=\"Confirmar\" onClick={() => changePassword()} />\r\n        </Dialog>\r\n        \r\n        <Button label=\"Alterar Senha\" onClick={() => setDisplayModalSenha(true)} />\r\n        <Button label=\"Logout\" onClick={() => handleLogout()} />\r\n      </div>\r\n  \r\n    )\r\n  }","import { InputNumber } from 'primereact/inputnumber';\r\nimport { useEffect, useState,useRef } from 'react'\r\nimport { Messages } from 'primereact/messages'\r\nimport { Card } from 'primereact/card';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport  usePeriodos, {useLocalStorage } from '../requests/greenHooks.js'\r\nimport axios from 'axios'\r\nimport 'primeflex/primeflex.css';\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\n\r\n\r\nexport default function CardProduto(props) {\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n    \r\n    const onClick = () => {\r\n        setDisplayModal(true)\r\n    }\r\n    const onHide = () => {\r\n        setDisplayModal(false)\r\n    }\r\n    const header = <div>\r\n        <h3>{props.produto.produto__descricao}</h3>\r\n        <p>{props.produto.produto__produto +\" - \"+props.produto.produto__linha+\" - R$\"+ props.produto.preco}</p>\r\n        </div>\r\nreturn (\r\n    <div className=\"p-shadow-2 p-m-2\">\r\n    <Card header={header}>\r\n        <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-field p-col-12 p-md-3\">\r\n                <Button label=\"Detalhes\" icon=\"pi pi-external-link\" onClick={() => onClick()} />\r\n                <Dialog header={props.produto.produto__produto} maximizable visible={displayModal} style={{ width: '75vw' }} onHide={() => onHide()}>\r\n                    <div className=\"p-grid\">\r\n                        <div className=\"p-col\">\r\n                            <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n                        </div>\r\n                        <div className=\"p-col-fixed\" style={{ width: '500px'}}>\r\n                            <TableProds produto={props.produto}></TableProds>\r\n                        </div>  \r\n                    </div>\r\n\r\n                </Dialog>\r\n            </div>\r\n        </div>\r\n    </Card>\r\n    </div>\r\n    \r\n)\r\n}\r\n\r\n\r\nfunction TableProds(props) {\r\n    const [produto, ] = useState(props.produto)\r\n    const [periodo, setPeriodo] = useState('')\r\n    const [pedido, setPedido] = useState({})\r\n    const [linhasDados, setLinhasDados] = useState(<div></div>)\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [clienteId, ] = useLocalStorage(\"clienteId\",null)\r\n    const [carrinhoId,setCarrinhoId ] = useLocalStorage(\"carrinhoId\",null)\r\n    const message = useRef(null)\r\n    const {\r\n        dadosPeriodo,\r\n      } = usePeriodos(produto.produto__produto,periodo)\r\n      \r\n    \r\n      useEffect(() => {\r\n        let order = {}\r\n        for (var index in dadosPeriodo){\r\n            let item = dadosPeriodo[index]\r\n            let cor = item['cor']\r\n            let qtds = new Array(produto.produto__qtd_tamanhos).fill(0);\r\n            order[cor] = qtds\r\n        }\r\n        setPedido(order)\r\n    \r\n      }, [dadosPeriodo])\r\n\r\n      useEffect(() => {\r\n        if (periodo !== ''){\r\n            let tams = dadosPeriodo.map((val) => <LinhaDados dados={val} pedido={pedido} setPedido={setPedido}></LinhaDados>)\r\n            setLinhasDados(tams)\r\n        }\r\n      }, [pedido])    \r\n    \r\n    const renderTamanhosGrid = (props) => {\r\n        let prods_tams = JSON.parse(props.produto.produto__tamanhos)\r\n        let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>)\r\n        return tams\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        let qtd_total = 0\r\n        for (var index in pedido){\r\n            let qtds_cor = pedido[index]\r\n            qtd_total = qtd_total + qtds_cor.reduce((a,b) => a+b,0)\r\n        }     \r\n        var data = {\r\n            \"produto\":produto,\r\n            \"periodo\":periodo,\r\n            \"qtds\":pedido,\r\n            \"qtd_total\":qtd_total,\r\n            \"clienteId\":clienteId,\r\n            \"carrinhoId\":carrinhoId,\r\n        }\r\n        var config = {\r\n            headers:{'Authorization': 'Token '+token}\r\n        }\r\n    \r\n        console.log(data)\r\n        console.log(config['headers'])\r\n        if (qtd_total>0){\r\n            axios.post(api_address+'/carrinho/',data,config)\r\n            .then(response => {\r\n                if (response.data['confirmed']){\r\n                    message.current.show([\r\n                        { severity: 'success', summary: response.data['message'], sticky: true }\r\n                    ])\r\n                    setCarrinhoId(response.data['carrinhoId'])       \r\n                }else{\r\n                    message.current.show([\r\n                        { severity: 'error', summary: response.data['message'], sticky: true }\r\n                    ])\r\n                }\r\n            }).catch(error => {\r\n                console.log(error.message)\r\n            })\r\n        }else{\r\n            message.current.show([\r\n                { severity: 'error', summary: \"Quantidade deve ser maior que 0\", sticky: false }\r\n            ])            \r\n        }\r\n\r\n    }\r\n        \r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <Dropdown id=\"dropdown\" value={periodo} options={JSON.parse(props.produto.produto__periodos)}\r\n            onChange={(e) => setPeriodo(e.value)}\r\n            />\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col\">TIPO</div>\r\n                <div className=\"p-col\">COR</div>\r\n                {renderTamanhosGrid(props)}\r\n            </div>\r\n            {linhasDados}\r\n            <Button label=\"Adicionar\" onClick={handleSubmit}/>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nfunction LinhaDados(props){\r\n\r\n    const handleChange = (valor,props,ordem) => {\r\n        let ped_prov = props.pedido\r\n        ped_prov[props.dados.cor][ordem] = valor\r\n        props.setPedido(ped_prov)\r\n    }\r\n\r\n    const renderButtons = (props) => {\r\n        let elems = []\r\n        if(Object.keys(props.pedido).length === 0){\r\n            return elems.map((val) => val)\r\n        }\r\n        for (var idx in props.dados.qtds){\r\n\r\n            let i = idx\r\n\r\n            if (props.dados.liberacao){\r\n                elems.push(\r\n                <div className=\"p-col-1 p-mt-4\">\r\n                        <InputNumber min={0} id={props.dados.cor+i}\r\n                        value={props.pedido[props.dados.cor][i]} onValueChange={(e) => handleChange(e.value,props,i)} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                        style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                        incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n\r\n                </div>\r\n                )\r\n            }else{\r\n                console.log(props.dados.qtds)\r\n                elems.push(\r\n                <div className=\"p-col-1 p-mt-4\">\r\n                    <span className=\"p-float-label\">\r\n                        <InputNumber max={props.dados.qtds[i]} min={0} id={props.dados.cor+i}\r\n                        value={props.pedido[props.dados.cor][i]} onValueChange={(e) => handleChange(e.value,props,i)} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                        style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                            incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n                        <label htmlFor={props.dados.cor+i}>{props.dados.qtds[i]}</label>\r\n                    </span>\r\n                </div>\r\n                )\r\n            }\r\n        }\r\n\r\n        \r\n        return elems.map((val) => val)\r\n    }\r\n \r\n    return (\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col\">{props.dados.desc_liberacao}</div>\r\n            <div className=\"p-col\">{props.dados.cor+\" - \"+props.dados.desc_cor}</div>\r\n            {renderButtons(props)}\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport { useEffect, useState } from 'react'\r\nimport { useProductSearch,useLocalStorage } from '../requests/greenHooks.js'\r\nimport CardProduto from './cardProduto.js'\r\nimport 'primeflex/primeflex.css';\r\nimport { Paginator } from 'primereact/paginator';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\n\r\nexport default function Produtos() {\r\n\r\n  const [listItems,setListItems] = useState(<div></div>)  \r\n  const [first, setFirst] = useState(0)\r\n  const [rows, setRows] = useState(12)\r\n  const [qtd, setQtd] = useState(0)\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n  const [colecao, setColecao] = useLocalStorage(\"colecao\",\"Todas\")\r\n  const [periodo, setPeriodo] = useLocalStorage(\"periodo\",\"Todos\")\r\n  const [clienteId, ] = useLocalStorage(\"clienteId\",null)\r\n  const [tamColuna,setTamColuna] = useLocalStorage(\"tamColuna\",2)\r\n  const [classColuna,setclassColuna] = useState(\"p-col-12 p-md-6 p-lg-\"+tamColuna)\r\n  const [displayModal, setDisplayModal] = useState(false);\r\n  const [colecoesOptions,] = useLocalStorage(\"colecoes\",[])\r\n  const [periodosOptions,] = useLocalStorage(\"periodos\",[])\r\n\r\n\r\n  const tamColOptions = [2,3,4]\r\n\r\n  const onClick = () => {\r\n    setDisplayModal(true)\r\n  }\r\n  const onHide = () => {\r\n      setDisplayModal(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Produtos\"\r\n  }, [])\r\n\r\n  //-------------------\r\n\r\n  const {\r\n    produtos,\r\n  } = useProductSearch(colecao,periodo,clienteId)\r\n\r\n\r\n\r\n  const handlePageChange = (event) => {\r\n    setFirst(event.first);\r\n    setRows(event.rows);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if ('lista' in produtos){\r\n      setQtd(produtos['lista'].length)\r\n      const lista = produtos['lista'].slice(first,first+rows)\r\n      let listItemsProv = <div className={classColuna}>Entrou</div>\r\n      listItemsProv = lista.map((val,index) => <div className={classColuna}><CardProduto produto={val} key={index}></CardProduto></div>)\r\n      setListItems(listItemsProv)\r\n      window.scrollTo(0, 0)\r\n    }\r\n  }, [produtos,classColuna,first,rows])\r\n\r\n  useEffect(() => {\r\n    setclassColuna(\"p-col-12 p-md-6 p-lg-\"+tamColuna)\r\n  }, [tamColuna])\r\n\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        \r\n        <Button label=\"Filtrar\" onClick={() => onClick()} className=\"p-mr-2\" />\r\n            <Dialog header={\"Filtros\"} visible={displayModal} style={{ width: '75vw' }} onHide={() => onHide()}>\r\n                <div className=\"p-grid\">\r\n                    <div className=\"p-col-12 p-md-6 p-lg-2\">\r\n                        <h3>Colecao</h3>\r\n                        <Dropdown id=\"dropdown\" value={colecao} options={colecoesOptions}\r\n                        onChange={(e) => setColecao(e.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"p-col-12 p-md-6 p-lg-2\">\r\n                        <h3>Periodo</h3>\r\n                        <Dropdown id=\"dropdown\" value={periodo} options={periodosOptions}\r\n                        onChange={(e) => setPeriodo(e.value)}\r\n                        />\r\n                    </div>                  \r\n                    <div className=\"p-col-12 p-md-6 p-lg-2\">\r\n                        <h3>Tamanho Imagem</h3>\r\n                        <Dropdown id=\"dropdown\" value={tamColuna} options={tamColOptions}\r\n                        onChange={(e) => setTamColuna(e.value)}\r\n                        />\r\n                    </div>                                             \r\n                </div>\r\n            </Dialog>\r\n      </ div>\r\n      <div className=\"p-grid\">{listItems}</div>\r\n      <Paginator first={first} rows={rows} totalRecords={qtd} rowsPerPageOptions={[12, 24, 36]} onPageChange={handlePageChange}></Paginator>\r\n    </>\r\n  )\r\n}\r\n\r\n","import { InputNumber } from 'primereact/inputnumber';\r\nimport { useEffect, useState,useRef } from 'react'\r\nimport { Messages } from 'primereact/messages'\r\nimport { Card } from 'primereact/card';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport  UsePeriodos,{useLocalStorage }  from '../requests/greenHooks.js'\r\nimport axios from 'axios'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\nimport { Panel } from 'primereact/panel';\r\nimport 'primeflex/primeflex.css';\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\nexport default function CardCarrinho(props) {\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n    const [token,] = useLocalStorage(\"token\",null)\r\n    const [panelCollapsed,setPanelCollapsed] = useState(true)\r\n    const message = useRef(null)\r\n\r\n\r\n    const onClick = () => {\r\n        setDisplayModal(true)\r\n    }\r\n    const onHide = () => {\r\n        setDisplayModal(false)\r\n    }\r\n    const confirma_exclusao = () => {\r\n        confirmDialog({\r\n            message: 'Confirma a exclusao do produto?',\r\n            header: 'Confirmacao',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            acceptLabel:\"Sim\",\r\n            rejectLabel:\"Nao\",\r\n            accept: () => handleDelete()\r\n        })\r\n    }\r\n\r\n\r\n    const updatePeriodo = (periodo_update) => {\r\n        console.log(periodo_update)\r\n        if(periodo_update !== ''){\r\n            let data = {\r\n                \"periodo\":periodo_update,\r\n                \"produto\":props.produto,\r\n            }\r\n            let config = {\r\n                headers: {'Authorization': 'Token '+token}\r\n            }\r\n            axios.post(api_address+'/carrinho/update_periodo/'+props.produto.id,data,config,)\r\n            .then(response => {\r\n                if (response.data['confirmed']){\r\n                    setPanelCollapsed(false)\r\n                    props.forceUpdate()\r\n                }else{\r\n                    message.current.show([\r\n                        { severity: 'error', summary: response.data['message'], sticky: false }\r\n                    ])\r\n                }\r\n            }).catch(error => {\r\n                console.log(error.message)\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    const handleDelete = () => {\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/carrinho/delete_item/'+props.produto.id,\r\n            headers: {'Authorization': 'Token '+token}\r\n          }).then(res => {\r\n            props.forceUpdate()\r\n          })\r\n    }\r\n\r\n    const preco_desc = props.produto.preco-props.produto.desconto\r\n    const preco_normal =  props.produto.preco//colocar linha cortando text\r\n    const header = <div>\r\n        <h3>{props.produto.produto__descricao}</h3>\r\n        <p>{props.produto.produto__produto+\" - \"+props.produto.qtd_item +\" - R$\"+ props.produto.valor_item}</p>\r\n        {props.produto.desconto>0 ?  <p>{\"Preo: De R$\"+preco_normal +\" por R$\"+ preco_desc}</p>  : <p>{\"Preo: R$\"+ props.produto.preco}</p>  }\r\n        </div>\r\n\r\n    return (\r\n        <div className=\"p-shadow-2 p-m-2\">\r\n        <Card header={header}>\r\n            <Messages ref={message} />\r\n            <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n            <div className=\"p-grid\">\r\n                <Button label=\"Remover\" onClick={() => confirma_exclusao()}  />\r\n                <Panel header=\"Alterar\" collapsed={panelCollapsed} onToggle={(e) => setPanelCollapsed(e.value)} toggleable >\r\n                    <div className=\"p-field p-col-12 p-md-4 p-mt-1\">\r\n                        <span className=\"p-float-label\">\r\n                            <Dropdown inputId=\"dropdown\"  value={props.periodoAtual}\r\n                            options={JSON.parse(props.produto.periodos_alteracao)}\r\n                            onChange={(e) => updatePeriodo(e.value)}\r\n                            />  \r\n                            <label htmlFor=\"dropdown\">Periodo</label>\r\n                        </span>\r\n                    </div>                  \r\n                    <Button label=\"Alterar Quantidades\" onClick={() => onClick()}  />\r\n                </Panel>\r\n            </div>\r\n                <div className=\"p-field p-col-12 p-md-3\">\r\n\r\n                    <Dialog header={props.produto.produto__produto} maximizable visible={displayModal} style={{ width: '75vw' }} onHide={() => onHide()}>\r\n                        <div className=\"p-grid\">\r\n                            <div className=\"p-col\">\r\n                                <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n                            </div>\r\n                            <div className=\"p-col-fixed\" style={{ width: '500px'}}>\r\n                                <TableProds\r\n                                 periodoAtual={props.periodoAtual} produto={props.produto} \r\n                                 forceUpdate={props.forceUpdate} hideModal={onHide}>\r\n                                 </TableProds>\r\n                            </div>  \r\n                        </div>\r\n\r\n                    </Dialog>\r\n                </div>\r\n        </Card>\r\n        </div>\r\n        \r\n    )\r\n}\r\nfunction TableProds(props) {\r\n    const [produto, ] = useState(props.produto)\r\n    const [periodo, ] = useState(props.periodoAtual)\r\n    const [pedido, setPedido] = useState({})\r\n    const message = useRef(null)\r\n    const [linhasDados, setLinhasDados] = useState(<div></div>)\r\n    const [clienteId, ] = useLocalStorage(\"clienteId\",null)\r\n    const [carrinhoId, ] = useLocalStorage(\"carrinhoId\",null)\r\n    const [token,] = useLocalStorage(\"token\",null)\r\n    \r\n    const {\r\n        dadosPeriodo,\r\n      } = UsePeriodos(produto.produto__produto,periodo)\r\n    \r\n      useEffect(() => {\r\n        let [order,has_message] = calculatePedido(dadosPeriodo,produto)\r\n        setPedido(order)    \r\n      }, [dadosPeriodo])\r\n\r\n      useEffect(() => {\r\n        if (periodo !== ''){\r\n            let tams = dadosPeriodo.map((val) => <LinhaDados dados={val} pedido={pedido} setPedido={setPedido}></LinhaDados>)\r\n            setLinhasDados(tams)\r\n        }\r\n      }, [pedido])  \r\n\r\n\r\n\r\n    const renderTamanhosGrid = () => {\r\n        let prods_tams = JSON.parse(produto.produto__tamanhos)\r\n        let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>)\r\n        return tams\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        let qtd_total = 0\r\n        for (var index in pedido){\r\n            let qtds_cor = pedido[index]\r\n            qtd_total = qtd_total + qtds_cor.reduce((a,b) => a+b,0)\r\n        }\r\n        var data = {\r\n            \"produto\":produto,\r\n            \"qtds\":pedido,\r\n            \"qtd_total\":qtd_total,\r\n            \"clienteId\":clienteId,\r\n            \"carrinhoId\":carrinhoId,\r\n        }\r\n        var config = {\r\n            headers: {'Authorization': 'Token '+token}\r\n        }\r\n    \r\n        axios.post(api_address+'/carrinho/update_qtds/'+produto.id,data,config,)\r\n        .then(response => {\r\n            if (response.data['confirmed']){\r\n                message.current.show([\r\n                    { severity: 'success', summary: response.data['message'], sticky: true }\r\n                ])\r\n                props.forceUpdate()\r\n                props.hideModal()\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: response.data['message'], sticky: true }\r\n                ])\r\n            }\r\n\r\n        }).catch(error => {\r\n            console.log(error.message)\r\n       })\r\n    }\r\n        \r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col\">TIPO</div>\r\n                <div className=\"p-col\">COR</div>\r\n                {renderTamanhosGrid()}\r\n            </div>\r\n            {linhasDados}\r\n            <Button label=\"Alterar\" onClick={handleSubmit}/>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nfunction LinhaDados(props){\r\n\r\n    const handleChange = (valor,props,ordem) => {\r\n        let ped_prov = props.pedido\r\n        ped_prov[props.dados.cor][ordem] = valor\r\n        props.setPedido(ped_prov)\r\n    }\r\n\r\n    const renderButtons = (props) => {\r\n        let elems = []\r\n        if(Object.keys(props.pedido).length === 0){\r\n            return elems.map((val) => val)\r\n        }\r\n        for (var idx in props.dados.qtds){\r\n\r\n            let i = idx\r\n\r\n            if (props.dados.liberacao){\r\n                elems.push(\r\n                <div className=\"p-col-1 p-mt-4\">\r\n                        <InputNumber min={0} id={props.dados.cor+i}\r\n                        value={props.pedido[props.dados.cor][i]} onValueChange={(e) => handleChange(e.value,props,i)} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                        style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                        incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n\r\n                </div>\r\n                )\r\n            }else{\r\n                elems.push(\r\n                <div className=\"p-col-1 p-mt-4\">\r\n                    <span className=\"p-float-label\">\r\n                        <InputNumber max={props.dados.qtds[i]} min={0} id={props.dados.cor+i}\r\n                        value={props.pedido[props.dados.cor][i]} onValueChange={(e) => handleChange(e.value,props,i)} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                        style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                            incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n                        <label htmlFor={props.dados.cor+i}>{props.dados.qtds[i]}</label>\r\n                    </span>\r\n                </div>\r\n                )\r\n            }\r\n        }\r\n        \r\n        return elems.map((val) => val)\r\n    }\r\n \r\n    return (\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col\">{props.dados.desc_liberacao}</div>\r\n            <div className=\"p-col\">{props.dados.cor+\" - \"+props.dados.desc_cor}</div>\r\n            {renderButtons(props)}\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n//FUNCOES AUXILIARES\r\n\r\n// function calculateOptionsPeriodos(produto,dadosPeriodo){\r\n//     // CALCULA OPCOES DE PERIODOS REMOVENDO A OPCAO DO PERIODO ATUAL e PRE-SELECIONADOS\r\n//     let periodos = JSON.parse(produto.produto__periodos)\r\n//     let index = periodos.indexOf(\"Pre-selecionados\");\r\n//     if (index > -1) {\r\n//         periodos.splice(index, 1);\r\n//     }\r\n//     return periodos\r\n// }\r\n\r\nfunction validaQtdsPedido(qtdAtual,qtdMaxima){\r\n    let qtds = []\r\n    let item_has_message = false\r\n    for (var i in qtdAtual){\r\n        let dif = qtdMaxima[i]-qtdAtual[i]\r\n        if (dif<0){\r\n            qtds.push(qtdMaxima[i])\r\n            item_has_message = true\r\n        }else{\r\n            qtds.push(qtdAtual[i])\r\n        }\r\n        \r\n    }\r\n    return [qtds,item_has_message]\r\n}\r\n\r\nfunction calculatePedido(dadosPeriodo,produto){\r\n    let order = {}\r\n    let orderAtual = JSON.parse(produto.qtds)\r\n    let has_message = false\r\n    for (var index in dadosPeriodo){\r\n        let item = dadosPeriodo[index]\r\n        let cor = item['cor']\r\n        let qtds = new Array(produto.produto__qtd_tamanhos).fill(0)\r\n        if(cor in orderAtual){\r\n            if(item['liberacao']){\r\n                qtds = orderAtual[cor]               \r\n            }else{\r\n                let [qtds_x,item_has_message] = validaQtdsPedido(orderAtual[cor],item['qtds'])\r\n                qtds = qtds_x\r\n                if (item_has_message) has_message=true\r\n            }                \r\n        }\r\n        order[cor] = qtds\r\n    }\r\n    return [order,has_message]\r\n}","import React from \"react\";\r\nimport { useCartSearch,useLocalStorage } from '../requests/greenHooks.js'\r\nimport 'primeflex/primeflex.css';\r\nimport { useEffect, useState } from 'react'\r\nimport { Card } from 'primereact/card';\r\n// import CardCarrinho from './cardCarrinho.js'\r\nimport CardCarrinho from './cardCarrinhoNovo.js'\r\nimport { Button } from 'primereact/button';\r\nimport axios from 'axios'\r\nimport { Dialog } from 'primereact/dialog'\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\nimport { InputSwitch } from 'primereact/inputswitch';\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { ToggleButton } from 'primereact/togglebutton';\r\nimport { SelectButton } from 'primereact/selectbutton';\r\n\r\n\r\n\r\nexport default function Carrinho() {\r\n\r\n  const [listItems,setListItems] = useState(<div></div>)\r\n  const [counter,setCounter] = useState(0)\r\n  const [clienteId,setClienteId ] = useLocalStorage(\"clienteId\",null)\r\n  const [clienteNome,setClienteNome ] = useLocalStorage(\"clienteNome\",null)\r\n  const [carrinhoId,setCarrinhoId ] = useLocalStorage(\"carrinhoId\",null)\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n  const [isRep,setIsRep ] = useLocalStorage(\"isRep\",null)\r\n  const [displayModal, setDisplayModal] = useState(false)\r\n  const [tipoPedido, setTipoPedido] = useState(\"Teste\")\r\n\r\n  const {\r\n    carrinho,\r\n    emptyMessage,\r\n    observacoes,\r\n    valorTotal,\r\n    qtdTotal\r\n  } = useCartSearch(counter,clienteId)\r\n\r\n  const [observacoesNovo,setObservacoesNovo] = useState(\"\")\r\n\r\n  const updateCounter = () => {\r\n    setCounter(prevCounter => prevCounter+1)\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Carrinho\"\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setObservacoesNovo(observacoes)\r\n  }, [observacoes])\r\n\r\n  useEffect(() => {\r\n    const lista = carrinho\r\n    let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\"></div>\r\n    if (lista.length>0){\r\n      listItemsProv = lista.map((val,index) => \r\n      <div className=\"p-col-12 p-md-12 p-lg-12\">\r\n        <CardPeriodo forceUpdate={updateCounter} periodoAtual={val.periodo} qtd_periodo={val.qtd_periodo}\r\n        valor_periodo={val.valor_periodo} itens={val.itens} key={index}></CardPeriodo>\r\n        </div>)\r\n    }\r\n    setListItems(listItemsProv)\r\n  }, [carrinho,emptyMessage,carrinhoId,counter])\r\n\r\n  const handleSave = () => {\r\n    let isTeste = false\r\n    if(tipoPedido === \"Teste\"){\r\n      isTeste = true\r\n    }\r\n    axios({\r\n        method: 'GET',\r\n        url: api_address+'/pedidos/salva/'+carrinhoId+'/',\r\n        headers: {'Authorization': 'Token '+token},\r\n        params:{\r\n          observacoes:observacoesNovo,\r\n          isTeste: isTeste\r\n        }\r\n        \r\n      }).then(res => {\r\n        if(res.data['confirmed']){\r\n          if(isRep){\r\n            setClienteId(null)\r\n            setClienteNome(null)\r\n            setCarrinhoId(null)\r\n          }else{\r\n            setCarrinhoId(null)\r\n          }\r\n          window.location.href = '/pedidos'\r\n        }else{\r\n          console.log(res.data)//Fazer Logica para mostrar mensagem de erro\r\n        }\r\n      })\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <p>{emptyMessage}</p>\r\n    \r\n    <p>{\"Cliente: \"+clienteNome + \" | Valor Total: \"+valorTotal+ \" | Quantidade Total: \"+qtdTotal}</p>\r\n    <Button label=\"Salvar\" onClick={() => setDisplayModal(true)} className=\"p-mr-2\" />\r\n    <Dialog header=\"Observacoes\" visible={displayModal} onHide={()=>setDisplayModal(false)}>     \r\n      <div>\r\n          <InputTextarea rows={10} cols={50} value={observacoesNovo} onChange={(e) => setObservacoesNovo(e.target.value)} />\r\n      </div>\r\n      <div>\r\n         <SelectButton value={tipoPedido} className=\"p-d-block p-mx-auto p-mt-2\" options={[\"Teste\",\"Real\"]} onChange={(e) => setTipoPedido(e.value)} />\r\n      </div>\r\n      <div>\r\n        <Button label=\"Salvar\" className=\"p-d-block p-mx-auto p-mt-2\" onClick={() => handleSave()} />\r\n      </div>\r\n\r\n\r\n      \r\n      \r\n    </Dialog>\r\n    <div className=\"p-grid\">{listItems}</div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nfunction CardPeriodo(props){\r\n  const lista = props.itens.slice()\r\n  let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\">Entrou</div>\r\n  listItemsProv = lista.map((val,index) => <div className=\"p-col-6 p-md-6 p-lg-2\">\r\n    <CardCarrinho periodoAtual={props.periodoAtual} forceUpdate={props.forceUpdate} produto={val} key={index}></CardCarrinho>\r\n    </div>)\r\n\r\n  return (\r\n    <Card title={props.periodoAtual+\" - \"+props.qtd_periodo+\" - \"+props.valor_periodo}>\r\n      <div className=\"p-grid\">\r\n    {listItemsProv}\r\n    </div>\r\n  </Card>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\n\r\nimport React, { useState, useEffect,useRef } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages'\r\n\r\nconst Promocoes = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const message = useRef(null)\r\n    const [promocoes,setPromocoes] = useState([])\r\n\r\n  \r\n    useEffect(() => {\r\n        getPromocoes()\r\n        document.title = \"Greenish B2B | Promocoes\"\r\n      }, [])\r\n\r\n    const computaPromo = (id_promocao,id_condicao) =>{\r\n        let url = api_address+'/promocoes/'+carrinhoId\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers:{'Authorization': 'Token '+token},\r\n            params:{\r\n                id_promocao:id_promocao,\r\n                id_condicao:id_condicao\r\n              }\r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoo computada com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const removePromo = () =>{\r\n        let url = api_address+'/promocoes/remove/'+carrinhoId\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url, \r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoes Removidas com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const getPromocoes = () =>{\r\n        let url = api_address+'/promocoes'\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            setPromocoes(res.data['promocoes'])\r\n            console.log(res.data['promocoes'])\r\n        })\r\n    } \r\n\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        const elems = rowData.condicoes.slice()\r\n        let elems_html = elems.map((val,index) =>\r\n        <Button className=\"p-mr-2\" label={rowData.tipo_condicao+\" - \"+val.condicao} onClick={() => computaPromo(rowData.id_promocao,val.id)} />)\r\n        return (\r\n            <React.Fragment>\r\n                {elems_html}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"card\">\r\n                <DataTable value={promocoes}>\r\n                    <Column field=\"descricao\" header=\"Promocao\"></Column>\r\n                    <Column header=\"Acoes\" body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n            <Button className=\"p-d-block p-mx-auto p-mt-6\" label={\"Remover Promoes\"} onClick={() => removePromo()} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Promocoes","import {MyMenu} from './menu-home/menu.js'\r\nimport {Home} from './menu-home/home.js'\r\nimport Login from './menu-home/login.js'\r\nimport Clientes from './menu-home/clientes.js'\r\nimport Pedidos from './menu-home/pedidos.js'\r\nimport Promocoes from './menu-home/promocoes.js'\r\nimport Conta from './menu-home/conta.js'\r\nimport Produtos from './produtos/produtos.js'\r\nimport Carrinho from './carrinho/carrinho.js'\r\nimport DataTableBasicDemo from './tests/dataTableDemo.js'\r\nimport React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\";\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n      }\r\n  }\r\n\r\n  verificaLogin(){\r\n    let loggedIn = JSON.parse(localStorage.getItem('loggedin'))\r\n    if (loggedIn==null){\r\n      loggedIn = false\r\n    }\r\n    return loggedIn\r\n  }\r\n\r\n  render(){\r\n      const loggedIn = this.verificaLogin()\r\n      \r\n      return(\r\n          <div>\r\n            <div>\r\n            <Router>\r\n              <div>\r\n                <nav>\r\n                  <MyMenu loggedIn={loggedIn}></MyMenu>\r\n                </nav>\r\n\r\n                {/* A <Switch> looks through its children <Route>s and\r\n                    renders the first one that matches the current URL. */}\r\n                <Switch>\r\n                  <Route path=\"/login\" component={Login} />\r\n                  <Route path=\"/clientes\" component={Clientes} />\r\n                  <Route path=\"/pedidos\" component={Pedidos} />\r\n                  <Route path=\"/promocoes\" component={Promocoes} />\r\n                  <Route path=\"/conta\" component={Conta} />\r\n                  <Route path=\"/carrinho\" component={Carrinho} />\r\n                  <Route path=\"/busca\" component={Produtos} />\r\n                  <Route path=\"/teste\" component={DataTableBasicDemo} />\r\n                  <Route path=\"/:linha/:categoria/:subcategoria\">\r\n                    {loggedIn ? <Produtos />  :  <Redirect to=\"/login\"/>}\r\n                  </Route>                  \r\n                  {/* <Route path=\"/:linha/:categoria/:subcategoria\" component={Produtos} /> */}\r\n                  <Route path=\"/:linha/:categoria\">\r\n                    {loggedIn ? <Produtos /> :   <Redirect to=\"/login\"/> }\r\n                  </Route>   \r\n                  <Route path='/' component={Home}/>\r\n                </Switch>\r\n              </div>\r\n            </Router>             \r\n            </div>\r\n          </div>\r\n      )\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'primereact/resources/themes/saga-blue/theme.css'\nimport 'primereact/resources/primereact.min.css'\nimport 'primeicons/primeicons.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}