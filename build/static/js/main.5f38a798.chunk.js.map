{"version":3,"sources":["proxy/proxy.js","requests/greenHooks.js","menu-home/menu.js","menu-home/home.js","menu-home/login.js","menu-home/clientes.js","utils/utils.js","menu-home/pedidos.js","menu-home/promocoes.js","menu-home/conta.js","produtos/cardProduto.js","produtos/produtos.js","carrinho/cardCarrinhoNovo.js","carrinho/carrinho.js","pedido/cardItemPedido.js","pedido/pedido.js","trade/solicitacaoTrade.js","trade/solicitacoesTrade.js","tests/dataTableDemo.js","App.js","reportWebVitals.js","index.js"],"names":["api_address","useLocalStorage","key","initialValue","useState","savedValue","JSON","parse","localStorage","getItem","e","getSavedValue","value","setValue","useEffect","setItem","stringify","usePeriodos","produto","periodo","periodo_atual","dadosPeriodo","setDadosPeriodo","token","params","axios","method","headers","url","then","res","data","MenuPerfil","menu","useRef","username","items_perfil","label","icon","push","items","model","popup","ref","id","onClick","event","current","toggle","aria-controls","aria-haspopup","MyMenu","props","query","setQuery","tipoConta","start","href","alt","src","height","className","end","loggedIn","searchInput","onChange","target","length","test","preventDefault","window","location","placeholder","type","bannersTemplate","banner","link","url_imagem","Home","state","banners","this","updateBanners","document","title","setState","console","log","numVisible","numScroll","itemTemplate","React","Component","Login","login","setLogin","senha","setSenha","setToken","setLoggedin","setClienteId","setClienteNome","setIsRep","setUsername","setCarrinhoId","setCategorias","setColecoes","setPeriodos","setTipoConta","message","htmlFor","feedback","FormData","append","post","response","config","get","ReactGA","action","user_type","catch","err","show","severity","summary","sticky","handleSubmit","Clientes","clientes","setClientes","altera_cliente","nome","field","header","filter","filterPlaceholder","body","rowData","Fragment","confirmDialog","acceptLabel","rejectLabel","accept","confirma_alteracao","formatMoney","number","toLocaleString","style","currency","Pedidos","pedidos","setPedidos","carrinhoAtualId","displayModal","setDisplayModal","isRep","getPedidos","alterar_pedido","carrrinhoId","formatCurrency","visible","onHide","valor_total","valor_total_entregar","data_liberacao","moment","format","liberado_rep","enviado_fabrica","cliente__id","cliente__nome","liberado_cliente","processar","Promocoes","carrinhoId","promocoes","setPromocoes","clienteId","getPromocoes","resizableColumns","columnResizeMode","width","elems_html","condicoes","slice","map","val","index","desc_condicao","id_promocao","id_condicao","computaPromo","removePromo","Conta","senhaAtual","setSenhaAtual","senhaNova1","setSenhaNova1","senhaNova2","setSenhaNova2","displayModalSenha","setDisplayModalSenha","clear","changePassword","handleLogout","CardProduto","isBarCode","desconto","produto__desconto","parseFloat","toFixed","produto__descricao","produto__produto","preco","top","produto__url_imagem","maximizable","TableProds","isBarcode","onSave","setPeriodo","pedido","setPedido","linhasDados","setLinhasDados","displayModalObs","setDisplayModalObs","observacaoItem","setObservacaoItem","order","cor","qtds","Array","produto__qtd_tamanhos","fill","tams","LinhaDados","dados","options","produto__periodos","produto__tamanhos","renderTamanhosGrid","rows","cols","qtd_total","reduce","a","b","error","focus","handleChange","valor","ordem","ped_prov","desc_liberacao","desc_cor","elems","Object","keys","i","idx","liberacao","min","onValueChange","mode","showButtons","buttonLayout","decrementButtonClassName","incrementButtonClassName","incrementButtonIcon","decrementButtonIcon","max","renderButtons","Produtos","listItems","setListItems","first","setFirst","setRows","qtd","setQtd","colecao","setColecao","orderBy","setOrderBy","tamColuna","setTamColuna","classColuna","setclassColuna","colecoesOptions","periodosOptions","produtos","setProdutos","setIsBarCode","useLocation","values","queryString","search","pathname","colecao_busca","periodo_busca","order_by","useProductSearch","listItemsProv","lista","scrollTo","totalRecords","rowsPerPageOptions","onPageChange","CardCarrinho","panelCollapsed","setPanelCollapsed","handleDelete","forceUpdate","preco_desc","preco_normal","qtd_item","valor_item","collapsed","onToggle","toggleable","inputId","periodoAtual","periodos_alteracao","periodo_update","updatePeriodo","hideModal","observacao_item","UsePeriodos","orderAtual","has_message","item","validaQtdsPedido","calculatePedido","qtdAtual","qtdMaxima","item_has_message","Carrinho","counter","setCounter","tipoPedido","carrinho","setCarrinho","valorTotal","setValorTotal","qtdTotal","setQtdTotal","observacoes","setObservacoes","razaoSocial","setRazaoSocial","emptyMessage","setEmptyMessage","useCartSearch","observacoesNovo","setObservacoesNovo","updateCounter","prevCounter","CardPeriodo","qtd_periodo","valor_periodo","itens","open","isTeste","handleSave","CardItemPedido","qtd_item_entregar","map_list","order_item","disabled","Pedido","valorTotalEntregar","setValorTotalEntregar","qtdTotalEntregar","setQtdTotalEntregar","pathIdPedido","idPedido","substring","lastIndexOf","qtd_periodo_entregar","valor_periodo_entregar","SolicitacaoTrade","materials","setMaterials","cliente","setCliente","materialEscolhido","setMaterialEscolhido","materialOpcaoEscolhido","setMaterialOpcaoEscolhido","displayModalOpcao","setDisplayModalOpcao","displayModalMaterial","setDisplayModalMaterial","responsiveOptions","breakpoint","optionLabel","descricao","imagem_material_opcao","descricao_longa","descricao_opcao","circular","material","imagem_material","setMaterial","opcoes","materialOpcao","prazo_envio","setMaterialOpcao","materialOpcaoId","Solicitacoes","solicitacoes","setSolicitacoes","solicitacao","setSolicitacao","material_opcao_imagem","material_descricao_longa","imagens","imagem","imagem_solicitacao_trade","acao_tabela","tipo_condicao","condicao","App","verificaLogin","path","component","DataTableBasicDemo","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialize","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5f38a798.chunk.js","sourcesContent":["// export const api_address = \"http://127.0.0.1:8000\"\r\nexport const api_address = \"https://greencomapi.azurewebsites.net\"","import { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { useLocation } from 'react-router-dom'\r\nimport queryString from 'query-string'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\n\r\nfunction getSavedValue(key,initialValue){\r\n  let savedValue = false\r\n  try{\r\n    savedValue= JSON.parse(localStorage.getItem(key))\r\n  }catch (e){\r\n    savedValue = false\r\n  }\r\n  \r\n  if (savedValue) return savedValue\r\n\r\n  return initialValue\r\n  }\r\n\r\nexport function useLocalStorage(key,initialValue){\r\n  const [value,setValue] = useState(() => {return getSavedValue(key,initialValue)})\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key,JSON.stringify(value))\r\n  },[value])\r\n\r\n  return [value,setValue]\r\n}\r\n\r\n\r\nexport function useProductSearch(colecao,periodo,clienteId,orderBy) {\r\n    const [produtos, setProdutos] = useState({})\r\n    const [isBarCode, setIsBarCode] = useState(false)\r\n    const location = useLocation()\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n\r\n      \r\n    useEffect(() => {\r\n      const values = queryString.parse(window.location.search) //busca get parameters\r\n      let url = api_address+location.pathname+'/'\r\n      let colecao_busca = colecao\r\n      if (colecao_busca === \"Todas\")colecao_busca = null\r\n      let periodo_busca = periodo\r\n      if (periodo_busca === \"Todos\")periodo_busca = null \r\n     \r\n      axios({\r\n        method: 'GET',\r\n        url: url,\r\n        headers:{'Authorization': 'Token '+token},\r\n        params:{\r\n          query:values.query,\r\n          colecao:colecao_busca,\r\n          periodo:periodo_busca,\r\n          order_by:orderBy,\r\n          \"clienteId\":clienteId\r\n        }\r\n      }).then(res => {\r\n        setProdutos(res.data)\r\n        console.log(res.data['isBarCode'])\r\n        setIsBarCode(res.data['isBarCode'])\r\n      })\r\n    }, [location,colecao,periodo,clienteId,orderBy])\r\n    return { produtos,isBarCode }\r\n}\r\n\r\nexport default function usePeriodos(produto,periodo,periodo_atual=null) {\r\n  const [dadosPeriodo, setDadosPeriodo] = useState([])\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n    \r\n  useEffect(() => {\r\n    let url = api_address+'/periodos/'\r\n    if(periodo !== ''){\r\n      let params = {\r\n        produto:produto,\r\n        periodo:periodo\r\n      }\r\n      axios({\r\n        method: 'GET',\r\n        headers:{'Authorization': 'Token '+token},\r\n        url: url,\r\n        params:params\r\n      }).then(res => {\r\n        setDadosPeriodo(res.data['dados'])\r\n      })\r\n    }\r\n\r\n  }, [produto,periodo,periodo_atual])\r\n  return { dadosPeriodo }\r\n}\r\n\r\nexport function useCartSearch(counter,clienteId) {\r\n  const [carrinho, setCarrinho] = useState([])\r\n  const [valorTotal, setValorTotal] = useState(0)\r\n  const [qtdTotal, setQtdTotal] = useState(0)\r\n  const [observacoes, setObservacoes] = useState(\"\")\r\n  const [razaoSocial, setRazaoSocial] = useState(\"\")\r\n  const [emptyMessage, setEmptyMessage] = useState(null)\r\n  const [carrinhoId,setCarrinhoId ] = useLocalStorage(\"carrinhoId\",null)\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n    \r\n  useEffect(() => {\r\n    let url = api_address+'/carrinho/'\r\n    let params = {\r\n      carrinhoId:carrinhoId,\r\n      clienteId:clienteId\r\n    }\r\n    axios({\r\n      method: 'GET',\r\n      headers:{'Authorization': 'Token '+token},\r\n      url: url,\r\n      params:params\r\n    }).then(res => {\r\n      console.log(res.data)\r\n      if(res.data['confirmed']){\r\n        setCarrinhoId(res.data['carrinhoId'])\r\n      }\r\n      setCarrinho(res.data['dados'])\r\n      setObservacoes(res.data['observacoes'])\r\n      setRazaoSocial(res.data['razao_social'])\r\n      setEmptyMessage(res.data['message'])\r\n      setValorTotal(res.data['valor_total'])\r\n      setQtdTotal(res.data['qtd_total'])\r\n      \r\n    })\r\n\r\n  },[counter,carrinhoId,observacoes,valorTotal,qtdTotal,razaoSocial])\r\n\r\n  return { carrinho, emptyMessage,observacoes,valorTotal,qtdTotal,razaoSocial }\r\n}\r\n\r\nexport function useFilterOptions() {\r\n  const [colecoes, setColecoes] = useState([])\r\n  const [periodos, setPeriodos] = useState([])\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n    \r\n  useEffect(() => {\r\n    let url = api_address+'/filterOptions/'\r\n    axios({\r\n      method: 'GET',\r\n      headers:{'Authorization': 'Token '+token},\r\n      url: url,\r\n    }).then(res => {\r\n      console.log(res.data)\r\n      setColecoes(res.data['colecoes'])\r\n      setPeriodos(res.data['periodos'])\r\n    })\r\n\r\n  },[colecoes,periodos])\r\n\r\n  return { colecoes, periodos }\r\n}\r\n\r\nexport function useClients() {\r\n  const [clientes, setClientes] = useState([])\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n    \r\n  useEffect(() => {\r\n    let url = api_address+'/clientes/'\r\n    axios({\r\n      method: 'GET',\r\n      headers:{'Authorization': 'Token '+token},\r\n      url: url,\r\n    }).then(res => {\r\n      console.log(res.data)\r\n      setClientes(res.data['clientes'])\r\n    })\r\n\r\n  },[])\r\n\r\n  return { clientes }\r\n}\r\n\r\n\r\n\r\n  ","import React, { useState,useRef }  from 'react';\r\nimport { Menubar } from 'primereact/menubar';\r\nimport { Menu } from 'primereact/menu';\r\nimport { Button } from 'primereact/button';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\n\r\n//Menu com dropdown para pedidos,clientes e etc\r\nconst MenuPerfil = () => {\r\n    const menu = useRef(null);\r\n    const [username, ] = useLocalStorage(\"username\",null)\r\n    const [isRep, ] = useLocalStorage(\"isRep\",null)\r\n    \r\n    let items_perfil = [\r\n            {\r\n                label: 'Conta',\r\n                icon: 'pi pi-user',\r\n                url: '/conta'\r\n            },\r\n            {\r\n                label: 'Pedidos',\r\n                icon: 'pi pi-book',\r\n                url: '/pedidos'\r\n            },\r\n\r\n        ]\r\n        if (isRep){\r\n            items_perfil.push({\r\n                label: 'Clientes',\r\n                icon: 'pi pi-users',\r\n                url: '/clientes'\r\n            })\r\n            items_perfil.push({\r\n                label: 'Promocoes',\r\n                icon: 'pi pi-percentage',\r\n                url: '/promocoes'\r\n            })\r\n            items_perfil.push({\r\n                label: 'Trade',\r\n                icon: 'pi pi-flag',\r\n                url: '/trade'\r\n            })\r\n\r\n        }    \r\n    const items = [\r\n        {   \r\n            label:username,\r\n            items: items_perfil\r\n        }\r\n    ]\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <Menu model={items} popup ref={menu} id=\"popup_menu\" />\r\n            <Button icon=\"pi pi-bars\" onClick={(event) => menu.current.toggle(event)} aria-controls=\"popup_menu\" aria-haspopup />\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nexport function MyMenu(props){\r\n    const [items,] = useLocalStorage(\"categorias\",[])\r\n    const [query,setQuery] = useState('')\r\n    const [tipoConta,] = useLocalStorage(\"tipoConta\",[])\r\n\r\n    const handleSearch = (e) =>{\r\n        if (query !== ''){\r\n            e.preventDefault()\r\n            window.location = '/busca?query='+query\r\n            setQuery('')\r\n        }\r\n\r\n    }\r\n    const handleChangeSearch = (e) =>{\r\n        //Faz submit automaticamente na busca caso seja codigo de barras\r\n        setQuery(e.target.value)\r\n        if (e.target.value.length >= 13 && /^\\d+$/.test(e.target.value)){\r\n            e.preventDefault()\r\n            window.location = '/busca?query='+e.target.value\r\n            setQuery('')\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const start = <a href=\"/\"><img alt=\"logo\" src=\"https://ondasstr092020.blob.core.windows.net/modelo/logo.png\" height=\"40\" className=\"p-mr-2\"></img></a>\r\n    //Mostra lateral do menu apenas para usuario logado\r\n    let end = <a href=\"/login\">Login</a>\r\n    if(props.loggedIn){\r\n        \r\n        end = <> \r\n        <InputText ref={props.searchInput} onChange={handleChangeSearch} placeholder=\"Buscar\" type=\"text\" />\r\n        <Button onClick={handleSearch} icon=\"pi pi-search\" className=\"p-button-rounded p-button-secondary\" />\r\n        <Button icon=\"pi pi-shopping-cart\" onClick={(e) => window.location.href=\"/carrinho\"} aria-controls=\"popup_menu\" aria-haspopup />\r\n        {tipoConta===\"visitante\" ? <Button icon=\"pi pi-user\" onClick={(e) => window.location.href=\"/conta\"} aria-controls=\"popup_menu\" aria-haspopup /> : <MenuPerfil></MenuPerfil> }\r\n        </>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"card\">\r\n                <Menubar model={items} start={start} end={end} />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport './home.css';\r\nimport { Carousel } from 'primereact/carousel';\r\n\r\nconst bannersTemplate = (banner) => {\r\n    return (\r\n        <div className=\"product-item\">\r\n            <div className=\"product-item-content\">\r\n                <div className=\"mb-3\">\r\n                <a href={banner.link} ><img src={banner.url_imagem}  className=\"product-image\" /></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport class Home extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n        \r\n      this.state = {\r\n          banners: [],\r\n        }\r\n    }\r\n  \r\n    componentDidMount() {\r\n      this.updateBanners();\r\n      document.title = \"Greenish B2B\"\r\n    }  \r\n    updateBanners() {\r\n\r\n        let url = api_address+'/home'\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n        }).then(res => {\r\n            this.setState({banners: res.data['banners']})\r\n            console.log(this.state.banners)\r\n        })\r\n    }\r\n  \r\n    render() {\r\n        // const lista = this.state.banners.slice()\r\n        // let banners_html = lista.map((val,index) => <a href={val.link}><img src={val.url_imagem}></img></a>)\r\n        return (\r\n            <div>\r\n                <Carousel value={this.state.banners} numVisible={1} numScroll={1} //responsiveOptions={responsiveOptions}\r\n                itemTemplate={bannersTemplate} />\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {  useState,useEffect,useRef } from 'react'\r\nimport { Button } from 'primereact/button'\r\nimport { InputText } from 'primereact/inputtext'\r\nimport {Password} from 'primereact/password';\r\nimport axios from 'axios'\r\nimport ReactGA from \"react-ga4\";\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { Messages } from 'primereact/messages'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\nexport default function Login(props){\r\n\r\n    const [login,setLogin] = useState(\"\")\r\n    const [senha,setSenha] = useState(\"\")\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [,setLoggedin] = useLocalStorage(\"loggedin\",null)\r\n    const [,setClienteId] = useLocalStorage(\"clienteId\",null)\r\n    const [,setClienteNome] = useLocalStorage(\"clienteNome\",null)\r\n    const [isRep,setIsRep] = useLocalStorage(\"isRep\",null)\r\n    const [,setUsername] = useLocalStorage(\"username\",null)\r\n    const [,setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const [,setCategorias] = useLocalStorage(\"categorias\",[])\r\n    const [,setColecoes] = useLocalStorage(\"colecoes\",[])\r\n    const [,setPeriodos] = useLocalStorage(\"periodos\",[])\r\n    const [,setTipoConta] = useLocalStorage(\"tipoConta\",[])\r\n    const message = useRef(null)\r\n\r\n    useEffect(() => {\r\n      document.title = \"Greenish B2B | Login\"\r\n    }, [])\r\n\r\n\r\n    const handleSubmit = () =>{\r\n\r\n      let data = new FormData()\r\n      data.append(\"username\",login)\r\n      data.append(\"password\",senha)\r\n  \r\n      axios.post(api_address+'/api-token-auth/',data)\r\n      .then(response => {\r\n        let config = {headers:{'Authorization': 'Token '+response.data['token']}}\r\n        console.log(config)\r\n        setToken(response.data['token'])\r\n        axios.get(api_address+'/login/',config)\r\n        .then(response => {\r\n          console.log(response.data)\r\n          setLoggedin(true)\r\n          setClienteId(response.data['clienteId'])\r\n          setClienteNome(response.data['clienteNome'])\r\n          setIsRep(response.data['isRep'])\r\n          setUsername(response.data['username'])\r\n          setCarrinhoId(null)\r\n          setCategorias(response.data['cats'])\r\n          setColecoes(response.data['colecoes'])\r\n          setPeriodos(response.data['periodos'])\r\n          setTipoConta(response.data['tipo_conta'])\r\n          window.location.href = '/'\r\n          ReactGA.event({\r\n            action: \"login\",\r\n            user_type: response.data['tipo_conta'],\r\n          })\r\n        })\r\n      }).catch(function (err){\r\n        message.current.show([\r\n          { severity: 'error', summary: \"Usuario ou senha Incorretos\", sticky: false }\r\n        ])\r\n        setLogin(\"\")\r\n        setSenha(\"\")\r\n      })\r\n    }\r\n\r\n    return(\r\n      <div>\r\n        <Messages ref={message} />\r\n        <div className=\"p-field\">\r\n          <label htmlFor=\"login\" >Login</label>\r\n            <InputText id=\"login\" value={login} onChange={(e) => setLogin(e.target.value)}/>\r\n        </div>\r\n        <div className=\"p-field\">\r\n            <label htmlFor=\"senha\">Senha</label>\r\n            <Password id=\"senha\" value={senha} onChange={(e) => setSenha(e.target.value)} feedback={false}  />\r\n        </div>\r\n        <Button label=\"Entrar\" onClick={() => handleSubmit()} />\r\n      </div>\r\n  \r\n    )\r\n  }","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\n\r\nconst Clientes = () => {\r\n    const [clientes, setClientes] = useState([]);\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [, setClienteId] = useLocalStorage(\"clienteId\",null)\r\n    const [, setClienteNome] = useLocalStorage(\"clienteNome\",null)\r\n    const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n\r\n    const getClientes = () =>{\r\n        let url = api_address+'/clientes/'\r\n        axios({\r\n            method: 'GET',\r\n            headers: {'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            console.log(res.data['clientes'])\r\n            setClientes(res.data['clientes'])\r\n        })\r\n    } \r\n\r\n    useEffect(() => {\r\n        getClientes()\r\n        document.title = \"Greenish B2B | Clientes\"\r\n      }, [])\r\n\r\n    const confirma_alteracao = (rowData) => {\r\n        confirmDialog({\r\n            message: 'Itens nao salvos no carrinho serao apagados. Confirma alteracao?',\r\n            header: 'Confirmacao',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            acceptLabel:\"Sim\",\r\n            rejectLabel:\"Nao\",\r\n            accept: () => altera_cliente(rowData.id,rowData.nome)\r\n        })\r\n    }\r\n\r\n    const altera_cliente = (id,nome) =>{\r\n        // axios({ --- EXCLUSAO INATIVADA\r\n        //     method: 'GET',\r\n        //     headers: {'Authorization': 'Token '+token},\r\n        //     url: api_address+'/pedidos/deleta/'+carrinhoId,\r\n        //   })\r\n        setClienteId(id)\r\n        setClienteNome(nome)\r\n        setCarrinhoId(null)\r\n        window.location.href = '/'\r\n    }\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                <Button label=\"Selecionar\" onClick={() => confirma_alteracao(rowData)} />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"card\">\r\n                <DataTable value={clientes}>\r\n                    <Column field=\"cnpj\" header=\"CNPJ\" filter filterPlaceholder=\"Buscar\"></Column> \r\n                    <Column field=\"razao_social\" header=\"Razao Social\" filter filterPlaceholder=\"Buscar\"></Column>             \r\n                    <Column field=\"uf\" header=\"UF\"></Column>\r\n                    <Column field=\"cidade\" header=\"Cidade\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column field=\"tabela_precos\" header=\"Tabela\"></Column>\r\n                    <Column field=\"desc_cond_pag\" header=\"Condicao Pagamento\"></Column>\r\n                    <Column body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Clientes","export function formatMoney(number) {\r\n    if(number == null){\r\n      return \"\"\r\n    }\r\n    return number.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\r\n  }","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\n\r\nimport React, { useState, useEffect,useRef } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages'\r\nimport { ProgressSpinner } from 'primereact/progressspinner'\r\nimport { Dialog } from 'primereact/dialog'\r\nimport { ColumnGroup } from 'primereact/columngroup'\r\nimport { Row } from 'primereact/row';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport moment from 'moment';\r\n\r\n\r\nconst Pedidos = () => {\r\n    const [pedidos, setPedidos] = useState([]);\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [, setClienteId] = useLocalStorage(\"clienteId\",null)\r\n    const [, setClienteNome] = useLocalStorage(\"clienteNome\",null)\r\n    const [carrinhoAtualId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n    const message = useRef(null)\r\n    const [isRep,] = useLocalStorage(\"isRep\",null)\r\n\r\n    const getPedidos = () =>{\r\n        let url = api_address+'/pedidos/'\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers: {'Authorization': 'Token '+token}\r\n        }).then(res => {\r\n            setPedidos(res.data['pedidos'])\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getPedidos()\r\n        document.title = \"Greenish B2B | Pedidos\"\r\n      }, [])\r\n\r\n      const confirma_alteracao = (rowData) => {\r\n        confirmDialog({\r\n            message: 'Itens nao salvos no carrinho serao apagados. Confirma alteracao?',\r\n            header: 'Confirmacao',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            acceptLabel:\"Sim\",\r\n            rejectLabel:\"Nao\",\r\n            accept: () => alterar_pedido(rowData.id,rowData.cliente__id,rowData.cliente__nome)\r\n        })\r\n    }\r\n\r\n\r\n    const alterar_pedido = (carrrinhoId,id,nome) =>{\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/pedidos/retoma/'+carrrinhoId+'/',\r\n            headers: {'Authorization': 'Token '+token},\r\n            params:{\r\n                carrinhoAtualId:carrinhoAtualId\r\n              },\r\n          }).then(res => {\r\n            if(res.data['confirmed']){\r\n                setCarrinhoId(carrrinhoId)\r\n                setClienteId(id)\r\n                setClienteNome(nome)\r\n                window.location.href = '/carrinho'\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res.data['message'], sticky: false }\r\n                ])\r\n            }\r\n          })\r\n    }\r\n\r\n\r\n    const visualizar_pedido = (carrrinhoId,id,nome) =>{\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/pedidos/retoma/'+carrrinhoId+'/',\r\n            headers: {'Authorization': 'Token '+token},\r\n            params:{\r\n                carrinhoAtualId:carrinhoAtualId\r\n              },\r\n          }).then(res => {\r\n            if(res.data['confirmed']){\r\n                setCarrinhoId(carrrinhoId)\r\n                setClienteId(id)\r\n                setClienteNome(nome)\r\n                window.location.href = '/carrinho'\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res.data['message'], sticky: false }\r\n                ])\r\n            }\r\n          })\r\n    }\r\n\r\n    const processar = (rowData) =>{\r\n        setDisplayModal(true)\r\n\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/pedidos/processa/'+rowData.id+'/',\r\n            headers: {'Authorization': 'Token '+token}\r\n          }).then(res => {\r\n            setDisplayModal(false)\r\n            if(res.data['confirmed']){\r\n                getPedidos()\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res.data['message'], sticky: true }\r\n                ])\r\n            }\r\n          })\r\n    }\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                {rowData.liberado_rep ? <Button label=\"Visualizar\" onClick={() => window.location.href = '/pedido/'+rowData.id} />  : <Button label=\"Alterar\" onClick={() => confirma_alteracao(rowData)} />}\r\n                {rowData.liberado_rep  ? <></>  : rowData.liberado_cliente && isRep ? <Button label=\"Processar\" onClick={() => processar(rowData)} /> : <></>}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    console.log(pedidos)\r\n\r\n    const enviado_template = (rowData) => {\r\n        return rowData.enviado_fabrica ? <>Sim</>  : <>No</>\r\n    }\r\n    const liberado_template = (rowData) => {\r\n        return rowData.liberado_rep ? <>Sim</>  : <>No</>\r\n    }\r\n    const is_teste_template = (rowData) => {\r\n        return rowData.is_teste ? <>Sim</>  : <>No</>\r\n    }\r\n\r\n    const formatCurrency = (value) => {\r\n        return value.toLocaleString('en-US', {style: 'currency', currency: 'BRL'});\r\n    }\r\n\r\n    const valorTotalTemplate = (rowData) => {\r\n        return `${formatCurrency(rowData.valor_total)}`;\r\n    }\r\n    const valorTotalEntregarTemplate = (rowData) => {\r\n        return `${formatCurrency(rowData.valor_total_entregar)}`;\r\n    }\r\n\r\n    const dateTemplate = (rowData) => {\r\n        if(rowData.data_liberacao == null){\r\n            return \"...\"\r\n        }\r\n        return moment(rowData.data_liberacao, \"YYYY-MM-DDTHH:mm:ssZ\").format('DD/MM/YYYY');\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <Dialog title=\"Processando\" visible={displayModal} onHide={()=>\"\"}><ProgressSpinner /></Dialog>\r\n            <div className=\"card\">\r\n                <DataTable value={pedidos}>\r\n                    <Column field=\"cliente__razao_social\" header=\"Razao Social\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column field=\"colecao\" header=\"Colecao\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column header=\"Valor\" body={valorTotalTemplate}></Column>\r\n                    <Column header=\"Valor Entregar\" body={valorTotalEntregarTemplate}></Column>\r\n                    <Column field=\"qtd_total\" header=\"Qtd\"></Column>\r\n                    <Column field=\"cliente__desc_cond_pag\" header=\"Cond Pag\"></Column>\r\n                    <Column body={dateTemplate} header=\"Data\"></Column>\r\n                    <Column field=\"liberado_rep\" header=\"Liberado\" body={liberado_template}></Column>\r\n                    <Column field=\"enviado_fabrica\" header=\"Enviado\" body={enviado_template}></Column>\r\n                    <Column field=\"codigo_erp\" header=\"ID Ondas\"></Column>\r\n                    <Column header=\"Acoes\" body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pedidos","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\n\r\nimport React, { useState, useEffect,useRef } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages'\r\n\r\nconst Promocoes = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const message = useRef(null)\r\n    const [promocoes,setPromocoes] = useState([])\r\n    const [clienteId, ] = useLocalStorage(\"clienteId\",null)\r\n\r\n  \r\n    useEffect(() => {\r\n        getPromocoes()\r\n        document.title = \"Greenish B2B | Promocoes\"\r\n      }, [])\r\n\r\n    const computaPromo = (id_promocao,id_condicao) =>{\r\n        let url = api_address+'/promocoes/'+carrinhoId+'/'\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers:{'Authorization': 'Token '+token},\r\n            params:{\r\n                id_promocao:id_promocao,\r\n                id_condicao:id_condicao\r\n              }\r\n        }).then(res => {\r\n            console.log(res)\r\n            if(res['data']['confirmed']){\r\n                message.current.show([\r\n                    { severity: 'success', summary: res['data']['message'], sticky: false }\r\n                ])\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res['data']['message'], sticky: false }\r\n                ])                \r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    const removePromo = () =>{\r\n        let url = api_address+'/promocoes/remove/'+carrinhoId+'/'\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url, \r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoes Removidas com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const getPromocoes = () =>{\r\n        let url = api_address+'/promocoes'\r\n        if(clienteId != null){\r\n            url = url +'/'+ clienteId\r\n        }\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            setPromocoes(res.data['promocoes'])\r\n            console.log(res.data['promocoes'])\r\n        })\r\n    } \r\n\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        const elems = rowData.condicoes.slice()\r\n        let elems_html = elems.map((val,index) =>\r\n        <Button className=\"p-mr-2\" label={val.desc_condicao} onClick={() => computaPromo(rowData.id_promocao,val.id)} />)\r\n        return (\r\n            <React.Fragment>\r\n                {elems_html}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"card\">\r\n                <DataTable value={promocoes} resizableColumns columnResizeMode=\"fit\">\r\n                    <Column field=\"descricao\" header=\"Promocao\" style={{width:'15%'}}></Column>\r\n                    <Column header=\"Acoes\" body={actionBodyTemplate} style={{width:'85%'}}></Column>\r\n                </DataTable>\r\n            </div>\r\n            <Button className=\"p-d-block p-mx-auto p-mt-6\" label={\"Remover Promoes\"} onClick={() => removePromo()} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Promocoes","import React, {useEffect,useState,useRef} from \"react\";\r\nimport { Button } from 'primereact/button'\r\nimport axios from 'axios'\r\nimport {Password} from 'primereact/password';\r\nimport 'primeflex/primeflex.css';\r\nimport { Dialog } from 'primereact/dialog'\r\nimport { Messages } from 'primereact/messages'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\nexport default function Conta(props){\r\n  const [senhaAtual,setSenhaAtual ] = useState(\"\")\r\n  const [senhaNova1,setSenhaNova1 ] = useState(\"\")\r\n  const [senhaNova2,setSenhaNova2 ] = useState(\"\")\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n  const [displayModalSenha, setDisplayModalSenha] = useState(false)\r\n  const message = useRef(null)\r\n  const [tipoConta,] = useLocalStorage(\"tipoConta\",null)\r\n    \r\n  useEffect(() => {\r\n      document.title = \"Greenish B2B | Conta\"\r\n    }, [])\r\n\r\n    const handleLogout = () =>{\r\n        var config = {\r\n          headers: {'Authorization': 'Token '+token}\r\n        }\r\n        axios.get(api_address+'/accounts/logout/',config)\r\n        .then(response => {\r\n            localStorage.clear()\r\n            window.location.href = '/'\r\n        })\r\n    }\r\n\r\n    const changePassword = () =>{\r\n        if (senhaNova1 === senhaNova2){\r\n          var data = {\r\n            \"senhaNova\":senhaNova1,\r\n            \"senhaAtual\":senhaAtual,\r\n          }\r\n          var config = {\r\n            headers: {'Authorization': 'Token '+token}\r\n          }\r\n          axios.post(api_address+'/change_password/',data,config)\r\n          .then(response => {\r\n              if (response.data['confirmed']){\r\n                localStorage.clear()\r\n                window.location.href = '/login'                \r\n              }else{\r\n                  message.current.show([\r\n                      { severity: 'error', summary: response.data['message'], sticky: false }\r\n                  ])\r\n              }  \r\n          })\r\n      }else{\r\n        message.current.show([\r\n          { severity: 'error', summary: \"Confirmacao de nova senha invalida\", sticky: false }\r\n      ])\r\n      }\r\n      setSenhaAtual(\"\")\r\n      setSenhaNova1(\"\")\r\n      setSenhaNova2(\"\")\r\n  }\r\n\r\n    return(\r\n      <div>\r\n        <Dialog title=\"Alterar Senha\" visible={displayModalSenha} onHide={()=>setDisplayModalSenha(false)}>\r\n            <Messages ref={message} />\r\n            <h5>Senha Atual</h5>\r\n            <Password  value={senhaAtual} onChange={(e)=>setSenhaAtual(e.target.value)} feedback={false}/>\r\n            <h5>Senha Nova</h5>\r\n            <Password value={senhaNova1} onChange={(e)=>setSenhaNova1(e.target.value)} feedback={false}/>\r\n            <h5>Confirme a Nova Senha</h5>\r\n            <Password value={senhaNova2} onChange={(e)=>setSenhaNova2(e.target.value)} feedback={false}/>\r\n            <h5></h5>\r\n            <Button label=\"Confirmar\" onClick={() => changePassword()} />\r\n        </Dialog>\r\n        {tipoConta===\"visitante\" ? <></> : <Button label=\"Alterar Senha\" onClick={() => setDisplayModalSenha(true)} /> }\r\n        <Button label=\"Logout\" onClick={() => handleLogout()} />\r\n      </div>\r\n  \r\n    )\r\n  }","import { InputNumber } from 'primereact/inputnumber';\r\nimport { useEffect, useState,useRef } from 'react'\r\nimport { Messages } from 'primereact/messages'\r\nimport { Card } from 'primereact/card';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport  usePeriodos, {useLocalStorage } from '../requests/greenHooks.js'\r\nimport axios from 'axios'\r\nimport 'primeflex/primeflex.css';\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport { Chip } from 'primereact/chip';\r\n\r\n\r\n\r\nexport default function CardProduto(props) {\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setDisplayModal(props.isBarCode)\r\n    \r\n      }, [props.isBarCode])\r\n    \r\n    const onClick = () => {\r\n        setDisplayModal(true)\r\n    }\r\n    const onHide = () => {\r\n        setDisplayModal(false)\r\n    }\r\n    let desconto\r\n    if(props.produto.produto__desconto>0){\r\n        desconto = \" - \"+parseFloat(props.produto.produto__desconto*100).toFixed()+\"% OFF\"\r\n    }else{\r\n        desconto = \"\"\r\n    }\r\n    const header = <div>\r\n        <h4>{props.produto.produto__descricao}</h4>\r\n        <p>{props.produto.produto__produto}</p>\r\n        <Chip label={formatMoney(props.produto.preco)+desconto} />\r\n        </div>\r\nreturn (\r\n    <div className=\"p-shadow-2 p-m-2\">\r\n    <Card header={header}>\r\n        <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-field p-col-12 p-md-3\">\r\n                <Button label=\"Detalhes\" icon=\"pi pi-external-link\" onClick={() => onClick()} />\r\n                <Dialog header={props.produto.produto__produto} maximizable visible={displayModal} style={{ width: '75vw' }} onHide={() => onHide()}>\r\n                    <div className=\"p-grid\">\r\n                        <div className=\"p-col\">\r\n                            <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n                        </div>\r\n                        <div className=\"p-col-fixed\" style={{ width: '500px'}}>\r\n                            <TableProds isBarcode={props.isBarCode} searchInput={props.searchInput} onSave={onHide} produto={props.produto}></TableProds>\r\n                        </div>\r\n                    </div>\r\n\r\n                </Dialog>\r\n            </div>\r\n        </div>\r\n    </Card>\r\n    </div>\r\n    \r\n)\r\n}\r\n\r\nfunction definePeriodo(isBarcode){\r\n    \r\n    if (isBarcode){\r\n        return 'Pre-selecionados'\r\n    }else{\r\n        return ''\r\n    }\r\n}\r\n\r\nfunction TableProds(props) {\r\n    const [produto, ] = useState(props.produto)\r\n    const [periodo, setPeriodo] = useState(definePeriodo(props.isBarcode))\r\n    const [pedido, setPedido] = useState({})\r\n    const [linhasDados, setLinhasDados] = useState(<div></div>)\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [clienteId, ] = useLocalStorage(\"clienteId\",null)\r\n    const [carrinhoId,setCarrinhoId ] = useLocalStorage(\"carrinhoId\",null)\r\n    const [displayModalObs, setDisplayModalObs] = useState(false)\r\n    const [observacaoItem, setObservacaoItem] = useState(\"\")\r\n    const message = useRef(null)\r\n    const {\r\n        dadosPeriodo,\r\n      } = usePeriodos(produto.produto__produto,periodo)\r\n      \r\n    \r\n      useEffect(() => {\r\n        let order = {}\r\n        for (var index in dadosPeriodo){\r\n            let item = dadosPeriodo[index]\r\n            let cor = item['cor']\r\n            let qtds = new Array(produto.produto__qtd_tamanhos).fill(0);\r\n            order[cor] = qtds\r\n        }\r\n        setPedido(order)\r\n    \r\n      }, [dadosPeriodo])\r\n\r\n      useEffect(() => {\r\n        if (periodo !== ''){\r\n            let tams = dadosPeriodo.map((val) => <LinhaDados dados={val} pedido={pedido} setPedido={setPedido}></LinhaDados>)\r\n            setLinhasDados(tams)\r\n        }\r\n      }, [pedido,periodo])    \r\n    \r\n    const renderTamanhosGrid = (props) => {\r\n        let prods_tams = JSON.parse(props.produto.produto__tamanhos)\r\n        let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>)\r\n        return tams\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        let qtd_total = 0\r\n        for (var index in pedido){\r\n            let qtds_cor = pedido[index]\r\n            qtd_total = qtd_total + qtds_cor.reduce((a,b) => a+b,0)\r\n        }     \r\n        var data = {\r\n            \"produto\":produto,\r\n            \"periodo\":periodo,\r\n            \"qtds\":pedido,\r\n            \"qtd_total\":qtd_total,\r\n            \"clienteId\":clienteId,\r\n            \"carrinhoId\":carrinhoId,\r\n            \"observacao_item\":observacaoItem\r\n        }\r\n        var config = {\r\n            headers:{'Authorization': 'Token '+token}\r\n        }\r\n    \r\n        console.log(data)\r\n        console.log(config['headers'])\r\n        if (qtd_total>0){\r\n            axios.post(api_address+'/carrinho/',data,config)\r\n            .then(response => {\r\n                if (response.data['confirmed']){\r\n                    props.onSave()\r\n                    // message.current.show([\r\n                    //     { severity: 'success', summary: response.data['message'], sticky: true }\r\n                    // ])\r\n                    setCarrinhoId(response.data['carrinhoId'])    \r\n                }else{\r\n                    message.current.show([\r\n                        { severity: 'error', summary: response.data['message'], sticky: true }\r\n                    ])\r\n                }\r\n            }).catch(error => {\r\n                console.log(error.message)\r\n            })\r\n        }else{\r\n            message.current.show([\r\n                { severity: 'error', summary: \"Quantidade deve ser maior que 0\", sticky: false }\r\n            ])            \r\n        }\r\n        props.searchInput.current.focus()\r\n    }\r\n        \r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <Dropdown placeholder=\"Selecione Perodo\" id=\"dropdown\" value={periodo} options={JSON.parse(props.produto.produto__periodos)}\r\n            onChange={(e) => setPeriodo(e.value)}\r\n            />\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col\">TIPO</div>\r\n                <div className=\"p-col\">COR</div>\r\n                {renderTamanhosGrid(props)}\r\n            </div>\r\n            {linhasDados}\r\n            <Button label=\"Observao\" onClick={() => setDisplayModalObs(true)} className=\"p-mr-2\" />\r\n            <Dialog header=\"Observao Item\" visible={displayModalObs} onHide={()=>setDisplayModalObs(false)}>     \r\n            <div>\r\n                <InputTextarea rows={2} cols={50} value={observacaoItem} onChange={(e) => setObservacaoItem(e.target.value)} />\r\n            </div>\r\n            </Dialog>\r\n            <Button label=\"Adicionar\" onClick={handleSubmit}/>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nfunction LinhaDados(props){\r\n\r\n    const handleChange = (valor,props,ordem) => {\r\n        if(valor == null){\r\n            valor = 0\r\n        }\r\n        let ped_prov = props.pedido\r\n        ped_prov[props.dados.cor][ordem] = valor\r\n        props.setPedido(ped_prov)\r\n    }\r\n\r\n    const renderButtons = (props) => {\r\n        let elems = []\r\n        if(Object.keys(props.pedido).length === 0){\r\n            return elems.map((val) => val)\r\n        }\r\n\r\n        console.log(props)\r\n        for (var idx in props.dados.qtds){\r\n\r\n            let i = idx\r\n\r\n            \r\n\r\n            if (props.dados.liberacao){\r\n                elems.push(\r\n                <div className=\"p-col-1 p-mt-4\">\r\n                        <InputNumber min={0} id={props.dados.cor+i}\r\n                        value={props.pedido[props.dados.cor][i]} onValueChange={(e) => handleChange(e.value,props,i)} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                        style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                        incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n\r\n                </div>\r\n                )\r\n            }else{\r\n                \r\n                elems.push(\r\n                <div className=\"p-col-1 p-mt-4\">\r\n                    <span className=\"p-float-label\">\r\n                        <InputNumber max={props.dados.qtds[i]} min={0} id={props.dados.cor+i}\r\n                        value={props.pedido[props.dados.cor][i]} onValueChange={(e) => handleChange(e.value,props,i)} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                        style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                            incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n                        <label htmlFor={props.dados.cor+i}>{props.dados.qtds[i]}</label>\r\n                    </span>\r\n                </div>\r\n                )\r\n            }\r\n        }\r\n\r\n        \r\n        return elems.map((val) => val)\r\n    }\r\n \r\n    return (\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col\">{props.dados.desc_liberacao}</div>\r\n            <div className=\"p-col\">{props.dados.cor+\" - \"+props.dados.desc_cor}</div>\r\n            {renderButtons(props)}\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport { useEffect, useState } from 'react'\r\nimport { useProductSearch,useLocalStorage } from '../requests/greenHooks.js'\r\nimport CardProduto from './cardProduto.js'\r\nimport 'primeflex/primeflex.css';\r\nimport { Paginator } from 'primereact/paginator';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport { Dropdown } from 'primereact/dropdown';\r\n\r\n\r\nexport default function Produtos(props) {\r\n\r\n  const [listItems,setListItems] = useState(<div></div>)  \r\n  const [first, setFirst] = useState(0)\r\n  const [rows, setRows] = useState(12)\r\n  const [qtd, setQtd] = useState(0)\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n  const [colecao, setColecao] = useLocalStorage(\"colecao\",\"Todas\")\r\n  const [periodo, setPeriodo] = useLocalStorage(\"periodo\",\"Todos\")\r\n  const [orderBy, setOrderBy] = useLocalStorage(\"orderBy\",\"produto\")\r\n  const [clienteId, ] = useLocalStorage(\"clienteId\",null)\r\n  const [tamColuna,setTamColuna] = useLocalStorage(\"tamColuna\",2)\r\n  const [classColuna,setclassColuna] = useState(\"p-col-12 p-md-6 p-lg-\"+tamColuna)\r\n  const [displayModal, setDisplayModal] = useState(false);\r\n  const [colecoesOptions,] = useLocalStorage(\"colecoes\",[])\r\n  const [periodosOptions,] = useLocalStorage(\"periodos\",[])\r\n\r\n\r\n  const tamColOptions = [2,3,4]\r\n  const orderByOptions = [\"produto\",\"estoque\",\"desconto\"]\r\n\r\n  const onClick = () => {\r\n    setDisplayModal(true)\r\n  }\r\n  const onHide = () => {\r\n      setDisplayModal(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Produtos\"\r\n  }, [])\r\n\r\n  //-------------------\r\n\r\n  const {\r\n    produtos,isBarCode\r\n  } = useProductSearch(colecao,periodo,clienteId,orderBy)\r\n\r\n  console.log(isBarCode)\r\n\r\n\r\n  const handlePageChange = (event) => {\r\n    setFirst(event.first);\r\n    setRows(event.rows);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if ('lista' in produtos){\r\n      setQtd(produtos['lista'].length)\r\n      const lista = produtos['lista'].slice(first,first+rows)\r\n      let listItemsProv = <div className={classColuna}>Entrou</div>\r\n      listItemsProv = lista.map((val,index) => <div className={classColuna}><CardProduto\r\n       produto={val} isBarCode={isBarCode} key={index} searchInput={props.searchInput}></CardProduto></div>)\r\n      setListItems(listItemsProv)\r\n      window.scrollTo(0, 0)\r\n    }\r\n  }, [produtos,classColuna,first,rows,isBarCode])\r\n\r\n  useEffect(() => {\r\n    setclassColuna(\"p-col-12 p-md-6 p-lg-\"+tamColuna)\r\n  }, [tamColuna])\r\n\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        \r\n        <Button label=\"Filtrar\" onClick={() => onClick()} className=\"p-mr-2\" />\r\n            <Dialog header={\"Filtros\"} visible={displayModal} style={{ width: '75vw' }} onHide={() => onHide()}>\r\n                <div className=\"p-grid\">\r\n                    <div className=\"p-col-12 p-md-6 p-lg-2\">\r\n                        <h3>Colecao</h3>\r\n                        <Dropdown id=\"dropdown\" value={colecao} options={colecoesOptions}\r\n                        onChange={(e) => setColecao(e.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"p-col-12 p-md-6 p-lg-2\">\r\n                        <h3>Periodo</h3>\r\n                        <Dropdown id=\"dropdown\" value={periodo} options={periodosOptions}\r\n                        onChange={(e) => setPeriodo(e.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"p-col-12 p-md-6 p-lg-2\">\r\n                        <h3>Ordenar por</h3>\r\n                        <Dropdown id=\"dropdown\" value={orderBy} options={orderByOptions}\r\n                        onChange={(e) => setOrderBy(e.value)}\r\n                        />\r\n                    </div>                  \r\n                    <div className=\"p-col-12 p-md-6 p-lg-2\">\r\n                        <h3>Tamanho Imagem</h3>\r\n                        <Dropdown id=\"dropdown\" value={tamColuna} options={tamColOptions}\r\n                        onChange={(e) => setTamColuna(e.value)}\r\n                        />\r\n                    </div>                                             \r\n                </div>\r\n            </Dialog>\r\n      </ div>\r\n      <div className=\"p-grid\">{listItems}</div>\r\n      <Paginator first={first} rows={rows} totalRecords={qtd} rowsPerPageOptions={[12, 24, 36]} onPageChange={handlePageChange}></Paginator>\r\n    </>\r\n  )\r\n}\r\n\r\n","import { InputNumber } from 'primereact/inputnumber';\r\nimport { useEffect, useState,useRef } from 'react'\r\nimport { Messages } from 'primereact/messages'\r\nimport { Card } from 'primereact/card';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport  UsePeriodos,{useLocalStorage }  from '../requests/greenHooks.js'\r\nimport axios from 'axios'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\nimport { Panel } from 'primereact/panel';\r\nimport 'primeflex/primeflex.css';\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport { Chip } from 'primereact/chip';\r\n\r\nexport default function CardCarrinho(props) {\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n    const [token,] = useLocalStorage(\"token\",null)\r\n    const [panelCollapsed,setPanelCollapsed] = useState(true)\r\n    const message = useRef(null)\r\n\r\n\r\n    const onClick = () => {\r\n        setDisplayModal(true)\r\n    }\r\n    const onHide = () => {\r\n        setDisplayModal(false)\r\n    }\r\n    const confirma_exclusao = () => {\r\n        confirmDialog({\r\n            message: 'Confirma a exclusao do produto?',\r\n            header: 'Confirmacao',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            acceptLabel:\"Sim\",\r\n            rejectLabel:\"Nao\",\r\n            accept: () => handleDelete()\r\n        })\r\n    }\r\n\r\n\r\n    const updatePeriodo = (periodo_update) => {\r\n        console.log(periodo_update)\r\n        if(periodo_update !== ''){\r\n            let data = {\r\n                \"periodo\":periodo_update,\r\n                \"produto\":props.produto,\r\n            }\r\n            let config = {\r\n                headers: {'Authorization': 'Token '+token}\r\n            }\r\n            axios.post(api_address+'/carrinho/update_periodo/'+props.produto.id+'/',data,config,)\r\n            .then(response => {\r\n                if (response.data['confirmed']){\r\n                    setPanelCollapsed(false)\r\n                    props.forceUpdate()\r\n                }else{\r\n                    message.current.show([\r\n                        { severity: 'error', summary: response.data['message'], sticky: false }\r\n                    ])\r\n                }\r\n            }).catch(error => {\r\n                console.log(error.message)\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    const handleDelete = () => {\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/carrinho/delete_item/'+props.produto.id+'/',\r\n            headers: {'Authorization': 'Token '+token}\r\n          }).then(res => {\r\n            props.forceUpdate()\r\n          })\r\n    }\r\n\r\n    const preco_desc = props.produto.preco-props.produto.desconto\r\n    const preco_normal =  props.produto.preco//colocar linha cortando text\r\n    const header = <div>\r\n        <h4>{props.produto.produto__descricao + \" - \" + props.produto.produto__produto}</h4>\r\n        <p>{\"Qtd: \"+props.produto.qtd_item +\" | Valor: \"+ formatMoney(props.produto.valor_item) }</p>\r\n        {props.produto.desconto>0 ?  <Chip label={\"Preo: De \"+formatMoney(preco_normal)+\" por R$\"+ formatMoney(preco_desc)} />  : <Chip label={\"Preo: \"+ formatMoney(props.produto.preco)} />  }\r\n        </div>\r\n\r\n    return (\r\n        <div className=\"p-shadow-2 p-m-2\">\r\n        <Card header={header}>\r\n            <Messages ref={message} />\r\n            <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n            <div className=\"p-grid\">\r\n                <Button label=\"Remover\" onClick={() => confirma_exclusao()}  />\r\n                <Panel header=\"Alterar\" collapsed={panelCollapsed} onToggle={(e) => setPanelCollapsed(e.value)} toggleable >\r\n                    <div className=\"p-field p-col-12 p-md-4 p-mt-1\">\r\n                        <span className=\"p-float-label\">\r\n                            <Dropdown inputId=\"dropdown\"  value={props.periodoAtual}\r\n                            options={JSON.parse(props.produto.periodos_alteracao)}\r\n                            onChange={(e) => updatePeriodo(e.value)}\r\n                            />  \r\n                            <label htmlFor=\"dropdown\">Periodo</label>\r\n                        </span>\r\n                    </div>                  \r\n                    <Button label=\"Alterar Quantidades\" onClick={() => onClick()}  />\r\n                </Panel>\r\n            </div>\r\n                <div className=\"p-field p-col-12 p-md-3\">\r\n\r\n                    <Dialog header={props.produto.produto__produto} maximizable visible={displayModal} style={{ width: '75vw' }} onHide={() => onHide()}>\r\n                        <div className=\"p-grid\">\r\n                            <div className=\"p-col\">\r\n                                <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n                            </div>\r\n                            <div className=\"p-col-fixed\" style={{ width: '500px'}}>\r\n                                <TableProds\r\n                                 periodoAtual={props.periodoAtual} produto={props.produto} \r\n                                 forceUpdate={props.forceUpdate} hideModal={onHide}>\r\n                                 </TableProds>\r\n                            </div>  \r\n                        </div>\r\n\r\n                    </Dialog>\r\n                </div>\r\n        </Card>\r\n        </div>\r\n        \r\n    )\r\n}\r\nfunction TableProds(props) {\r\n    const [produto, ] = useState(props.produto)\r\n    const [periodo, ] = useState(props.periodoAtual)\r\n    const [pedido, setPedido] = useState({})\r\n    const message = useRef(null)\r\n    const [linhasDados, setLinhasDados] = useState(<div></div>)\r\n    const [clienteId, ] = useLocalStorage(\"clienteId\",null)\r\n    const [carrinhoId, ] = useLocalStorage(\"carrinhoId\",null)\r\n    const [displayModalObs, setDisplayModalObs] = useState(false)\r\n    const [observacaoItem, setObservacaoItem] = useState(props.produto.observacao_item)\r\n    const [token,] = useLocalStorage(\"token\",null)\r\n    \r\n    const {\r\n        dadosPeriodo,\r\n      } = UsePeriodos(produto.produto__produto,periodo)\r\n    \r\n      useEffect(() => {\r\n        let [order,has_message] = calculatePedido(dadosPeriodo,produto)\r\n        setPedido(order)    \r\n      }, [dadosPeriodo])\r\n\r\n      useEffect(() => {\r\n        if (periodo !== ''){\r\n            let tams = dadosPeriodo.map((val) => <LinhaDados dados={val} pedido={pedido} setPedido={setPedido}></LinhaDados>)\r\n            setLinhasDados(tams)\r\n        }\r\n      }, [pedido])  \r\n\r\n\r\n\r\n    const renderTamanhosGrid = () => {\r\n        let prods_tams = JSON.parse(produto.produto__tamanhos)\r\n        let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>)\r\n        return tams\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        let qtd_total = 0\r\n        for (var index in pedido){\r\n            let qtds_cor = pedido[index]\r\n            qtd_total = qtd_total + qtds_cor.reduce((a,b) => a+b,0)\r\n        }\r\n        var data = {\r\n            \"produto\":produto,\r\n            \"qtds\":pedido,\r\n            \"qtd_total\":qtd_total,\r\n            \"clienteId\":clienteId,\r\n            \"carrinhoId\":carrinhoId,\r\n            \"observacao_item\":observacaoItem\r\n        }\r\n        var config = {\r\n            headers: {'Authorization': 'Token '+token}\r\n        }\r\n    \r\n        axios.post(api_address+'/carrinho/update_qtds/'+produto.id+'/',data,config,)\r\n        .then(response => {\r\n            if (response.data['confirmed']){\r\n                message.current.show([\r\n                    { severity: 'success', summary: response.data['message'], sticky: true }\r\n                ])\r\n                props.forceUpdate()\r\n                props.hideModal()\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: response.data['message'], sticky: true }\r\n                ])\r\n            }\r\n\r\n        }).catch(error => {\r\n            console.log(error.message)\r\n       })\r\n    }\r\n        \r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col\">TIPO</div>\r\n                <div className=\"p-col\">COR</div>\r\n                {renderTamanhosGrid()}\r\n            </div>\r\n            {linhasDados}\r\n            <Button label=\"Observao\" onClick={() => setDisplayModalObs(true)} className=\"p-mr-2\" />\r\n            <Dialog header=\"Observao Item\" visible={displayModalObs} onHide={()=>setDisplayModalObs(false)}>     \r\n            <div>\r\n                <InputTextarea rows={2} cols={50} value={observacaoItem} onChange={(e) => setObservacaoItem(e.target.value)} />\r\n            </div>\r\n            </Dialog>\r\n            <Button label=\"Alterar\" onClick={handleSubmit}/>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nfunction LinhaDados(props){\r\n\r\n    const handleChange = (valor,props,ordem) => {\r\n        let ped_prov = props.pedido\r\n        ped_prov[props.dados.cor][ordem] = valor\r\n        props.setPedido(ped_prov)\r\n    }\r\n\r\n    const renderButtons = (props) => {\r\n        let elems = []\r\n        if(Object.keys(props.pedido).length === 0){\r\n            return elems.map((val) => val)\r\n        }\r\n        for (var idx in props.dados.qtds){\r\n\r\n            let i = idx\r\n\r\n            if (props.dados.liberacao){\r\n                elems.push(\r\n                <div className=\"p-col-1 p-mt-4\">\r\n                        <InputNumber min={0} id={props.dados.cor+i}\r\n                        value={props.pedido[props.dados.cor][i]} onValueChange={(e) => handleChange(e.value,props,i)} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                        style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                        incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n\r\n                </div>\r\n                )\r\n            }else{\r\n                elems.push(\r\n                <div className=\"p-col-1 p-mt-4\">\r\n                    <span className=\"p-float-label\">\r\n                        <InputNumber max={props.dados.qtds[i]} min={0} id={props.dados.cor+i}\r\n                        value={props.pedido[props.dados.cor][i]} onValueChange={(e) => handleChange(e.value,props,i)} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                        style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                            incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n                        <label htmlFor={props.dados.cor+i}>{props.dados.qtds[i]}</label>\r\n                    </span>\r\n                </div>\r\n                )\r\n            }\r\n        }\r\n        \r\n        return elems.map((val) => val)\r\n    }\r\n \r\n    return (\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col\">{props.dados.desc_liberacao}</div>\r\n            <div className=\"p-col\">{props.dados.cor+\" - \"+props.dados.desc_cor}</div>\r\n            {renderButtons(props)}\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n//FUNCOES AUXILIARES\r\n\r\n// function calculateOptionsPeriodos(produto,dadosPeriodo){\r\n//     // CALCULA OPCOES DE PERIODOS REMOVENDO A OPCAO DO PERIODO ATUAL e PRE-SELECIONADOS\r\n//     let periodos = JSON.parse(produto.produto__periodos)\r\n//     let index = periodos.indexOf(\"Pre-selecionados\");\r\n//     if (index > -1) {\r\n//         periodos.splice(index, 1);\r\n//     }\r\n//     return periodos\r\n// }\r\n\r\nfunction validaQtdsPedido(qtdAtual,qtdMaxima){\r\n    let qtds = []\r\n    let item_has_message = false\r\n    for (var i in qtdAtual){\r\n        let dif = qtdMaxima[i]-qtdAtual[i]\r\n        if (dif<0){\r\n            qtds.push(qtdMaxima[i])\r\n            item_has_message = true\r\n        }else{\r\n            qtds.push(qtdAtual[i])\r\n        }\r\n        \r\n    }\r\n    return [qtds,item_has_message]\r\n}\r\n\r\nfunction calculatePedido(dadosPeriodo,produto){\r\n    let order = {}\r\n    let orderAtual = JSON.parse(produto.qtds)\r\n    let has_message = false\r\n    for (var index in dadosPeriodo){\r\n        let item = dadosPeriodo[index]\r\n        let cor = item['cor']\r\n        let qtds = new Array(produto.produto__qtd_tamanhos).fill(0)\r\n        if(cor in orderAtual){\r\n            if(item['liberacao']){\r\n                qtds = orderAtual[cor]               \r\n            }else{\r\n                let [qtds_x,item_has_message] = validaQtdsPedido(orderAtual[cor],item['qtds'])\r\n                qtds = qtds_x\r\n                if (item_has_message) has_message=true\r\n            }                \r\n        }\r\n        order[cor] = qtds\r\n    }\r\n    return [order,has_message]\r\n}","import React from \"react\";\r\nimport { useCartSearch,useLocalStorage } from '../requests/greenHooks.js'\r\nimport 'primeflex/primeflex.css';\r\nimport { useEffect, useState } from 'react'\r\nimport { Card } from 'primereact/card';\r\n// import CardCarrinho from './cardCarrinho.js'\r\nimport CardCarrinho from './cardCarrinhoNovo.js'\r\nimport { Button } from 'primereact/button';\r\nimport axios from 'axios'\r\nimport { Dialog } from 'primereact/dialog'\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\nimport { InputSwitch } from 'primereact/inputswitch';\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { ToggleButton } from 'primereact/togglebutton';\r\nimport { SelectButton } from 'primereact/selectbutton';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport { Chip } from 'primereact/chip';\r\n\r\n\r\n\r\nexport default function Carrinho() {\r\n\r\n  const [listItems,setListItems] = useState(<div></div>)\r\n  const [counter,setCounter] = useState(0)\r\n  const [clienteId,setClienteId ] = useLocalStorage(\"clienteId\",null)\r\n  const [clienteNome,setClienteNome ] = useLocalStorage(\"clienteNome\",null)\r\n  const [carrinhoId,setCarrinhoId ] = useLocalStorage(\"carrinhoId\",null)\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n  const [isRep,setIsRep ] = useLocalStorage(\"isRep\",null)\r\n  const [displayModal, setDisplayModal] = useState(false)\r\n  const [tipoPedido, setTipoPedido] = useState(\"Real\")\r\n  const [tipoConta,] = useLocalStorage(\"tipoConta\",null)\r\n\r\n  const {\r\n    carrinho,\r\n    emptyMessage,\r\n    observacoes,\r\n    valorTotal,\r\n    qtdTotal,\r\n    razaoSocial\r\n  } = useCartSearch(counter,clienteId)\r\n\r\n  const [observacoesNovo,setObservacoesNovo] = useState(\"\")\r\n\r\n  const updateCounter = () => {\r\n    setCounter(prevCounter => prevCounter+1)\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Carrinho\"\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setObservacoesNovo(observacoes)\r\n  }, [observacoes])\r\n\r\n  useEffect(() => {\r\n    const lista = carrinho\r\n    let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\"></div>\r\n    if (lista.length>0){\r\n      listItemsProv = lista.map((val,index) => \r\n      <div className=\"p-col-12 p-md-12 p-lg-12\">\r\n        <CardPeriodo forceUpdate={updateCounter} periodoAtual={val.periodo} qtd_periodo={val.qtd_periodo}\r\n        valor_periodo={val.valor_periodo} itens={val.itens} key={index}></CardPeriodo>\r\n        </div>)\r\n    }\r\n    setListItems(listItemsProv)\r\n  }, [carrinho,emptyMessage,carrinhoId,counter])\r\n\r\n  const handleSave = () => {\r\n\r\n    if(tipoConta===\"visitante\"){\r\n      axios({\r\n        method: 'GET',\r\n        url: api_address+'/pedidos/gera_pdf/'+carrinhoId+'/',\r\n        headers: {'Authorization': 'Token '+token},        \r\n      }).then(res => {\r\n        if(res.data['confirmed']){\r\n          window.open(api_address+'/'+res.data['file'],'popUpWindow')\r\n          // window.location.href = \r\n        }else{\r\n          console.log(res.data)\r\n        }\r\n      })\r\n    }else{\r\n      let isTeste = false\r\n      if(tipoPedido === \"Teste\"){\r\n        isTeste = true\r\n      }\r\n      axios({\r\n          method: 'GET',\r\n          url: api_address+'/pedidos/salva/'+carrinhoId+'/',\r\n          headers: {'Authorization': 'Token '+token},\r\n          params:{\r\n            observacoes:observacoesNovo,\r\n            isTeste: isTeste\r\n          }\r\n          \r\n        }).then(res => {\r\n          if(res.data['confirmed']){\r\n            if(isRep){\r\n              setClienteId(null)\r\n              setClienteNome(null)\r\n              setCarrinhoId(null)\r\n            }else{\r\n              setCarrinhoId(null)\r\n            }\r\n            window.location.href = '/pedidos'\r\n          }else{\r\n            console.log(res.data)//Fazer Logica para mostrar mensagem de erro\r\n          }\r\n        })\r\n    }\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <p>{emptyMessage}</p>\r\n    \r\n    <Chip label={\"Cliente: \"+razaoSocial} />\r\n    <Chip label={\"Quantidade Total: \"+qtdTotal} />\r\n    <Chip label={\"Valor Total: \"+formatMoney(valorTotal)} />\r\n    <Button label=\"Salvar\" onClick={() => setDisplayModal(true)} className=\"p-button-rounded p-mr-2\" />\r\n    <Dialog header=\"Observacoes\" visible={displayModal} onHide={()=>setDisplayModal(false)}>     \r\n      <div>\r\n          <InputTextarea rows={10} cols={50} value={observacoesNovo} onChange={(e) => setObservacoesNovo(e.target.value)} />\r\n      </div>\r\n      {/* <div>\r\n         <SelectButton value={tipoPedido} className=\"p-d-block p-mx-auto p-mt-2\" options={[\"Teste\",\"Real\"]} onChange={(e) => setTipoPedido(e.value)} />\r\n      </div> */}\r\n      <div>\r\n        <Button label=\"Salvar\" className=\"p-d-block p-mx-auto p-mt-2\" onClick={() => handleSave()} />\r\n      </div>\r\n\r\n\r\n      \r\n      \r\n    </Dialog>\r\n    <div className=\"p-grid\">{listItems}</div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nfunction CardPeriodo(props){\r\n  const lista = props.itens.slice()\r\n  let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\">Entrou</div>\r\n  listItemsProv = lista.map((val,index) => <div className=\"p-col-6 p-md-6 p-lg-2\">\r\n    <CardCarrinho periodoAtual={props.periodoAtual} forceUpdate={props.forceUpdate} produto={val} key={index}></CardCarrinho>\r\n    </div>)\r\n\r\n  return (\r\n    <Card title={props.periodoAtual}>\r\n      <p>{\"Quantidade Periodo: \"+props.qtd_periodo + \" | Valor Periodo: \"+ formatMoney(props.valor_periodo)}</p>\r\n    <div className=\"p-grid\">\r\n      {listItemsProv}\r\n    </div>\r\n  </Card>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { InputNumber } from 'primereact/inputnumber';\r\nimport { useEffect, useState,useRef } from 'react'\r\nimport { Messages } from 'primereact/messages'\r\nimport { Card } from 'primereact/card';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport  UsePeriodos,{useLocalStorage }  from '../requests/greenHooks.js'\r\nimport { Chip } from 'primereact/chip';\r\n\r\nimport 'primeflex/primeflex.css';\r\n\r\nexport default function CardItemPedido(props) {\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n    const [token,] = useLocalStorage(\"token\",null)\r\n    const [panelCollapsed,setPanelCollapsed] = useState(true)\r\n    const message = useRef(null)\r\n\r\n\r\n    const onClick = () => {\r\n        setDisplayModal(true)\r\n    }\r\n    const onHide = () => {\r\n        setDisplayModal(false)\r\n    }\r\n\r\n\r\n    const preco_desc = props.produto.preco-props.produto.desconto\r\n    const preco_normal =  props.produto.preco//colocar linha cortando text\r\n    const header = <div>\r\n        <h4>{props.produto.produto__descricao + \" - \" + props.produto.produto__produto}</h4>\r\n        <p>{\"Qtd: \"+props.produto.qtd_item +\" | Valor: \"+ formatMoney(props.produto.valor_item) }</p>\r\n        <p>{\"Qtd Entregar: \"+props.produto.qtd_item_entregar}</p>\r\n        {props.produto.desconto>0 ?  <Chip label={\"Preo: De \"+formatMoney(preco_normal)+\" por R$\"+ formatMoney(preco_desc)} />  : <Chip label={\"Preo: \"+ formatMoney(props.produto.preco)} />  }\r\n        </div>\r\n\r\n    return (\r\n        <div className=\"p-shadow-2 p-m-2\">\r\n        <Card header={header}>\r\n            <Messages ref={message} />\r\n            <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n            <div className=\"p-grid\">\r\n            <Button label=\"Detalhes\" onClick={() => onClick()} className=\"p-mr-2\" />\r\n            </div>\r\n                <div className=\"p-field p-col-12 p-md-3\">\r\n\r\n                    <Dialog header={props.produto.produto__produto} maximizable visible={displayModal} style={{ width: '75vw' }} onHide={() => onHide()}>\r\n                        <div className=\"p-grid\">\r\n                            <div className=\"p-col\">\r\n                                <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n                            </div>\r\n                            <div className=\"p-col-fixed\" style={{ width: '500px'}}>\r\n                                <TableProds\r\n                                 periodoAtual={props.periodoAtual} produto={props.produto} \r\n                                 hideModal={onHide}>\r\n                                 </TableProds>\r\n                            </div>  \r\n                        </div>\r\n\r\n                    </Dialog>\r\n                </div>\r\n        </Card>\r\n        </div>\r\n        \r\n    )\r\n}\r\nfunction TableProds(props) {\r\n    const [produto, ] = useState(props.produto)\r\n    const [periodo, ] = useState(props.periodoAtual)\r\n    const [pedido, setPedido] = useState({})\r\n    const message = useRef(null)\r\n    const [linhasDados, setLinhasDados] = useState(<div></div>)    \r\n\r\n      useEffect(() => {\r\n          let map_list = calculatePedido(produto)\r\n          let pedido = JSON.parse(produto.qtds)\r\n        if (periodo !== ''){\r\n            console.log(pedido)\r\n            let tams = map_list.map((val) => <LinhaDados dados={val} pedido={pedido}></LinhaDados>)\r\n            setLinhasDados(tams)\r\n        }\r\n      }, [])  \r\n\r\n\r\n\r\n    const renderTamanhosGrid = () => {\r\n        let prods_tams = JSON.parse(produto.produto__tamanhos)\r\n        let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>)\r\n        return tams\r\n    }\r\n        \r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col\">COR</div>\r\n                {renderTamanhosGrid()}\r\n            </div>\r\n            {linhasDados}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nfunction LinhaDados(props){\r\n\r\n    const renderButtons = (props) => {\r\n        let elems = []\r\n        if(Object.keys(props.pedido).length === 0){\r\n            return elems.map((val) => val)\r\n        }\r\n        for (var idx in props.dados.qtds){\r\n\r\n            let i = idx\r\n\r\n            elems.push(\r\n            <div className=\"p-col-1 p-mt-4\">\r\n                    <InputNumber min={0} id={props.dados.cor+i} disabled={true}\r\n                    value={props.pedido[props.dados.cor][i]} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                    style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                    incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n            </div>\r\n            )\r\n        \r\n    }\r\n    return elems.map((val) => val)\r\n}\r\n \r\n    return (\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col\">{props.dados.cor}</div>\r\n            {renderButtons(props)}\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\nfunction calculatePedido(produto){\r\n    let order = {}\r\n    let orderAtual = JSON.parse(produto.qtds)\r\n    order = []\r\n    for(var key in orderAtual){\r\n        let order_item = {}\r\n        order_item['cor'] = key\r\n        order_item['qtds'] = orderAtual[key]\r\n        order.push(order_item)\r\n    }\r\n    return order\r\n}\r\n\r\n","import React from \"react\";\r\nimport { useCartSearch,useLocalStorage } from '../requests/greenHooks.js'\r\nimport 'primeflex/primeflex.css';\r\nimport { useEffect, useState } from 'react'\r\nimport { Card } from 'primereact/card';\r\n// import CardCarrinho from './cardCarrinho.js'\r\nimport CardItemPedido from './cardItemPedido.js'\r\nimport axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { Button } from 'primereact/button';\r\nimport { Chip } from 'primereact/chip';\r\nimport { formatMoney } from '../utils/utils.js';\r\n\r\n\r\nexport default function Pedido() {\r\n\r\n  const [listItems,setListItems] = useState(<div></div>)  \r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n\r\n  const [pedido,setPedido ] = useState([])\r\n  const [emptyMessage,setEmptyMessage ] = useState(null)\r\n  const [valorTotal,setValorTotal ] = useState(null)\r\n  const [qtdTotal,setQtdTotal ] = useState(null)\r\n  const [valorTotalEntregar,setValorTotalEntregar ] = useState(null)\r\n  const [qtdTotalEntregar,setQtdTotalEntregar ] = useState(null)\r\n  const [razaoSocial,setRazaoSocial ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Carrinho\"\r\n\r\n\r\n    const pathIdPedido = window.location.href\r\n    const idPedido = pathIdPedido.substring(pathIdPedido.lastIndexOf('/') + 1)\r\n\r\n    let url = api_address+'/pedido/'+idPedido\r\n    axios({\r\n      method: 'GET',\r\n      headers:{'Authorization': 'Token '+token},\r\n      url: url,\r\n    }).then(res => {\r\n      console.log(res.data)\r\n      if(res.data['confirmed']){\r\n        setPedido(res.data['dados'])\r\n        setRazaoSocial(res.data['razao_social'])\r\n        setEmptyMessage(res.data['message'])\r\n        setValorTotal(res.data['valor_total'])\r\n        setQtdTotal(res.data['qtd_total'])\r\n        setValorTotalEntregar(res.data['valor_total_entregar'])\r\n        setQtdTotalEntregar(res.data['qtd_total_entregar'])\r\n      }\r\n\r\n      console.log(res.data['dados'])\r\n    })\r\n\r\n    \r\n  \r\n  }, [])\r\n\r\n\r\n  useEffect(() => {\r\n    const lista = pedido\r\n    let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\"></div>\r\n    if (lista.length>0){\r\n      listItemsProv = lista.map((val,index) => \r\n      <div className=\"p-col-12 p-md-12 p-lg-12\">\r\n        <CardPeriodo periodoAtual={val.periodo} qtd_periodo={val.qtd_periodo} valor_periodo={val.valor_periodo}\r\n        qtd_periodo_entregar={val.qtd_periodo_entregar} valor_periodo_entregar={val.valor_periodo_entregar}\r\n        itens={val.itens} key={index}></CardPeriodo>\r\n        </div>)\r\n    }\r\n    setListItems(listItemsProv)\r\n  }, [pedido,emptyMessage])\r\n\r\n\r\n  return (\r\n    <>\r\n    <p>{emptyMessage}</p>\r\n    <Chip label={\"Cliente: \"+razaoSocial} />\r\n    <Chip label={\"Quantidade Total: \"+qtdTotal} />\r\n    <Chip label={\"Quantidade a Total Entregar: \"+qtdTotalEntregar} />\r\n    <Chip label={\"Valor Total: \"+formatMoney(valorTotal)} />\r\n    <Chip label={\"Valor Total a Entregar: \"+formatMoney(valorTotalEntregar)} />\r\n    {/* <Button className=\"p-button-secondary\" label={\"Cliente: \"+razaoSocial} disabled />\r\n    <Button className=\"p-button-secondary\" label={\"Valor Total: \"+formatMoney(valorTotal)} disabled />\r\n    <Button className=\"p-button-secondary\" label={\"Quantidade Total: \"+qtdTotal} disabled />  */}\r\n    \r\n    {/* <p>{\"Cliente: \"+razaoSocial + \" | Valor Total: \"+valorTotal+ \" | Quantidade Total: \"+qtdTotal}</p> */}\r\n    <div className=\"p-grid\">{listItems}</div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nfunction CardPeriodo(props){\r\n  console.log(props)\r\n  const lista = props.itens.slice()\r\n  let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\">Entrou</div>\r\n  listItemsProv = lista.map((val,index) => <div className=\"p-col-6 p-md-6 p-lg-2\">\r\n    <CardItemPedido periodoAtual={props.periodoAtual} produto={val} key={index}></CardItemPedido>\r\n    </div>)\r\n\r\n  return (\r\n    <Card title={props.periodoAtual}>\r\n    <p>{\"Quantidade Periodo: \"+props.qtd_periodo + \" | Valor Periodo: \"+ formatMoney(props.valor_periodo)}</p>\r\n    <p>{\"Quantidade Periodo a Entregar: \"+props.qtd_periodo_entregar + \" | Valor Periodo a Entregar: \"+ formatMoney(props.valor_periodo_entregar)}</p>\r\n    <div className=\"p-grid\">\r\n\r\n    {listItemsProv}\r\n    </div>\r\n  </Card>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Carousel } from 'primereact/carousel';\r\nimport { Button } from 'primereact/button';\r\nimport './trade.css';\r\nimport axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useCartSearch,useLocalStorage } from '../requests/greenHooks.js'\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\nimport 'primeflex/primeflex.css';\r\n\r\n\r\nconst SolicitacaoTrade = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [materials, setMaterials] = useState([]);\r\n    const [clientes, setClientes] = useState([]);\r\n    const [cliente, setCliente] = useState(null);\r\n    const [materialEscolhido, setMaterialEscolhido] = useState({});\r\n    const [materialOpcaoEscolhido, setMaterialOpcaoEscolhido] = useState({});\r\n    const [displayModalOpcao, setDisplayModalOpcao] = useState(false)\r\n    const [displayModalMaterial, setDisplayModalMaterial] = useState(false)\r\n    const [observacoes,setObservacoes] = useState(\"\")\r\n    const responsiveOptions = [\r\n        {\r\n            breakpoint: '1024px',\r\n            numVisible: 3,\r\n            numScroll: 3\r\n        },\r\n        {\r\n            breakpoint: '600px',\r\n            numVisible: 2,\r\n            numScroll: 2\r\n        },\r\n        {\r\n            breakpoint: '480px',\r\n            numVisible: 1,\r\n            numScroll: 1\r\n        }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        document.title = \"Greenish B2B | Trade Marketing\"\r\n        \r\n        let url = api_address+'/trade/get_materiais'\r\n        axios({\r\n          method: 'GET',\r\n          headers:{'Authorization': 'Token '+token},\r\n          url: url,\r\n        }).then(res => {\r\n          console.log(res.data)\r\n          if(res.data['confirmed']){\r\n            setMaterials(res.data['materiais'])\r\n            setClientes(res.data['clientes'])\r\n          }\r\n    \r\n          console.log(res.data['clientes'])\r\n        })\r\n    \r\n        \r\n      \r\n      }, [])\r\n\r\n\r\n    const handleSave = () => {\r\n\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/trade/salva_solicitacao',\r\n            headers: {'Authorization': 'Token '+token},\r\n            params:{\r\n            observacoes:observacoes,\r\n            clienteId: cliente.id,\r\n            materialOpcaoId:materialOpcaoEscolhido.id\r\n            }\r\n            \r\n        }).then(res => {\r\n            if(res.data['confirmed']){\r\n            window.location.href = '/trade/solicitacoes'\r\n            }else{\r\n            console.log(res.data)//Fazer Logica para mostrar mensagem de erro\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n    const setMaterial = (material) => {\r\n        setMaterialEscolhido(material)\r\n        setDisplayModalOpcao(true)\r\n    }\r\n\r\n    const setMaterialOpcao = (materialOpcao) => {\r\n        setMaterialOpcaoEscolhido(materialOpcao)\r\n        setDisplayModalOpcao(false)\r\n        setDisplayModalMaterial(false)\r\n    }\r\n\r\n    const materialTemplate = (material) => {\r\n        return (\r\n            <div className=\"product-item\">\r\n                <div className=\"product-item-content\">\r\n                    <div className=\"mb-3\">\r\n                        <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${material.imagem_material}`}  alt={material.descricao} className=\"product-image\" />\r\n                    </div>\r\n                    <div>\r\n                        <h4 className=\"mb-1\">{material.descricao}</h4>\r\n                        <h6 className=\"mt-0 mb-3\">{material.descricao_longa}</h6>\r\n                        <div className=\"car-buttons mt-5\">\r\n                            <Button icon=\"pi pi-pencil\" onClick={() => setMaterial(material)} className=\"p-button p-button-rounded mr-2\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const materialOpcaoTemplate = (materialOpcao) => {\r\n        return (\r\n            <div className=\"product-item\">\r\n                <div className=\"product-item-content\">\r\n                    <div className=\"mb-3\">\r\n                        <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${materialOpcao.imagem_material_opcao}`}  alt={materialOpcao.descricao} className=\"product-image\" />\r\n                    </div>\r\n                    <div>\r\n                        <h4 className=\"mb-1\">{materialOpcao.descricao_opcao}</h4>\r\n                        <h6 className=\"mt-0 mb-3\">{`Prazo de Envio: ${materialOpcao.prazo_envio} dias`}</h6>\r\n                        {/* <h6 className=\"mt-0 mb-3\">{materialOpcao.descricao_longa}</h6> */}\r\n                        <div className=\"car-buttons mt-5\">\r\n                            <Button icon=\"pi pi-pencil\" className=\"p-button p-button-rounded mr-2\" onClick={() => setMaterialOpcao(materialOpcao)}   />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n\r\n        <>\r\n\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col-12\">\r\n                <h4>Cliente</h4>\r\n                <Dropdown placeholder=\"Selecione Cliente\" id=\"dropdown\" value={cliente} options={clientes}\r\n                    onChange={(e) => setCliente(e.value) } optionLabel=\"nome\"/>\r\n            </div>\r\n            <div className=\"p-col-6\">\r\n                <h4 >Material: {materialEscolhido.descricao}</h4>\r\n                <div className=\"card\">\r\n                    <div className=\"p-grid\">\r\n                    <div className=\"p-col-12\">\r\n                        <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${materialOpcaoEscolhido.imagem_material_opcao}`}\r\n                            style={{ height: '200px'}}  alt={\"escolher\"} className=\"product-image\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"p-col-12\">\r\n                        <p >{materialEscolhido.descricao_longa}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"p-col-6\">\r\n            </div>\r\n            <div className=\"p-col-3\">\r\n            {materialOpcaoEscolhido.descricao_opcao==null ?\r\n             <Button label=\"Escolher Material\"  onClick={() => setDisplayModalMaterial(true)} /> \r\n              :\r\n               <Button label=\"Alterar Material\"  onClick={() => setDisplayModalMaterial(true)} />\r\n            }\r\n            </div>\r\n            <div className=\"p-col-9\">\r\n            </div>\r\n            <div className=\"p-col-12\">\r\n                <h4 >Observacoes</h4>\r\n                <InputTextarea rows={5} cols={100} value={observacoes} onChange={(e) => setObservacoes(e.target.value)} />\r\n            </div>\r\n        </div>\r\n\r\n\r\n            \r\n\r\n\r\n            <Dialog header={\"Escolha material\"}  visible={displayModalMaterial} style={{ width: '75vw' }} onHide={() => setDisplayModalMaterial(false)}>\r\n                <div className=\"carousel-demo\">\r\n\r\n                    <div className=\"card\">\r\n                        <Carousel value={materials} numVisible={2} numScroll={1} responsiveOptions={responsiveOptions} className=\"custom-carousel\" circular\r\n                            itemTemplate={materialTemplate} header={<h5>Teste</h5>} />\r\n                    </div>\r\n                </div>\r\n\r\n            </Dialog>\r\n\r\n\r\n            <Dialog header={\"Escolha opcao de material\"}  visible={displayModalOpcao} style={{ width: '75vw' }} onHide={() => setDisplayModalOpcao(false)}>\r\n                <div className=\"carousel-demo\">\r\n\r\n                    <div className=\"card\">\r\n                        <Carousel value={materialEscolhido.opcoes} numVisible={3} numScroll={1} responsiveOptions={responsiveOptions} className=\"custom-carousel\" circular\r\n                            itemTemplate={materialOpcaoTemplate} />\r\n                    </div>\r\n                </div>\r\n\r\n            </Dialog>\r\n\r\n\r\n\r\n\r\n        \r\n\r\n            <Button label=\"Salvar\" className=\"p-d-block p-mx-auto p-mt-2\" onClick={() => handleSave()} />\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport {SolicitacaoTrade}\r\n     ","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Carousel } from 'primereact/carousel';\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\n\r\n\r\nconst Solicitacoes = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [solicitacoes,setSolicitacoes] = useState([])\r\n    const [solicitacao,setSolicitacao] = useState({})\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n\r\n    const getSolicitacoes = () =>{\r\n        let url = api_address+'/trade/get_solicitacoes'\r\n        axios({\r\n            method: 'GET',\r\n            headers: {'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            console.log(res.data['solicitacoes'])\r\n            setSolicitacoes(res.data['solicitacoes'])\r\n        })\r\n    } \r\n\r\n    useEffect(() => {\r\n        getSolicitacoes()\r\n        document.title = \"Greenish B2B | Trade\"\r\n      }, [])\r\n\r\n    const acao_tabela = (rowData) => {\r\n        setSolicitacao(rowData)\r\n        setDisplayModal(true)\r\n    }\r\n\r\n    const imagensSolicitacaoTemplate = (imagem) => {\r\n        return (\r\n            <div className=\"product-item\">\r\n                <div className=\"product-item-content\">\r\n                    <div className=\"mb-3\">\r\n                        <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${imagem.imagem_solicitacao_trade}`}  alt={\"Sem Imagem\"} className=\"product-image\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                <Button label=\"Visualizar\" onClick={() => acao_tabela(rowData)} />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Dialog header={\"Detalhes Solicitacao\"} visible={displayModal} style={{ width: '75vw' }} onHide={() => setDisplayModal(false)}>\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col-6\">\r\n                    <h4 >Material: {solicitacao.material}</h4>\r\n                    <div className=\"card\">\r\n                        <div className=\"p-grid\">\r\n                        <div className=\"p-col-12\">\r\n                            <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${solicitacao.material_opcao_imagem}`}\r\n                                style={{ height: '200px'}}  alt={\"escolher\"} className=\"product-image\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"p-col-12\">\r\n                            <p >{solicitacao.material_descricao_longa}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"p-col-6\">\r\n                </div>\r\n            </div>\r\n            <h5>Observacoes</h5>\r\n            <InputTextarea value={solicitacao.observacoes} rows={5} cols={30} disabled />\r\n            <Carousel value={solicitacao.imagens} numVisible={3} numScroll={1} circular\r\n                itemTemplate={imagensSolicitacaoTemplate} header={<h5>Imagens</h5>} />\r\n        </Dialog>\r\n\r\n        <div>\r\n        <Button label=\"Fazer nova solicitacao\" onClick={() => window.location.href = '/trade/solicitacao'} className=\"p-button p-button-rounded mr-2\" />\r\n            <div className=\"card\">\r\n                <DataTable value={solicitacoes}>\r\n                    <Column field=\"cliente__razao_social\" header=\"Cliente\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column field=\"material\" header=\"Material\"></Column>\r\n                    <Column field=\"status\" header=\"Status\"></Column>     \r\n                    <Column field=\"data_solicitacao\" header=\"Data Solicitacao\"></Column>\r\n                    <Column field=\"previsao_envio\" header=\"Previsao Envio\"></Column>\r\n                    <Column body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default Solicitacoes","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\n\r\nimport React, { useState, useEffect,useRef } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages'\r\n\r\nconst Promocoes = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const message = useRef(null)\r\n    const [promocoes,setPromocoes] = useState([])\r\n\r\n  \r\n    useEffect(() => {\r\n        getPromocoes()\r\n        document.title = \"Greenish B2B | Promocoes\"\r\n      }, [])\r\n\r\n    const computaPromo = (id_promocao,id_condicao) =>{\r\n        let url = api_address+'/promocoes/'+carrinhoId\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers:{'Authorization': 'Token '+token},\r\n            params:{\r\n                id_promocao:id_promocao,\r\n                id_condicao:id_condicao\r\n              }\r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoo computada com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const removePromo = () =>{\r\n        let url = api_address+'/promocoes/remove/'+carrinhoId\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url, \r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoes Removidas com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const getPromocoes = () =>{\r\n        let url = api_address+'/promocoes'\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            setPromocoes(res.data['promocoes'])\r\n            console.log(res.data['promocoes'])\r\n        })\r\n    } \r\n\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        const elems = rowData.condicoes.slice()\r\n        let elems_html = elems.map((val,index) =>\r\n        <Button className=\"p-mr-2\" label={rowData.tipo_condicao+\" - \"+val.condicao} onClick={() => computaPromo(rowData.id_promocao,val.id)} />)\r\n        return (\r\n            <React.Fragment>\r\n                {elems_html}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"card\">\r\n                <DataTable value={promocoes}>\r\n                    <Column field=\"descricao\" header=\"Promocao\"></Column>\r\n                    <Column header=\"Acoes\" body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n            <Button className=\"p-d-block p-mx-auto p-mt-6\" label={\"Remover Promoes\"} onClick={() => removePromo()} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Promocoes","import {MyMenu} from './menu-home/menu.js'\r\nimport {Home} from './menu-home/home.js'\r\nimport Login from './menu-home/login.js'\r\nimport Clientes from './menu-home/clientes.js'\r\nimport Pedidos from './menu-home/pedidos.js'\r\nimport Promocoes from './menu-home/promocoes.js'\r\nimport Conta from './menu-home/conta.js'\r\nimport Produtos from './produtos/produtos.js'\r\nimport Carrinho from './carrinho/carrinho.js'\r\nimport Pedido from './pedido/pedido.js'\r\nimport {SolicitacaoTrade} from './trade/solicitacaoTrade.js'\r\nimport Solicitacoes from './trade/solicitacoesTrade.js'\r\nimport DataTableBasicDemo from './tests/dataTableDemo.js'\r\n\r\nimport React, { useEffect, useRef,useState } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\n// class App extends React.Component {\r\n\r\n//   constructor(props) {\r\n//       super(props);\r\n//       this.state = {\r\n//       }\r\n//   }\r\n\r\n//   verificaLogin(){\r\n//     let loggedIn = JSON.parse(localStorage.getItem('loggedin'))\r\n//     if (loggedIn==null){\r\n//       loggedIn = false\r\n//     }\r\n//     return loggedIn\r\n//   }\r\n\r\n//   render(){\r\n//       const loggedIn = this.verificaLogin()\r\n\r\n      \r\n//       return(\r\n//           <div>\r\n//             <div>\r\n//             <Router>\r\n//               <div>\r\n//                 <nav>\r\n//                   <MyMenu loggedIn={loggedIn}></MyMenu>\r\n//                 </nav>\r\n\r\n//                 {/* A <Switch> looks through its children <Route>s and\r\n//                     renders the first one that matches the current URL. */}\r\n//                 <Switch>\r\n//                   <Route path=\"/login\" component={Login} />\r\n//                   <Route path=\"/clientes\" component={Clientes} />\r\n//                   <Route path=\"/pedidos\" component={Pedidos} />\r\n//                   <Route path=\"/promocoes\" component={Promocoes} />\r\n//                   <Route path=\"/conta\" component={Conta} />\r\n//                   <Route path=\"/carrinho\" component={Carrinho} />\r\n//                   <Route path=\"/trade/solicitacao\" component={SolicitacaoTrade} />\r\n//                   <Route path=\"/trade\" component={Solicitacoes} />\r\n//                   <Route path=\"/busca\" component={Produtos} />\r\n//                   <Route path=\"/teste\" component={DataTableBasicDemo} />\r\n//                   <Route path=\"/pedido/:idPedido\" component={Pedido} />\r\n//                   <Route path=\"/:linha/:categoria/:subcategoria\">\r\n//                     {loggedIn ? <Produtos />  :  <Redirect to=\"/login\"/>}\r\n//                   </Route>                  \r\n//                   {/* <Route path=\"/:linha/:categoria/:subcategoria\" component={Produtos} /> */}\r\n//                   <Route path=\"/:linha/:categoria\">\r\n//                     {loggedIn ? <Produtos /> :   <Redirect to=\"/login\"/> }\r\n//                   </Route>   \r\n//                   <Route path='/' component={Home}/>\r\n//                 </Switch>\r\n//               </div>\r\n//             </Router>             \r\n//             </div>\r\n//           </div>\r\n//       )\r\n//   }\r\n\r\n\r\n// }\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const verificaLogin = () =>{\r\n    let loggedIn = JSON.parse(localStorage.getItem('loggedin'))\r\n    if (loggedIn==null){\r\n      loggedIn = false\r\n    }\r\n    return loggedIn\r\n    }\r\n\r\n\r\n  const [loggedIn, setLoggedIn] = useState(verificaLogin());\r\n  const searchInput = useRef(null)\r\n\r\n\r\n\r\n      \r\n      return(\r\n          <div>\r\n            <div>\r\n            <Router>\r\n              <div>\r\n                <nav>\r\n                  <MyMenu searchInput={searchInput} loggedIn={loggedIn}></MyMenu>\r\n                </nav>\r\n\r\n                {/* A <Switch> looks through its children <Route>s and\r\n                    renders the first one that matches the current URL. */}\r\n                <Switch>\r\n                  <Route path=\"/login\" component={Login} />\r\n                  <Route path=\"/clientes\" component={Clientes} />\r\n                  <Route path=\"/pedidos\" component={Pedidos} />\r\n                  <Route path=\"/promocoes\" component={Promocoes} />\r\n                  <Route path=\"/conta\" component={Conta} />\r\n                  <Route path=\"/carrinho\" component={Carrinho} />\r\n                  <Route path=\"/trade/solicitacao\" component={SolicitacaoTrade} />\r\n                  <Route path=\"/trade\" component={Solicitacoes} />\r\n                  <Route path=\"/busca\" >\r\n                    <Produtos searchInput={searchInput} />\r\n                  </Route>   \r\n                  <Route path=\"/teste\" component={DataTableBasicDemo} />\r\n                  <Route path=\"/pedido/:idPedido\" component={Pedido} />\r\n                  <Route path=\"/:linha/:categoria/:subcategoria\">\r\n                    {loggedIn ? <Produtos searchInput={searchInput} />  :  <Redirect to=\"/login\"/>}\r\n                  </Route>                  \r\n                  {/* <Route path=\"/:linha/:categoria/:subcategoria\" component={Produtos} /> */}\r\n                  <Route path=\"/:linha/:categoria\">\r\n                    {loggedIn ? <Produtos searchInput={searchInput} /> :   <Redirect to=\"/login\"/> }\r\n                  </Route>   \r\n                  <Route path='/' component={Home}/>\r\n                </Switch>\r\n              </div>\r\n            </Router>             \r\n            </div>\r\n          </div>\r\n      )\r\n  }\r\n\r\n\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'primereact/resources/themes/saga-blue/theme.css'\r\nimport 'primereact/resources/primereact.min.css'\r\nimport 'primeicons/primeicons.css'\r\n\r\nimport ReactGA from \"react-ga4\";\r\n\r\nReactGA.initialize(\"G-XGGNKTY87X\")\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}