{"version":3,"sources":["proxy/proxy.js","requests/greenHooks.js","menu-home/menu.js","menu-home/home.js","menu-home/login.js","menu-home/clientes.js","utils/utils.js","menu-home/pedidos.js","menu-home/promocoes.js","menu-home/conta.js","produtos/cardProduto.js","produtos/produtos.js","carrinho/cardCarrinhoNovo.js","carrinho/carrinho.js","pedido/cardItemPedido.js","pedido/pedido.js","trade/solicitacaoTrade.js","trade/solicitacoesTrade.js","tests/dataTableDemo.js","App.js","reportWebVitals.js","index.js"],"names":["api_address","useLocalStorage","key","initialValue","useState","savedValue","JSON","parse","localStorage","getItem","e","getSavedValue","value","setValue","useEffect","setItem","stringify","usePeriodos","produto","periodo","periodo_atual","dadosPeriodo","setDadosPeriodo","token","params","axios","method","headers","Authorization","url","then","res","data","MenuPerfil","menu","useRef","username","items_perfil","label","icon","push","items","model","popup","ref","id","onClick","event","current","toggle","aria-controls","aria-haspopup","MyMenu","props","itemsDesk","itemMob","visibleRight","setVisibleRight","query","setQuery","tipoConta","start","href","alt","src","className","button","Image","end","loggedIn","searchInput","onChange","target","length","test","preventDefault","window","location","placeholder","type","visible","position","onHide","bannersTemplate","banner","link","url_imagem","Home","state","banners","this","updateBanners","document","title","setState","console","log","numVisible","numScroll","itemTemplate","React","Component","Login","login","setLogin","senha","setSenha","setToken","setLoggedin","setClienteId","setClienteNome","setIsRep","setUsername","setCarrinhoId","setCategorias","setCategoriasMobile","setColecoes","setPeriodos","setTipoConta","message","htmlFor","feedback","FormData","append","post","response","config","get","ReactGA","action","user_type","catch","err","show","severity","summary","sticky","handleSubmit","Clientes","clientes","setClientes","altera_cliente","nome","field","header","filter","filterPlaceholder","body","rowData","Fragment","confirmDialog","acceptLabel","rejectLabel","accept","confirma_alteracao","formatMoney","number","toLocaleString","style","currency","Pedidos","pedidos","setPedidos","carrinhoAtualId","displayModal","setDisplayModal","isRep","getPedidos","alterar_pedido","carrrinhoId","formatCurrency","valor_total","valor_total_entregar","data_liberacao","moment","format","liberado_rep","enviado_fabrica","cliente__id","cliente__nome","liberado_cliente","processar","Promocoes","carrinhoId","promocoes","setPromocoes","clienteId","getPromocoes","resizableColumns","columnResizeMode","width","elems_html","condicoes","slice","map","val","index","desc_condicao","id_promocao","id_condicao","computaPromo","removePromo","Conta","senhaAtual","setSenhaAtual","senhaNova1","setSenhaNova1","senhaNova2","setSenhaNova2","displayModalSenha","setDisplayModalSenha","clear","changePassword","handleLogout","CardProduto","isBarCode","desconto","produto__desconto","parseFloat","toFixed","produto__descricao","produto__produto","preco","top","produto__url_imagem","maximizable","TableProds","isBarcode","onSave","setPeriodo","pedido","setPedido","pedidoTotal","setPedidoTotal","changePedidoTotal","setChangePedidoTotal","linhasDados","setLinhasDados","displayModalObs","setDisplayModalObs","observacaoItem","setObservacaoItem","order","cor","qtds","Array","produto__qtd_tamanhos","fill","tams","LinhaDados","dados","options","produto__periodos","produto__tamanhos","renderTamanhosGrid","rows","cols","qtd_total","reduce","a","b","error","focus","handleChange","valor","ordem","ped_prov","qtd_anterior","desc_liberacao","desc_cor","elems","Object","keys","i","idx","liberacao","min","onValueChange","mode","showButtons","buttonLayout","decrementButtonClassName","incrementButtonClassName","incrementButtonIcon","decrementButtonIcon","max","renderButtons","Produtos","listItems","setListItems","first","setFirst","setRows","qtd","setQtd","colecao","setColecao","orderBy","setOrderBy","tamColuna","setTamColuna","classColuna","setclassColuna","colecoesOptions","periodosOptions","produtos","setProdutos","setIsBarCode","useLocation","values","queryString","search","pathname","colecao_busca","periodo_busca","order_by","useProductSearch","listItemsProv","lista","scrollTo","display","justifyContent","gap","fontSize","padding","totalRecords","rowsPerPageOptions","onPageChange","CardCarrinho","panelCollapsed","setPanelCollapsed","handleDelete","forceUpdate","preco_desc","preco_normal","qtd_item","valor_item","collapsed","onToggle","toggleable","inputId","periodoAtual","periodos_alteracao","periodo_update","updatePeriodo","hideModal","observacao_item","UsePeriodos","orderAtual","has_message","item","validaQtdsPedido","calculatePedido","qtdAtual","qtdMaxima","item_has_message","Carrinho","counter","setCounter","tipoPedido","carrinho","setCarrinho","valorTotal","setValorTotal","qtdTotal","setQtdTotal","observacoes","setObservacoes","razaoSocial","setRazaoSocial","emptyMessage","setEmptyMessage","useCartSearch","observacoesNovo","setObservacoesNovo","updateCounter","prevCounter","CardPeriodo","qtd_periodo","valor_periodo","itens","open","isTeste","handleSave","CardItemPedido","qtd_item_entregar","map_list","order_item","disabled","Pedido","valorTotalEntregar","setValorTotalEntregar","qtdTotalEntregar","setQtdTotalEntregar","pathIdPedido","idPedido","substring","lastIndexOf","qtd_periodo_entregar","valor_periodo_entregar","SolicitacaoTrade","materials","setMaterials","cliente","setCliente","materialEscolhido","setMaterialEscolhido","materialOpcaoEscolhido","setMaterialOpcaoEscolhido","displayModalOpcao","setDisplayModalOpcao","displayModalMaterial","setDisplayModalMaterial","responsiveOptions","breakpoint","optionLabel","descricao","imagem_material_opcao","height","descricao_longa","descricao_opcao","circular","material","imagem_material","setMaterial","opcoes","materialOpcao","prazo_envio","setMaterialOpcao","materialOpcaoId","Solicitacoes","solicitacoes","setSolicitacoes","solicitacao","setSolicitacao","material_opcao_imagem","material_descricao_longa","imagens","imagem","imagem_solicitacao_trade","acao_tabela","tipo_condicao","condicao","App","verificaLogin","path","component","DataTableBasicDemo","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialize","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b4edee8c.chunk.js","sourcesContent":["// export const api_address = \"http://127.0.0.1:8000\"\r\nexport const api_address = \"https://greencomapi.azurewebsites.net\"","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport queryString from \"query-string\";\r\nimport { api_address } from \"../proxy/proxy.js\";\r\n\r\nfunction getSavedValue(key, initialValue) {\r\n  let savedValue = false;\r\n  try {\r\n    savedValue = JSON.parse(localStorage.getItem(key));\r\n  } catch (e) {\r\n    savedValue = false;\r\n  }\r\n\r\n  if (savedValue) return savedValue;\r\n\r\n  return initialValue;\r\n}\r\n\r\nexport function useLocalStorage(key, initialValue) {\r\n  const [value, setValue] = useState(() => {\r\n    return getSavedValue(key, initialValue);\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  }, [value]);\r\n\r\n  return [value, setValue];\r\n}\r\n\r\nexport function useProductSearch(colecao, periodo, clienteId, orderBy) {\r\n  const [produtos, setProdutos] = useState({});\r\n  const [isBarCode, setIsBarCode] = useState(false);\r\n  const location = useLocation();\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n\r\n  useEffect(() => {\r\n    const values = queryString.parse(window.location.search); //busca get parameters\r\n    let url = api_address + location.pathname + \"/\";\r\n    let colecao_busca = colecao;\r\n    if (colecao_busca === \"Todas\") colecao_busca = null;\r\n    let periodo_busca = periodo;\r\n    if (periodo_busca === \"Todos\") periodo_busca = null;\r\n\r\n    axios({\r\n      method: \"GET\",\r\n      url: url,\r\n      headers: { Authorization: \"Token \" + token },\r\n      params: {\r\n        query: values.query,\r\n        colecao: colecao_busca,\r\n        periodo: periodo_busca,\r\n        order_by: orderBy,\r\n        clienteId: clienteId,\r\n      },\r\n    }).then((res) => {\r\n      setProdutos(res.data);\r\n      console.log(res.data[\"isBarCode\"]);\r\n      setIsBarCode(res.data[\"isBarCode\"]);\r\n    });\r\n  }, [location, colecao, periodo, clienteId, orderBy]);\r\n  return { produtos, isBarCode };\r\n}\r\n\r\nexport default function usePeriodos(produto, periodo, periodo_atual = null) {\r\n  const [dadosPeriodo, setDadosPeriodo] = useState([]);\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n\r\n  useEffect(() => {\r\n    let url = api_address + \"/periodos/\";\r\n    if (periodo !== \"\") {\r\n      let params = {\r\n        produto: produto,\r\n        periodo: periodo,\r\n      };\r\n      axios({\r\n        method: \"GET\",\r\n        headers: { Authorization: \"Token \" + token },\r\n        url: url,\r\n        params: params,\r\n      }).then((res) => {\r\n        setDadosPeriodo(res.data[\"dados\"]);\r\n      });\r\n    }\r\n  }, [produto, periodo, periodo_atual]);\r\n  return { dadosPeriodo };\r\n}\r\n\r\nexport function useCartSearch(counter, clienteId) {\r\n  const [carrinho, setCarrinho] = useState([]);\r\n  const [valorTotal, setValorTotal] = useState(0);\r\n  const [qtdTotal, setQtdTotal] = useState(0);\r\n  const [observacoes, setObservacoes] = useState(\"\");\r\n  const [razaoSocial, setRazaoSocial] = useState(\"\");\r\n  const [emptyMessage, setEmptyMessage] = useState(null);\r\n  const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\", null);\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n\r\n  useEffect(() => {\r\n    let url = api_address + \"/carrinho/\";\r\n    let params = {\r\n      carrinhoId: carrinhoId,\r\n      clienteId: clienteId,\r\n    };\r\n    axios({\r\n      method: \"GET\",\r\n      headers: { Authorization: \"Token \" + token },\r\n      url: url,\r\n      params: params,\r\n    }).then((res) => {\r\n      console.log(res.data);\r\n      if (res.data[\"confirmed\"]) {\r\n        setCarrinhoId(res.data[\"carrinhoId\"]);\r\n      }\r\n      setCarrinho(res.data[\"dados\"]);\r\n      setObservacoes(res.data[\"observacoes\"]);\r\n      setRazaoSocial(res.data[\"razao_social\"]);\r\n      setEmptyMessage(res.data[\"message\"]);\r\n      setValorTotal(res.data[\"valor_total\"]);\r\n      setQtdTotal(res.data[\"qtd_total\"]);\r\n    });\r\n  }, [counter, carrinhoId, observacoes, valorTotal, qtdTotal, razaoSocial]);\r\n\r\n  return {\r\n    carrinho,\r\n    emptyMessage,\r\n    observacoes,\r\n    valorTotal,\r\n    qtdTotal,\r\n    razaoSocial,\r\n  };\r\n}\r\n\r\nexport function useFilterOptions() {\r\n  const [colecoes, setColecoes] = useState([]);\r\n  const [periodos, setPeriodos] = useState([]);\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n\r\n  useEffect(() => {\r\n    let url = api_address + \"/filterOptions/\";\r\n    axios({\r\n      method: \"GET\",\r\n      headers: { Authorization: \"Token \" + token },\r\n      url: url,\r\n    }).then((res) => {\r\n      console.log(res.data);\r\n      setColecoes(res.data[\"colecoes\"]);\r\n      setPeriodos(res.data[\"periodos\"]);\r\n    });\r\n  }, [colecoes, periodos]);\r\n\r\n  return { colecoes, periodos };\r\n}\r\n\r\nexport function useClients() {\r\n  const [clientes, setClientes] = useState([]);\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n\r\n  useEffect(() => {\r\n    let url = api_address + \"/clientes/\";\r\n    axios({\r\n      method: \"GET\",\r\n      headers: { Authorization: \"Token \" + token },\r\n      url: url,\r\n    }).then((res) => {\r\n      console.log(res.data);\r\n      setClientes(res.data[\"clientes\"]);\r\n    });\r\n  }, []);\r\n\r\n  return { clientes };\r\n}\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport \"./menu.css\";\r\nimport { Menubar } from \"primereact/menubar\";\r\nimport { Menu } from \"primereact/menu\";\r\nimport { Button } from \"primereact/button\";\r\nimport { SlideMenu } from \"primereact/slidemenu\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { useLocalStorage } from \"../requests/greenHooks.js\";\r\nimport { Sidebar } from \"primereact/sidebar\";\r\nimport { Image } from \"react-bootstrap\";\r\n//Menu com dropdown para pedidos,clientes e etc\r\nconst MenuPerfil = () => {\r\n  const menu = useRef(null);\r\n  const [username] = useLocalStorage(\"username\", null);\r\n  const [isRep] = useLocalStorage(\"isRep\", null);\r\n\r\n  let items_perfil = [\r\n    {\r\n      label: \"Conta\",\r\n      icon: \"pi pi-user\",\r\n      url: \"/conta\",\r\n    },\r\n    {\r\n      label: \"Pedidos\",\r\n      icon: \"pi pi-book\",\r\n      url: \"/pedidos\",\r\n    },\r\n  ];\r\n  if (isRep) {\r\n    items_perfil.push({\r\n      label: \"Clientes\",\r\n      icon: \"pi pi-users\",\r\n      url: \"/clientes\",\r\n    });\r\n    items_perfil.push({\r\n      label: \"Promocoes\",\r\n      icon: \"pi pi-percentage\",\r\n      url: \"/promocoes\",\r\n    });\r\n    items_perfil.push({\r\n      label: \"Trade\",\r\n      icon: \"pi pi-flag\",\r\n      url: \"/trade\",\r\n    });\r\n  }\r\n  const items = [\r\n    {\r\n      label: username,\r\n      items: items_perfil,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Menu model={items} popup ref={menu} id=\"popup_menu\" />\r\n      <Button\r\n        icon=\"pi pi-bars\"\r\n        onClick={(event) => menu.current.toggle(event)}\r\n        aria-controls=\"popup_menu\"\r\n        aria-haspopup\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport function MyMenu(props) {\r\n  const [itemsDesk] = useLocalStorage(\"categorias\",[])\r\n  const [itemMob,] = useLocalStorage(\"categoriasMobile\",[])\r\n  const [visibleRight, setVisibleRight] = useState(false);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [tipoConta] = useLocalStorage(\"tipoConta\", []);\r\n\r\n  const handleSearch = (e) => {\r\n    if (query !== \"\") {\r\n      e.preventDefault();\r\n      window.location = \"/busca?query=\" + query;\r\n      setQuery(\"\");\r\n    }\r\n  };\r\n  const handleChangeSearch = (e) => {\r\n    //Faz submit automaticamente na busca caso seja codigo de barras\r\n    setQuery(e.target.value);\r\n    if (e.target.value.length >= 13 && /^\\d+$/.test(e.target.value)) {\r\n      e.preventDefault();\r\n      window.location = \"/busca?query=\" + e.target.value;\r\n      setQuery(\"\");\r\n    }\r\n  };\r\n\r\n  const start = (\r\n    <a href=\"/\">\r\n      <img\r\n        alt=\"logo\"\r\n        src=\"https://ondasstr092020.blob.core.windows.net/modelo/logo.png\"\r\n        className=\"p-mr-2\"\r\n      />\r\n    </a>\r\n  );\r\n  //Mostra lateral do menu apenas para usuario logado\r\n  const button = (\r\n    <div className=\"btnMenu\" onClick={() => setVisibleRight(true)}>\r\n      <Image src=\"menu.svg\"/>\r\n    </div>\r\n  );\r\n  let end = <a href=\"/login\">Login</a>;\r\n  if (props.loggedIn) {\r\n    end = (\r\n      <div className=\"endMenu\">\r\n        <div className=\"search\">\r\n          <InputText\r\n            ref={props.searchInput}\r\n            onChange={handleChangeSearch}\r\n            placeholder=\"Buscar\"\r\n            type=\"text\"\r\n          />\r\n          <Button\r\n            onClick={handleSearch}\r\n            icon=\"pi pi-search\"\r\n            className=\"p-button-rounded p-button-secondary\"\r\n          />\r\n        </div>\r\n        <div className=\"btns\">\r\n          <Button\r\n            icon=\"pi pi-shopping-cart\"\r\n            onClick={(e) => (window.location.href = \"/carrinho\")}\r\n            aria-controls=\"popup_menu\"\r\n            aria-haspopup\r\n          />\r\n          {tipoConta === \"visitante\" ? (\r\n            <Button\r\n              icon=\"pi pi-user\"\r\n              onClick={(e) => (window.location.href = \"/conta\")}\r\n              aria-controls=\"popup_menu\"\r\n              aria-haspopup\r\n            />\r\n          ) : (\r\n            <MenuPerfil />\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card menu\">\r\n        <Menubar model={itemsDesk} start={start} end={end} className=\"menu\" />\r\n      </div>\r\n      <div className=\"card menuMobile\">\r\n        <header className=\"menuMobile\">\r\n          {start} {button}\r\n        </header>\r\n      </div>\r\n      <Sidebar\r\n        visible={visibleRight}\r\n        position=\"right\"\r\n        onHide={() => setVisibleRight(false)}\r\n      >\r\n        <p>{end}</p>\r\n        <SlideMenu model={itemMob} />\r\n      </Sidebar>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport './home.css';\r\nimport { Carousel } from 'primereact/carousel';\r\n\r\nconst bannersTemplate = (banner) => {\r\n    return (\r\n        <div className=\"product-item\">\r\n            <div className=\"product-item-content\">\r\n                <div className=\"mb-3\">\r\n                <a href={banner.link} ><img src={banner.url_imagem}  className=\"product-image\" /></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport class Home extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n        \r\n      this.state = {\r\n          banners: [],\r\n        }\r\n    }\r\n  \r\n    componentDidMount() {\r\n      this.updateBanners();\r\n      document.title = \"Greenish B2B\"\r\n    }  \r\n    updateBanners() {\r\n\r\n        let url = api_address+'/home'\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n        }).then(res => {\r\n            this.setState({banners: res.data['banners']})\r\n            console.log(this.state.banners)\r\n        })\r\n    }\r\n  \r\n    render() {\r\n        // const lista = this.state.banners.slice()\r\n        // let banners_html = lista.map((val,index) => <a href={val.link}><img src={val.url_imagem}></img></a>)\r\n        return (\r\n            <div>\r\n                <Carousel value={this.state.banners} numVisible={1} numScroll={1} //responsiveOptions={responsiveOptions}\r\n                itemTemplate={bannersTemplate} />\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { Button } from \"primereact/button\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { Password } from \"primereact/password\";\r\nimport axios from \"axios\";\r\nimport ReactGA from \"react-ga4\";\r\nimport { useLocalStorage } from \"../requests/greenHooks.js\";\r\nimport { Messages } from \"primereact/messages\";\r\nimport { api_address } from \"../proxy/proxy.js\";\r\n\r\nexport default function Login(props) {\r\n  const [login, setLogin] = useState(\"\");\r\n  const [senha, setSenha] = useState(\"\");\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n  const [, setLoggedin] = useLocalStorage(\"loggedin\", null);\r\n  const [, setClienteId] = useLocalStorage(\"clienteId\", null);\r\n  const [, setClienteNome] = useLocalStorage(\"clienteNome\", null);\r\n  const [isRep, setIsRep] = useLocalStorage(\"isRep\", null);\r\n  const [, setUsername] = useLocalStorage(\"username\", null);\r\n  const [, setCarrinhoId] = useLocalStorage(\"carrinhoId\", null);\r\n  const [, setCategorias] = useLocalStorage(\"categorias\", []);\r\n  const [, setCategoriasMobile] = useLocalStorage(\"categoriasMobile\", []);\r\n  const [, setColecoes] = useLocalStorage(\"colecoes\", []);\r\n  const [, setPeriodos] = useLocalStorage(\"periodos\", []);\r\n  const [, setTipoConta] = useLocalStorage(\"tipoConta\", []);\r\n  const message = useRef(null);\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Login\";\r\n  }, []);\r\n\r\n  const handleSubmit = () => {\r\n    let data = new FormData();\r\n    data.append(\"username\", login);\r\n    data.append(\"password\", senha);\r\n\r\n    axios\r\n      .post(api_address + \"/api-token-auth/\", data)\r\n      .then((response) => {\r\n        let config = {\r\n          headers: { Authorization: \"Token \" + response.data[\"token\"] },\r\n        };\r\n        console.log(config);\r\n        setToken(response.data[\"token\"]);\r\n        axios.get(api_address + \"/login/\", config).then((response) => {\r\n          console.log(response.data);\r\n          setLoggedin(true);\r\n          setClienteId(response.data[\"clienteId\"]);\r\n          setClienteNome(response.data[\"clienteNome\"]);\r\n          setIsRep(response.data[\"isRep\"]);\r\n          setUsername(response.data[\"username\"]);\r\n          setCarrinhoId(null);\r\n          setCategorias(response.data[\"cats\"]);\r\n          setCategoriasMobile(response.data[\"cats_mobile\"]);\r\n          setColecoes(response.data[\"colecoes\"]);\r\n          setPeriodos(response.data[\"periodos\"]);\r\n          setTipoConta(response.data[\"tipo_conta\"]);\r\n          window.location.href = \"/\";\r\n          ReactGA.event({\r\n            action: \"login\",\r\n            user_type: response.data[\"tipo_conta\"],\r\n          });\r\n        });\r\n      })\r\n      .catch(function (err) {\r\n        message.current.show([\r\n          {\r\n            severity: \"error\",\r\n            summary: \"Usuario ou senha Incorretos\",\r\n            sticky: false,\r\n          },\r\n        ]);\r\n        setLogin(\"\");\r\n        setSenha(\"\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Messages ref={message} />\r\n      <div className=\"p-field\">\r\n        <label htmlFor=\"login\">Login</label>\r\n        <InputText\r\n          id=\"login\"\r\n          value={login}\r\n          onChange={(e) => setLogin(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"p-field\">\r\n        <label htmlFor=\"senha\">Senha</label>\r\n        <Password\r\n          id=\"senha\"\r\n          value={senha}\r\n          onChange={(e) => setSenha(e.target.value)}\r\n          feedback={false}\r\n        />\r\n      </div>\r\n      <Button label=\"Entrar\" onClick={() => handleSubmit()} />\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\n\r\nconst Clientes = () => {\r\n    const [clientes, setClientes] = useState([]);\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [, setClienteId] = useLocalStorage(\"clienteId\",null)\r\n    const [, setClienteNome] = useLocalStorage(\"clienteNome\",null)\r\n    const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n\r\n    const getClientes = () =>{\r\n        let url = api_address+'/clientes/'\r\n        axios({\r\n            method: 'GET',\r\n            headers: {'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            console.log(res.data['clientes'])\r\n            setClientes(res.data['clientes'])\r\n        })\r\n    } \r\n\r\n    useEffect(() => {\r\n        getClientes()\r\n        document.title = \"Greenish B2B | Clientes\"\r\n      }, [])\r\n\r\n    const confirma_alteracao = (rowData) => {\r\n        confirmDialog({\r\n            message: 'Itens nao salvos no carrinho serao apagados. Confirma alteracao?',\r\n            header: 'Confirmacao',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            acceptLabel:\"Sim\",\r\n            rejectLabel:\"Nao\",\r\n            accept: () => altera_cliente(rowData.id,rowData.nome)\r\n        })\r\n    }\r\n\r\n    const altera_cliente = (id,nome) =>{\r\n        // axios({ --- EXCLUSAO INATIVADA\r\n        //     method: 'GET',\r\n        //     headers: {'Authorization': 'Token '+token},\r\n        //     url: api_address+'/pedidos/deleta/'+carrinhoId,\r\n        //   })\r\n        setClienteId(id)\r\n        setClienteNome(nome)\r\n        setCarrinhoId(null)\r\n        window.location.href = '/'\r\n    }\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                <Button label=\"Selecionar\" onClick={() => confirma_alteracao(rowData)} />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"card\">\r\n                <DataTable value={clientes}>\r\n                    <Column field=\"cnpj\" header=\"CNPJ\" filter filterPlaceholder=\"Buscar\"></Column> \r\n                    <Column field=\"razao_social\" header=\"Razao Social\" filter filterPlaceholder=\"Buscar\"></Column>             \r\n                    <Column field=\"uf\" header=\"UF\"></Column>\r\n                    <Column field=\"cidade\" header=\"Cidade\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column field=\"tabela_precos\" header=\"Tabela\"></Column>\r\n                    <Column field=\"desc_cond_pag\" header=\"Condicao Pagamento\"></Column>\r\n                    <Column body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Clientes","export function formatMoney(number) {\r\n    if(number == null){\r\n      return \"\"\r\n    }\r\n    return number.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\r\n  }","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\n\r\nimport React, { useState, useEffect,useRef } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages'\r\nimport { ProgressSpinner } from 'primereact/progressspinner'\r\nimport { Dialog } from 'primereact/dialog'\r\nimport { ColumnGroup } from 'primereact/columngroup'\r\nimport { Row } from 'primereact/row';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport moment from 'moment';\r\n\r\n\r\nconst Pedidos = () => {\r\n    const [pedidos, setPedidos] = useState([]);\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [, setClienteId] = useLocalStorage(\"clienteId\",null)\r\n    const [, setClienteNome] = useLocalStorage(\"clienteNome\",null)\r\n    const [carrinhoAtualId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n    const message = useRef(null)\r\n    const [isRep,] = useLocalStorage(\"isRep\",null)\r\n\r\n    const getPedidos = () =>{\r\n        let url = api_address+'/pedidos/'\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers: {'Authorization': 'Token '+token}\r\n        }).then(res => {\r\n            setPedidos(res.data['pedidos'])\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getPedidos()\r\n        document.title = \"Greenish B2B | Pedidos\"\r\n      }, [])\r\n\r\n      const confirma_alteracao = (rowData) => {\r\n        confirmDialog({\r\n            message: 'Itens nao salvos no carrinho serao apagados. Confirma alteracao?',\r\n            header: 'Confirmacao',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            acceptLabel:\"Sim\",\r\n            rejectLabel:\"Nao\",\r\n            accept: () => alterar_pedido(rowData.id,rowData.cliente__id,rowData.cliente__nome)\r\n        })\r\n    }\r\n\r\n\r\n    const alterar_pedido = (carrrinhoId,id,nome) =>{\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/pedidos/retoma/'+carrrinhoId+'/',\r\n            headers: {'Authorization': 'Token '+token},\r\n            params:{\r\n                carrinhoAtualId:carrinhoAtualId\r\n              },\r\n          }).then(res => {\r\n            if(res.data['confirmed']){\r\n                setCarrinhoId(carrrinhoId)\r\n                setClienteId(id)\r\n                setClienteNome(nome)\r\n                window.location.href = '/carrinho'\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res.data['message'], sticky: false }\r\n                ])\r\n            }\r\n          })\r\n    }\r\n\r\n\r\n    const visualizar_pedido = (carrrinhoId,id,nome) =>{\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/pedidos/retoma/'+carrrinhoId+'/',\r\n            headers: {'Authorization': 'Token '+token},\r\n            params:{\r\n                carrinhoAtualId:carrinhoAtualId\r\n              },\r\n          }).then(res => {\r\n            if(res.data['confirmed']){\r\n                setCarrinhoId(carrrinhoId)\r\n                setClienteId(id)\r\n                setClienteNome(nome)\r\n                window.location.href = '/carrinho'\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res.data['message'], sticky: false }\r\n                ])\r\n            }\r\n          })\r\n    }\r\n\r\n    const processar = (rowData) =>{\r\n        setDisplayModal(true)\r\n\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/pedidos/processa/'+rowData.id+'/',\r\n            headers: {'Authorization': 'Token '+token}\r\n          }).then(res => {\r\n            setDisplayModal(false)\r\n            if(res.data['confirmed']){\r\n                getPedidos()\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res.data['message'], sticky: true }\r\n                ])\r\n            }\r\n          })\r\n    }\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                {rowData.liberado_rep ? <Button label=\"Visualizar\" onClick={() => window.location.href = '/pedido/'+rowData.id} />  : <Button label=\"Alterar\" onClick={() => confirma_alteracao(rowData)} />}\r\n                {rowData.liberado_rep  ? <></>  : rowData.liberado_cliente && isRep ? <Button label=\"Processar\" onClick={() => processar(rowData)} /> : <></>}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    console.log(pedidos)\r\n\r\n    const enviado_template = (rowData) => {\r\n        return rowData.enviado_fabrica ? <>Sim</>  : <>No</>\r\n    }\r\n    const liberado_template = (rowData) => {\r\n        return rowData.liberado_rep ? <>Sim</>  : <>No</>\r\n    }\r\n    const is_teste_template = (rowData) => {\r\n        return rowData.is_teste ? <>Sim</>  : <>No</>\r\n    }\r\n\r\n    const formatCurrency = (value) => {\r\n        return value.toLocaleString('en-US', {style: 'currency', currency: 'BRL'});\r\n    }\r\n\r\n    const valorTotalTemplate = (rowData) => {\r\n        return `${formatCurrency(rowData.valor_total)}`;\r\n    }\r\n    const valorTotalEntregarTemplate = (rowData) => {\r\n        return `${formatCurrency(rowData.valor_total_entregar)}`;\r\n    }\r\n\r\n    const dateTemplate = (rowData) => {\r\n        if(rowData.data_liberacao == null){\r\n            return \"...\"\r\n        }\r\n        return moment(rowData.data_liberacao, \"YYYY-MM-DDTHH:mm:ssZ\").format('DD/MM/YYYY');\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <Dialog title=\"Processando\" visible={displayModal} onHide={()=>\"\"}><ProgressSpinner /></Dialog>\r\n            <div className=\"card\">\r\n                <DataTable value={pedidos}>\r\n                    <Column field=\"cliente__razao_social\" header=\"Razao Social\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column field=\"colecao\" header=\"Colecao\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column header=\"Valor\" body={valorTotalTemplate}></Column>\r\n                    <Column header=\"Valor Entregar\" body={valorTotalEntregarTemplate}></Column>\r\n                    <Column field=\"qtd_total\" header=\"Qtd\"></Column>\r\n                    <Column field=\"cliente__desc_cond_pag\" header=\"Cond Pag\"></Column>\r\n                    <Column body={dateTemplate} header=\"Data\"></Column>\r\n                    <Column field=\"liberado_rep\" header=\"Liberado\" body={liberado_template}></Column>\r\n                    <Column field=\"enviado_fabrica\" header=\"Enviado\" body={enviado_template}></Column>\r\n                    <Column field=\"codigo_erp\" header=\"ID Ondas\"></Column>\r\n                    <Column header=\"Acoes\" body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pedidos","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\n\r\nimport React, { useState, useEffect,useRef } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages'\r\n\r\nconst Promocoes = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const message = useRef(null)\r\n    const [promocoes,setPromocoes] = useState([])\r\n    const [clienteId, ] = useLocalStorage(\"clienteId\",null)\r\n\r\n  \r\n    useEffect(() => {\r\n        getPromocoes()\r\n        document.title = \"Greenish B2B | Promocoes\"\r\n      }, [])\r\n\r\n    const computaPromo = (id_promocao,id_condicao) =>{\r\n        let url = api_address+'/promocoes/'+carrinhoId+'/'\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers:{'Authorization': 'Token '+token},\r\n            params:{\r\n                id_promocao:id_promocao,\r\n                id_condicao:id_condicao\r\n              }\r\n        }).then(res => {\r\n            console.log(res)\r\n            if(res['data']['confirmed']){\r\n                message.current.show([\r\n                    { severity: 'success', summary: res['data']['message'], sticky: false }\r\n                ])\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: res['data']['message'], sticky: false }\r\n                ])                \r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    const removePromo = () =>{\r\n        let url = api_address+'/promocoes/remove/'+carrinhoId+'/'\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url, \r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoes Removidas com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const getPromocoes = () =>{\r\n        let url = api_address+'/promocoes'\r\n        if(clienteId != null){\r\n            url = url +'/'+ clienteId\r\n        }\r\n        let params = {}\r\n        if(carrinhoId != null){\r\n            params['carrinhoId'] = carrinhoId\r\n        }\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url,\r\n            params:params\r\n        }).then(res => {\r\n            setPromocoes(res.data['promocoes'])\r\n            console.log(res.data['promocoes'])\r\n        })\r\n    } \r\n\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        const elems = rowData.condicoes.slice()\r\n        let elems_html = elems.map((val,index) =>\r\n        <Button className=\"p-mr-2\" label={val.desc_condicao} onClick={() => computaPromo(rowData.id_promocao,val.id)} />)\r\n        return (\r\n            <React.Fragment>\r\n                {elems_html}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"card\">\r\n                <DataTable value={promocoes} resizableColumns columnResizeMode=\"fit\">\r\n                    <Column field=\"descricao\" header=\"Promocao\" style={{width:'15%'}}></Column>\r\n                    <Column field=\"atingido\" header=\"Atingido\" style={{width:'10%'}}></Column>\r\n                    <Column header=\"Acoes\" body={actionBodyTemplate} style={{width:'85%'}}></Column>\r\n                </DataTable>\r\n            </div>\r\n            <Button className=\"p-d-block p-mx-auto p-mt-6\" label={\"Remover Promoes\"} onClick={() => removePromo()} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Promocoes","import React, {useEffect,useState,useRef} from \"react\";\r\nimport { Button } from 'primereact/button'\r\nimport axios from 'axios'\r\nimport {Password} from 'primereact/password';\r\nimport 'primeflex/primeflex.css';\r\nimport { Dialog } from 'primereact/dialog'\r\nimport { Messages } from 'primereact/messages'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\n\r\nexport default function Conta(props){\r\n  const [senhaAtual,setSenhaAtual ] = useState(\"\")\r\n  const [senhaNova1,setSenhaNova1 ] = useState(\"\")\r\n  const [senhaNova2,setSenhaNova2 ] = useState(\"\")\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n  const [displayModalSenha, setDisplayModalSenha] = useState(false)\r\n  const message = useRef(null)\r\n  const [tipoConta,] = useLocalStorage(\"tipoConta\",null)\r\n    \r\n  useEffect(() => {\r\n      document.title = \"Greenish B2B | Conta\"\r\n    }, [])\r\n\r\n    const handleLogout = () =>{\r\n        var config = {\r\n          headers: {'Authorization': 'Token '+token}\r\n        }\r\n        axios.get(api_address+'/accounts/logout/',config)\r\n        .then(response => {\r\n            localStorage.clear()\r\n            window.location.href = '/'\r\n        })\r\n    }\r\n\r\n    const changePassword = () =>{\r\n        if (senhaNova1 === senhaNova2){\r\n          var data = {\r\n            \"senhaNova\":senhaNova1,\r\n            \"senhaAtual\":senhaAtual,\r\n          }\r\n          var config = {\r\n            headers: {'Authorization': 'Token '+token}\r\n          }\r\n          axios.post(api_address+'/change_password/',data,config)\r\n          .then(response => {\r\n              if (response.data['confirmed']){\r\n                localStorage.clear()\r\n                window.location.href = '/login'                \r\n              }else{\r\n                  message.current.show([\r\n                      { severity: 'error', summary: response.data['message'], sticky: false }\r\n                  ])\r\n              }  \r\n          })\r\n      }else{\r\n        message.current.show([\r\n          { severity: 'error', summary: \"Confirmacao de nova senha invalida\", sticky: false }\r\n      ])\r\n      }\r\n      setSenhaAtual(\"\")\r\n      setSenhaNova1(\"\")\r\n      setSenhaNova2(\"\")\r\n  }\r\n\r\n    return(\r\n      <div>\r\n        <Dialog title=\"Alterar Senha\" visible={displayModalSenha} onHide={()=>setDisplayModalSenha(false)}>\r\n            <Messages ref={message} />\r\n            <h5>Senha Atual</h5>\r\n            <Password  value={senhaAtual} onChange={(e)=>setSenhaAtual(e.target.value)} feedback={false}/>\r\n            <h5>Senha Nova</h5>\r\n            <Password value={senhaNova1} onChange={(e)=>setSenhaNova1(e.target.value)} feedback={false}/>\r\n            <h5>Confirme a Nova Senha</h5>\r\n            <Password value={senhaNova2} onChange={(e)=>setSenhaNova2(e.target.value)} feedback={false}/>\r\n            <h5></h5>\r\n            <Button label=\"Confirmar\" onClick={() => changePassword()} />\r\n        </Dialog>\r\n        {tipoConta===\"visitante\" ? <></> : <Button label=\"Alterar Senha\" onClick={() => setDisplayModalSenha(true)} /> }\r\n        <Button label=\"Logout\" onClick={() => handleLogout()} />\r\n      </div>\r\n  \r\n    )\r\n  }","import { InputNumber } from 'primereact/inputnumber';\r\nimport { useEffect, useState,useRef } from 'react'\r\nimport { Messages } from 'primereact/messages'\r\nimport { Card } from 'primereact/card';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport  usePeriodos, {useLocalStorage } from '../requests/greenHooks.js'\r\nimport axios from 'axios'\r\nimport 'primeflex/primeflex.css';\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport { Chip } from 'primereact/chip';\r\n\r\n\r\n\r\nexport default function CardProduto(props) {\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setDisplayModal(props.isBarCode)\r\n    \r\n      }, [props.isBarCode])\r\n    \r\n    const onClick = () => {\r\n        setDisplayModal(true)\r\n    }\r\n    const onHide = () => {\r\n        setDisplayModal(false)\r\n    }\r\n    let desconto\r\n    if(props.produto.produto__desconto>0){\r\n        desconto = \" - \"+parseFloat(props.produto.produto__desconto*100).toFixed()+\"% OFF\"\r\n    }else{\r\n        desconto = \"\"\r\n    }\r\n    const header = <div>\r\n        <h4>{props.produto.produto__descricao}</h4>\r\n        <p>{props.produto.produto__produto}</p>\r\n        <Chip label={formatMoney(props.produto.preco)+desconto} />\r\n        </div>\r\nreturn (\r\n    <div className=\"p-shadow-2 p-m-2\">\r\n    <Card header={header}>\r\n        <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-field p-col-12 p-md-3\">\r\n                <Button label=\"Detalhes\" icon=\"pi pi-external-link\" onClick={() => onClick()} />\r\n                <Dialog header={props.produto.produto__produto} maximizable visible={displayModal} style={{ width: '75vw' }} onHide={() => onHide()}>\r\n                    <div className=\"p-grid\">\r\n                        <div className=\"p-col\">\r\n                            <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n                        </div>\r\n                        <div className=\"p-col-fixed\" style={{ width: '500px'}}>\r\n                            <TableProds isBarcode={props.isBarCode} searchInput={props.searchInput} onSave={onHide} produto={props.produto}></TableProds>\r\n                        </div>\r\n                    </div>\r\n\r\n                </Dialog>\r\n            </div>\r\n        </div>\r\n    </Card>\r\n    </div>\r\n    \r\n)\r\n}\r\n\r\nfunction definePeriodo(isBarcode){\r\n    \r\n    if (isBarcode){\r\n        return 'Pre-selecionados'\r\n    }else{\r\n        return ''\r\n    }\r\n}\r\n\r\nfunction TableProds(props) {\r\n    const [produto, ] = useState(props.produto)\r\n    const [periodo, setPeriodo] = useState(definePeriodo(props.isBarcode))\r\n    const [pedido, setPedido] = useState({})\r\n    const [pedidoTotal, setPedidoTotal] = useState(0)\r\n    const [changePedidoTotal, setChangePedidoTotal] = useState({\"change\":0,\"anterior\":0,\"novo\":0})\r\n    const [linhasDados, setLinhasDados] = useState(<div></div>)\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [clienteId, ] = useLocalStorage(\"clienteId\",null)\r\n    const [carrinhoId,setCarrinhoId ] = useLocalStorage(\"carrinhoId\",null)\r\n    const [displayModalObs, setDisplayModalObs] = useState(false)\r\n    const [observacaoItem, setObservacaoItem] = useState(\"\")\r\n    const message = useRef(null)\r\n    const {\r\n        dadosPeriodo,\r\n      } = usePeriodos(produto.produto__produto,periodo)\r\n      \r\n    \r\n      useEffect(() => {\r\n        let total = 0\r\n        let order = {}\r\n        for (var index in dadosPeriodo){\r\n            let item = dadosPeriodo[index]\r\n            let cor = item['cor']\r\n            let qtds = new Array(produto.produto__qtd_tamanhos).fill(0);\r\n            order[cor] = qtds\r\n        }\r\n        setPedido(order)\r\n        setPedidoTotal(0)\r\n      }, [dadosPeriodo])\r\n\r\n      useEffect(() => {\r\n        setPedidoTotal(pedidoTotal+changePedidoTotal[\"change\"])\r\n      }, [changePedidoTotal])\r\n\r\n      useEffect(() => {\r\n        if (periodo !== ''){\r\n            let tams = dadosPeriodo.map((val) => <LinhaDados dados={val} pedido={pedido}  setPedido={setPedido} setChangePedidoTotal={setChangePedidoTotal}></LinhaDados>)\r\n            setLinhasDados(tams)\r\n        }\r\n      }, [pedido,periodo])    \r\n \r\n        \r\n\r\n\r\n\r\n    const renderTamanhosGrid = (props) => {\r\n        let prods_tams = JSON.parse(props.produto.produto__tamanhos)\r\n        let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>)\r\n        return tams\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        let qtd_total = 0\r\n        for (var index in pedido){\r\n            let qtds_cor = pedido[index]\r\n            qtd_total = qtd_total + qtds_cor.reduce((a,b) => a+b,0)\r\n        }     \r\n        var data = {\r\n            \"produto\":produto,\r\n            \"periodo\":periodo,\r\n            \"qtds\":pedido,\r\n            \"qtd_total\":qtd_total,\r\n            \"clienteId\":clienteId,\r\n            \"carrinhoId\":carrinhoId,\r\n            \"observacao_item\":observacaoItem\r\n        }\r\n        var config = {\r\n            headers:{'Authorization': 'Token '+token}\r\n        }\r\n    \r\n        console.log(data)\r\n        console.log(config['headers'])\r\n        if (qtd_total>0){\r\n            axios.post(api_address+'/carrinho/',data,config)\r\n            .then(response => {\r\n                if (response.data['confirmed']){\r\n                    props.onSave()\r\n                    // message.current.show([\r\n                    //     { severity: 'success', summary: response.data['message'], sticky: true }\r\n                    // ])\r\n                    setCarrinhoId(response.data['carrinhoId'])    \r\n                }else{\r\n                    message.current.show([\r\n                        { severity: 'error', summary: response.data['message'], sticky: true }\r\n                    ])\r\n                }\r\n            }).catch(error => {\r\n                console.log(error.message)\r\n            })\r\n        }else{\r\n            message.current.show([\r\n                { severity: 'error', summary: \"Quantidade deve ser maior que 0\", sticky: false }\r\n            ])            \r\n        }\r\n        props.searchInput.current.focus()\r\n    }\r\n        \r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <Dropdown placeholder=\"Selecione Perodo\" id=\"dropdown\" value={periodo} options={JSON.parse(props.produto.produto__periodos)}\r\n            onChange={(e) => setPeriodo(e.value)}\r\n            />\r\n            <Chip label={\"Qtd Total Produto : \"+pedidoTotal} />\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col\">TIPO</div>\r\n                <div className=\"p-col\">COR</div>\r\n                {renderTamanhosGrid(props)}\r\n            </div>\r\n            {linhasDados}\r\n            <Button label=\"Observao\" onClick={() => setDisplayModalObs(true)} className=\"p-mr-2\" />\r\n            <Dialog header=\"Observao Item\" visible={displayModalObs} onHide={()=>setDisplayModalObs(false)}>     \r\n            <div>\r\n                <InputTextarea rows={2} cols={50} value={observacaoItem} onChange={(e) => setObservacaoItem(e.target.value)} />\r\n            </div>\r\n            </Dialog>\r\n            <Button label=\"Adicionar\" onClick={handleSubmit}/>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nfunction LinhaDados(props){\r\n\r\n    const handleChange = (valor,props,ordem) => {\r\n\r\n        if(valor == null){\r\n            valor = 0\r\n        }\r\n        props.setChangePedidoTotal(0)\r\n        let ped_prov = props.pedido\r\n        let qtd_anterior = ped_prov[props.dados.cor][ordem]\r\n        ped_prov[props.dados.cor][ordem] = valor\r\n        props.setPedido(ped_prov)\r\n        console.log('change')\r\n        console.log(valor-qtd_anterior)\r\n        props.setChangePedidoTotal({\"change\":valor-qtd_anterior,\"anterior\":qtd_anterior,\"novo\":valor})\r\n        //props.setPedidoTotal(0)\r\n    }\r\n\r\n    const renderButtons = (props) => {\r\n        let elems = []\r\n        if(Object.keys(props.pedido).length === 0){\r\n            return elems.map((val) => val)\r\n        }\r\n        for (var idx in props.dados.qtds){\r\n\r\n            let i = idx\r\n\r\n            if (props.dados.liberacao){\r\n                elems.push(\r\n                <div className=\"p-col-1 p-mt-4\">\r\n                        <InputNumber min={0} id={props.dados.cor+i}\r\n                        value={props.pedido[props.dados.cor][i]} onValueChange={(e) => handleChange(e.value,props,i)} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                        style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                        incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n\r\n                </div>\r\n                )\r\n            }else{\r\n                \r\n                elems.push(\r\n                <div className=\"p-col-1 p-mt-4\">\r\n                    <span className=\"p-float-label\">\r\n                        <InputNumber max={props.dados.qtds[i]} min={0} id={props.dados.cor+i}\r\n                        value={props.pedido[props.dados.cor][i]} onValueChange={(e) => handleChange(e.value,props,i)} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                        style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                            incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n                        <label htmlFor={props.dados.cor+i}>{props.dados.qtds[i]}</label>\r\n                    </span>\r\n                </div>\r\n                )\r\n            }\r\n        }\r\n\r\n        \r\n        return elems.map((val) => val)\r\n    }\r\n \r\n    return (\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col\">{props.dados.desc_liberacao}</div>\r\n            <div className=\"p-col\">{props.dados.cor+\" - \"+props.dados.desc_cor}</div>\r\n            {renderButtons(props)}\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useProductSearch, useLocalStorage } from \"../requests/greenHooks.js\";\r\nimport CardProduto from \"./cardProduto.js\";\r\nimport \"primeflex/primeflex.css\";\r\nimport { Paginator } from \"primereact/paginator\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\n\r\nexport default function Produtos(props) {\r\n  const [listItems, setListItems] = useState(<div></div>);\r\n  const [first, setFirst] = useState(0);\r\n  const [rows, setRows] = useState(12);\r\n  const [qtd, setQtd] = useState(0);\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n  const [colecao, setColecao] = useLocalStorage(\"colecao\", \"Todas\");\r\n  const [periodo, setPeriodo] = useLocalStorage(\"periodo\", \"Todos\");\r\n  const [orderBy, setOrderBy] = useLocalStorage(\"orderBy\", \"produto\");\r\n  const [clienteId] = useLocalStorage(\"clienteId\", null);\r\n  const [tamColuna, setTamColuna] = useLocalStorage(\"tamColuna\", 2);\r\n  const [classColuna, setclassColuna] = useState(\r\n    \"p-col-12 p-md-6 p-lg-\" + tamColuna\r\n  );\r\n  const [displayModal, setDisplayModal] = useState(false);\r\n  const [colecoesOptions] = useLocalStorage(\"colecoes\", []);\r\n  const [periodosOptions] = useLocalStorage(\"periodos\", []);\r\n\r\n  const tamColOptions = [2, 3, 4, 6, 12];\r\n  const orderByOptions = [\"produto\", \"estoque\", \"desconto\"];\r\n\r\n  const onClick = () => {\r\n    setDisplayModal(true);\r\n  };\r\n  const onHide = () => {\r\n    setDisplayModal(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Produtos\";\r\n  }, []);\r\n\r\n  //-------------------\r\n\r\n  const { produtos, isBarCode } = useProductSearch(\r\n    colecao,\r\n    periodo,\r\n    clienteId,\r\n    orderBy\r\n  );\r\n\r\n  console.log(isBarCode);\r\n\r\n  const handlePageChange = (event) => {\r\n    setFirst(event.first);\r\n    setRows(event.rows);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (\"lista\" in produtos) {\r\n      setQtd(produtos[\"lista\"].length);\r\n      const lista = produtos[\"lista\"].slice(first, first + rows);\r\n      let listItemsProv = <div className={classColuna}>Entrou</div>;\r\n      listItemsProv = lista.map((val, index) => (\r\n        <div className={classColuna}>\r\n          <CardProduto\r\n            produto={val}\r\n            isBarCode={isBarCode}\r\n            key={index}\r\n            searchInput={props.searchInput}\r\n          ></CardProduto>\r\n        </div>\r\n      ));\r\n      setListItems(listItemsProv);\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }, [produtos, classColuna, first, rows, isBarCode]);\r\n\r\n  useEffect(() => {\r\n    setclassColuna(\"p-col-12 p-md-\" + tamColuna + \" p-lg-\" + tamColuna);\r\n  }, [tamColuna]);\r\n\r\n  return (\r\n    <>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            width: \"100%\",\r\n            justifyContent: \"space-around\",\r\n            gap: '1rem',\r\n            fontSize: 'smaller',\r\n            padding: '.5em'\r\n          }}\r\n        >\r\n            <div>\r\n              <h3>Colecao</h3>\r\n              <Dropdown\r\n                id=\"dropdown\"\r\n                value={colecao}\r\n                options={colecoesOptions}\r\n                onChange={(e) => setColecao(e.value)}\r\n              />\r\n            </div>\r\n            <div>\r\n              <h3>Periodo</h3>\r\n              <Dropdown\r\n                id=\"dropdown\"\r\n                value={periodo}\r\n                options={periodosOptions}\r\n                onChange={(e) => setPeriodo(e.value)}\r\n              />\r\n            </div>\r\n            <div>\r\n              <h3>Ordenar por</h3>\r\n              <Dropdown\r\n                id=\"dropdown\"\r\n                value={orderBy}\r\n                options={orderByOptions}\r\n                onChange={(e) => setOrderBy(e.value)}\r\n              />\r\n            </div>\r\n            <div>\r\n              <h3>Tamanho</h3>\r\n              <Dropdown\r\n                id=\"dropdown\"\r\n                value={tamColuna}\r\n                options={tamColOptions}\r\n                onChange={(e) => setTamColuna(e.value)}\r\n              />\r\n          </div>\r\n      </div>\r\n      <div className=\"p-grid\">{listItems}</div>\r\n      <Paginator\r\n        first={first}\r\n        rows={rows}\r\n        totalRecords={qtd}\r\n        rowsPerPageOptions={[12, 24, 36]}\r\n        onPageChange={handlePageChange}\r\n      ></Paginator>\r\n    </>\r\n  );\r\n}\r\n","import { InputNumber } from 'primereact/inputnumber';\r\nimport { useEffect, useState,useRef } from 'react'\r\nimport { Messages } from 'primereact/messages'\r\nimport { Card } from 'primereact/card';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport  UsePeriodos,{useLocalStorage }  from '../requests/greenHooks.js'\r\nimport axios from 'axios'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\nimport { Panel } from 'primereact/panel';\r\nimport 'primeflex/primeflex.css';\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport { Chip } from 'primereact/chip';\r\n\r\nexport default function CardCarrinho(props) {\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n    const [token,] = useLocalStorage(\"token\",null)\r\n    const [panelCollapsed,setPanelCollapsed] = useState(true)\r\n    const message = useRef(null)\r\n\r\n\r\n    const onClick = () => {\r\n        setDisplayModal(true)\r\n    }\r\n    const onHide = () => {\r\n        setDisplayModal(false)\r\n    }\r\n    const confirma_exclusao = () => {\r\n        confirmDialog({\r\n            message: 'Confirma a exclusao do produto?',\r\n            header: 'Confirmacao',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            acceptLabel:\"Sim\",\r\n            rejectLabel:\"Nao\",\r\n            accept: () => handleDelete()\r\n        })\r\n    }\r\n\r\n\r\n    const updatePeriodo = (periodo_update) => {\r\n        console.log(periodo_update)\r\n        if(periodo_update !== ''){\r\n            let data = {\r\n                \"periodo\":periodo_update,\r\n                \"produto\":props.produto,\r\n            }\r\n            let config = {\r\n                headers: {'Authorization': 'Token '+token}\r\n            }\r\n            axios.post(api_address+'/carrinho/update_periodo/'+props.produto.id+'/',data,config,)\r\n            .then(response => {\r\n                if (response.data['confirmed']){\r\n                    setPanelCollapsed(false)\r\n                    props.forceUpdate()\r\n                }else{\r\n                    message.current.show([\r\n                        { severity: 'error', summary: response.data['message'], sticky: false }\r\n                    ])\r\n                }\r\n            }).catch(error => {\r\n                console.log(error.message)\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    const handleDelete = () => {\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/carrinho/delete_item/'+props.produto.id+'/',\r\n            headers: {'Authorization': 'Token '+token}\r\n          }).then(res => {\r\n            props.forceUpdate()\r\n          })\r\n    }\r\n\r\n    const preco_desc = props.produto.preco-props.produto.desconto\r\n    const preco_normal =  props.produto.preco//colocar linha cortando text\r\n    const header = <div>\r\n        <h4>{props.produto.produto__descricao + \" - \" + props.produto.produto__produto}</h4>\r\n        <p>{\"Qtd: \"+props.produto.qtd_item +\" | Valor: \"+ formatMoney(props.produto.valor_item) }</p>\r\n        {props.produto.desconto>0 ?  <Chip label={\"Preo: De \"+formatMoney(preco_normal)+\" por R$\"+ formatMoney(preco_desc)} />  : <Chip label={\"Preo: \"+ formatMoney(props.produto.preco)} />  }\r\n        </div>\r\n\r\n    return (\r\n        <div className=\"p-shadow-2 p-m-2\">\r\n        <Card header={header}>\r\n            <Messages ref={message} />\r\n            <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n            <div className=\"p-grid\">\r\n                <Button label=\"Remover\" onClick={() => confirma_exclusao()}  />\r\n                <Panel header=\"Alterar\" collapsed={panelCollapsed} onToggle={(e) => setPanelCollapsed(e.value)} toggleable >\r\n                    <div className=\"p-field p-col-12 p-md-4 p-mt-1\">\r\n                        <span className=\"p-float-label\">\r\n                            <Dropdown inputId=\"dropdown\"  value={props.periodoAtual}\r\n                            options={JSON.parse(props.produto.periodos_alteracao)}\r\n                            onChange={(e) => updatePeriodo(e.value)}\r\n                            />  \r\n                            <label htmlFor=\"dropdown\">Periodo</label>\r\n                        </span>\r\n                    </div>                  \r\n                    <Button label=\"Alterar Quantidades\" onClick={() => onClick()}  />\r\n                </Panel>\r\n            </div>\r\n                <div className=\"p-field p-col-12 p-md-3\">\r\n\r\n                    <Dialog header={props.produto.produto__produto} maximizable visible={displayModal} style={{ width: '75vw' }} onHide={() => onHide()}>\r\n                        <div className=\"p-grid\">\r\n                            <div className=\"p-col\">\r\n                                <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n                            </div>\r\n                            <div className=\"p-col-fixed\" style={{ width: '500px'}}>\r\n                                <TableProds\r\n                                 periodoAtual={props.periodoAtual} produto={props.produto} \r\n                                 forceUpdate={props.forceUpdate} hideModal={onHide}>\r\n                                 </TableProds>\r\n                            </div>  \r\n                        </div>\r\n\r\n                    </Dialog>\r\n                </div>\r\n        </Card>\r\n        </div>\r\n        \r\n    )\r\n}\r\nfunction TableProds(props) {\r\n    const [produto, ] = useState(props.produto)\r\n    const [periodo, ] = useState(props.periodoAtual)\r\n    const [pedido, setPedido] = useState({})\r\n    const message = useRef(null)\r\n    const [linhasDados, setLinhasDados] = useState(<div></div>)\r\n    const [clienteId, ] = useLocalStorage(\"clienteId\",null)\r\n    const [carrinhoId, ] = useLocalStorage(\"carrinhoId\",null)\r\n    const [displayModalObs, setDisplayModalObs] = useState(false)\r\n    const [observacaoItem, setObservacaoItem] = useState(props.produto.observacao_item)\r\n    const [token,] = useLocalStorage(\"token\",null)\r\n    \r\n    const {\r\n        dadosPeriodo,\r\n      } = UsePeriodos(produto.produto__produto,periodo)\r\n    \r\n      useEffect(() => {\r\n        let [order,has_message] = calculatePedido(dadosPeriodo,produto)\r\n        setPedido(order)    \r\n      }, [dadosPeriodo])\r\n\r\n      useEffect(() => {\r\n        if (periodo !== ''){\r\n            let tams = dadosPeriodo.map((val) => <LinhaDados dados={val} pedido={pedido} setPedido={setPedido}></LinhaDados>)\r\n            setLinhasDados(tams)\r\n        }\r\n      }, [pedido])  \r\n\r\n\r\n\r\n    const renderTamanhosGrid = () => {\r\n        let prods_tams = JSON.parse(produto.produto__tamanhos)\r\n        let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>)\r\n        return tams\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        let qtd_total = 0\r\n        for (var index in pedido){\r\n            let qtds_cor = pedido[index]\r\n            qtd_total = qtd_total + qtds_cor.reduce((a,b) => a+b,0)\r\n        }\r\n        var data = {\r\n            \"produto\":produto,\r\n            \"qtds\":pedido,\r\n            \"qtd_total\":qtd_total,\r\n            \"clienteId\":clienteId,\r\n            \"carrinhoId\":carrinhoId,\r\n            \"observacao_item\":observacaoItem\r\n        }\r\n        var config = {\r\n            headers: {'Authorization': 'Token '+token}\r\n        }\r\n    \r\n        axios.post(api_address+'/carrinho/update_qtds/'+produto.id+'/',data,config,)\r\n        .then(response => {\r\n            if (response.data['confirmed']){\r\n                message.current.show([\r\n                    { severity: 'success', summary: response.data['message'], sticky: true }\r\n                ])\r\n                props.forceUpdate()\r\n                props.hideModal()\r\n            }else{\r\n                message.current.show([\r\n                    { severity: 'error', summary: response.data['message'], sticky: true }\r\n                ])\r\n            }\r\n\r\n        }).catch(error => {\r\n            console.log(error.message)\r\n       })\r\n    }\r\n        \r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col\">TIPO</div>\r\n                <div className=\"p-col\">COR</div>\r\n                {renderTamanhosGrid()}\r\n            </div>\r\n            {linhasDados}\r\n            <Button label=\"Observao\" onClick={() => setDisplayModalObs(true)} className=\"p-mr-2\" />\r\n            <Dialog header=\"Observao Item\" visible={displayModalObs} onHide={()=>setDisplayModalObs(false)}>     \r\n            <div>\r\n                <InputTextarea rows={2} cols={50} value={observacaoItem} onChange={(e) => setObservacaoItem(e.target.value)} />\r\n            </div>\r\n            </Dialog>\r\n            <Button label=\"Alterar\" onClick={handleSubmit}/>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nfunction LinhaDados(props){\r\n\r\n    const handleChange = (valor,props,ordem) => {\r\n        let ped_prov = props.pedido\r\n        ped_prov[props.dados.cor][ordem] = valor\r\n        props.setPedido(ped_prov)\r\n    }\r\n\r\n    const renderButtons = (props) => {\r\n        let elems = []\r\n        if(Object.keys(props.pedido).length === 0){\r\n            return elems.map((val) => val)\r\n        }\r\n        for (var idx in props.dados.qtds){\r\n\r\n            let i = idx\r\n\r\n            if (props.dados.liberacao){\r\n                elems.push(\r\n                <div className=\"p-col-1 p-mt-4\">\r\n                        <InputNumber min={0} id={props.dados.cor+i}\r\n                        value={props.pedido[props.dados.cor][i]} onValueChange={(e) => handleChange(e.value,props,i)} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                        style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                        incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n\r\n                </div>\r\n                )\r\n            }else{\r\n                elems.push(\r\n                <div className=\"p-col-1 p-mt-4\">\r\n                    <span className=\"p-float-label\">\r\n                        <InputNumber max={props.dados.qtds[i]} min={0} id={props.dados.cor+i}\r\n                        value={props.pedido[props.dados.cor][i]} onValueChange={(e) => handleChange(e.value,props,i)} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                        style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                            incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n                        <label htmlFor={props.dados.cor+i}>{props.dados.qtds[i]}</label>\r\n                    </span>\r\n                </div>\r\n                )\r\n            }\r\n        }\r\n        \r\n        return elems.map((val) => val)\r\n    }\r\n \r\n    return (\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col\">{props.dados.desc_liberacao}</div>\r\n            <div className=\"p-col\">{props.dados.cor+\" - \"+props.dados.desc_cor}</div>\r\n            {renderButtons(props)}\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n//FUNCOES AUXILIARES\r\n\r\n// function calculateOptionsPeriodos(produto,dadosPeriodo){\r\n//     // CALCULA OPCOES DE PERIODOS REMOVENDO A OPCAO DO PERIODO ATUAL e PRE-SELECIONADOS\r\n//     let periodos = JSON.parse(produto.produto__periodos)\r\n//     let index = periodos.indexOf(\"Pre-selecionados\");\r\n//     if (index > -1) {\r\n//         periodos.splice(index, 1);\r\n//     }\r\n//     return periodos\r\n// }\r\n\r\nfunction validaQtdsPedido(qtdAtual,qtdMaxima){\r\n    let qtds = []\r\n    let item_has_message = false\r\n    for (var i in qtdAtual){\r\n        let dif = qtdMaxima[i]-qtdAtual[i]\r\n        if (dif<0){\r\n            qtds.push(qtdMaxima[i])\r\n            item_has_message = true\r\n        }else{\r\n            qtds.push(qtdAtual[i])\r\n        }\r\n        \r\n    }\r\n    return [qtds,item_has_message]\r\n}\r\n\r\nfunction calculatePedido(dadosPeriodo,produto){\r\n    let order = {}\r\n    let orderAtual = JSON.parse(produto.qtds)\r\n    let has_message = false\r\n    for (var index in dadosPeriodo){\r\n        let item = dadosPeriodo[index]\r\n        let cor = item['cor']\r\n        let qtds = new Array(produto.produto__qtd_tamanhos).fill(0)\r\n        if(cor in orderAtual){\r\n            if(item['liberacao']){\r\n                qtds = orderAtual[cor]               \r\n            }else{\r\n                let [qtds_x,item_has_message] = validaQtdsPedido(orderAtual[cor],item['qtds'])\r\n                qtds = qtds_x\r\n                if (item_has_message) has_message=true\r\n            }                \r\n        }\r\n        order[cor] = qtds\r\n    }\r\n    return [order,has_message]\r\n}","import React from \"react\";\r\nimport { useCartSearch,useLocalStorage } from '../requests/greenHooks.js'\r\nimport 'primeflex/primeflex.css';\r\nimport { useEffect, useState } from 'react'\r\nimport { Card } from 'primereact/card';\r\n// import CardCarrinho from './cardCarrinho.js'\r\nimport CardCarrinho from './cardCarrinhoNovo.js'\r\nimport { Button } from 'primereact/button';\r\nimport axios from 'axios'\r\nimport { Dialog } from 'primereact/dialog'\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\nimport { InputSwitch } from 'primereact/inputswitch';\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { ToggleButton } from 'primereact/togglebutton';\r\nimport { SelectButton } from 'primereact/selectbutton';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport { Chip } from 'primereact/chip';\r\n\r\n\r\n\r\nexport default function Carrinho() {\r\n\r\n  const [listItems,setListItems] = useState(<div></div>)\r\n  const [counter,setCounter] = useState(0)\r\n  const [clienteId,setClienteId ] = useLocalStorage(\"clienteId\",null)\r\n  const [clienteNome,setClienteNome ] = useLocalStorage(\"clienteNome\",null)\r\n  const [carrinhoId,setCarrinhoId ] = useLocalStorage(\"carrinhoId\",null)\r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n  const [isRep,setIsRep ] = useLocalStorage(\"isRep\",null)\r\n  const [displayModal, setDisplayModal] = useState(false)\r\n  const [tipoPedido, setTipoPedido] = useState(\"Real\")\r\n  const [tipoConta,] = useLocalStorage(\"tipoConta\",null)\r\n\r\n  const {\r\n    carrinho,\r\n    emptyMessage,\r\n    observacoes,\r\n    valorTotal,\r\n    qtdTotal,\r\n    razaoSocial\r\n  } = useCartSearch(counter,clienteId)\r\n\r\n  const [observacoesNovo,setObservacoesNovo] = useState(\"\")\r\n\r\n  const updateCounter = () => {\r\n    setCounter(prevCounter => prevCounter+1)\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Carrinho\"\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setObservacoesNovo(observacoes)\r\n  }, [observacoes])\r\n\r\n  useEffect(() => {\r\n    const lista = carrinho\r\n    let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\"></div>\r\n    if (lista.length>0){\r\n      listItemsProv = lista.map((val,index) => \r\n      <div className=\"p-col-12 p-md-12 p-lg-12\">\r\n        <CardPeriodo forceUpdate={updateCounter} periodoAtual={val.periodo} qtd_periodo={val.qtd_periodo}\r\n        valor_periodo={val.valor_periodo} itens={val.itens} key={index}></CardPeriodo>\r\n        </div>)\r\n    }\r\n    setListItems(listItemsProv)\r\n  }, [carrinho,emptyMessage,carrinhoId,counter])\r\n\r\n  const handleSave = () => {\r\n\r\n    if(tipoConta===\"visitante\"){\r\n      axios({\r\n        method: 'GET',\r\n        url: api_address+'/pedidos/gera_pdf/'+carrinhoId+'/',\r\n        headers: {'Authorization': 'Token '+token},        \r\n      }).then(res => {\r\n        if(res.data['confirmed']){\r\n          window.open(api_address+'/'+res.data['file'],'popUpWindow')\r\n          // window.location.href = \r\n        }else{\r\n          console.log(res.data)\r\n        }\r\n      })\r\n    }else{\r\n      let isTeste = false\r\n      if(tipoPedido === \"Teste\"){\r\n        isTeste = true\r\n      }\r\n      axios({\r\n          method: 'GET',\r\n          url: api_address+'/pedidos/salva/'+carrinhoId+'/',\r\n          headers: {'Authorization': 'Token '+token},\r\n          params:{\r\n            observacoes:observacoesNovo,\r\n            isTeste: isTeste\r\n          }\r\n          \r\n        }).then(res => {\r\n          if(res.data['confirmed']){\r\n            if(isRep){\r\n              setClienteId(null)\r\n              setClienteNome(null)\r\n              setCarrinhoId(null)\r\n            }else{\r\n              setCarrinhoId(null)\r\n            }\r\n            window.location.href = '/pedidos'\r\n          }else{\r\n            console.log(res.data)//Fazer Logica para mostrar mensagem de erro\r\n          }\r\n        })\r\n    }\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <p>{emptyMessage}</p>\r\n    \r\n    <Chip label={\"Cliente: \"+razaoSocial} />\r\n    <Chip label={\"Quantidade Total: \"+qtdTotal} />\r\n    <Chip label={\"Valor Total: \"+formatMoney(valorTotal)} />\r\n    <Button label=\"Salvar\" onClick={() => setDisplayModal(true)} className=\"p-button-rounded p-mr-2\" />\r\n    <Dialog header=\"Observacoes\" visible={displayModal} onHide={()=>setDisplayModal(false)}>     \r\n      <div>\r\n          <InputTextarea rows={10} cols={50} value={observacoesNovo} onChange={(e) => setObservacoesNovo(e.target.value)} />\r\n      </div>\r\n      {/* <div>\r\n         <SelectButton value={tipoPedido} className=\"p-d-block p-mx-auto p-mt-2\" options={[\"Teste\",\"Real\"]} onChange={(e) => setTipoPedido(e.value)} />\r\n      </div> */}\r\n      <div>\r\n        <Button label=\"Salvar\" className=\"p-d-block p-mx-auto p-mt-2\" onClick={() => handleSave()} />\r\n      </div>\r\n\r\n\r\n      \r\n      \r\n    </Dialog>\r\n    <div className=\"p-grid\">{listItems}</div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nfunction CardPeriodo(props){\r\n  const lista = props.itens.slice()\r\n  let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\">Entrou</div>\r\n  listItemsProv = lista.map((val,index) => <div className=\"p-col-6 p-md-6 p-lg-2\">\r\n    <CardCarrinho periodoAtual={props.periodoAtual} forceUpdate={props.forceUpdate} produto={val} key={index}></CardCarrinho>\r\n    </div>)\r\n\r\n  return (\r\n    <Card title={props.periodoAtual}>\r\n      <p>{\"Quantidade Periodo: \"+props.qtd_periodo + \" | Valor Periodo: \"+ formatMoney(props.valor_periodo)}</p>\r\n    <div className=\"p-grid\">\r\n      {listItemsProv}\r\n    </div>\r\n  </Card>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { InputNumber } from 'primereact/inputnumber';\r\nimport { useEffect, useState,useRef } from 'react'\r\nimport { Messages } from 'primereact/messages'\r\nimport { Card } from 'primereact/card';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport { formatMoney } from '../utils/utils.js';\r\nimport  UsePeriodos,{useLocalStorage }  from '../requests/greenHooks.js'\r\nimport { Chip } from 'primereact/chip';\r\n\r\nimport 'primeflex/primeflex.css';\r\n\r\nexport default function CardItemPedido(props) {\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n    const [token,] = useLocalStorage(\"token\",null)\r\n    const [panelCollapsed,setPanelCollapsed] = useState(true)\r\n    const message = useRef(null)\r\n\r\n\r\n    const onClick = () => {\r\n        setDisplayModal(true)\r\n    }\r\n    const onHide = () => {\r\n        setDisplayModal(false)\r\n    }\r\n\r\n\r\n    const preco_desc = props.produto.preco-props.produto.desconto\r\n    const preco_normal =  props.produto.preco//colocar linha cortando text\r\n    const header = <div>\r\n        <h4>{props.produto.produto__descricao + \" - \" + props.produto.produto__produto}</h4>\r\n        <p>{\"Qtd: \"+props.produto.qtd_item +\" | Valor: \"+ formatMoney(props.produto.valor_item) }</p>\r\n        <p>{\"Qtd Entregar: \"+props.produto.qtd_item_entregar}</p>\r\n        {props.produto.desconto>0 ?  <Chip label={\"Preo: De \"+formatMoney(preco_normal)+\" por R$\"+ formatMoney(preco_desc)} />  : <Chip label={\"Preo: \"+ formatMoney(props.produto.preco)} />  }\r\n        </div>\r\n\r\n    return (\r\n        <div className=\"p-shadow-2 p-m-2\">\r\n        <Card header={header}>\r\n            <Messages ref={message} />\r\n            <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n            <div className=\"p-grid\">\r\n            <Button label=\"Detalhes\" onClick={() => onClick()} className=\"p-mr-2\" />\r\n            </div>\r\n                <div className=\"p-field p-col-12 p-md-3\">\r\n\r\n                    <Dialog header={props.produto.produto__produto} maximizable visible={displayModal} style={{ width: '75vw' }} onHide={() => onHide()}>\r\n                        <div className=\"p-grid\">\r\n                            <div className=\"p-col\">\r\n                                <img top width=\"100%\" src={props.produto.produto__url_imagem} alt=\"Sem Imagem\" />\r\n                            </div>\r\n                            <div className=\"p-col-fixed\" style={{ width: '500px'}}>\r\n                                <TableProds\r\n                                 periodoAtual={props.periodoAtual} produto={props.produto} \r\n                                 hideModal={onHide}>\r\n                                 </TableProds>\r\n                            </div>  \r\n                        </div>\r\n\r\n                    </Dialog>\r\n                </div>\r\n        </Card>\r\n        </div>\r\n        \r\n    )\r\n}\r\nfunction TableProds(props) {\r\n    const [produto, ] = useState(props.produto)\r\n    const [periodo, ] = useState(props.periodoAtual)\r\n    const [pedido, setPedido] = useState({})\r\n    const message = useRef(null)\r\n    const [linhasDados, setLinhasDados] = useState(<div></div>)    \r\n\r\n      useEffect(() => {\r\n          let map_list = calculatePedido(produto)\r\n          let pedido = JSON.parse(produto.qtds)\r\n        if (periodo !== ''){\r\n            console.log(pedido)\r\n            let tams = map_list.map((val) => <LinhaDados dados={val} pedido={pedido}></LinhaDados>)\r\n            setLinhasDados(tams)\r\n        }\r\n      }, [])  \r\n\r\n\r\n\r\n    const renderTamanhosGrid = () => {\r\n        let prods_tams = JSON.parse(produto.produto__tamanhos)\r\n        let tams = prods_tams.map((val) => <div className=\"p-col-1\">{val}</div>)\r\n        return tams\r\n    }\r\n        \r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col\">COR</div>\r\n                {renderTamanhosGrid()}\r\n            </div>\r\n            {linhasDados}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nfunction LinhaDados(props){\r\n\r\n    const renderButtons = (props) => {\r\n        let elems = []\r\n        if(Object.keys(props.pedido).length === 0){\r\n            return elems.map((val) => val)\r\n        }\r\n        for (var idx in props.dados.qtds){\r\n\r\n            let i = idx\r\n\r\n            elems.push(\r\n            <div className=\"p-col-1 p-mt-4\">\r\n                    <InputNumber min={0} id={props.dados.cor+i} disabled={true}\r\n                    value={props.pedido[props.dados.cor][i]} mode=\"decimal\" showButtons buttonLayout=\"vertical\"\r\n                    style={{width: '2.5em'}} decrementButtonClassName=\"p-button-secondary\"\r\n                    incrementButtonClassName=\"p-button-secondary\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" />\r\n            </div>\r\n            )\r\n        \r\n    }\r\n    return elems.map((val) => val)\r\n}\r\n \r\n    return (\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col\">{props.dados.cor}</div>\r\n            {renderButtons(props)}\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\nfunction calculatePedido(produto){\r\n    let order = {}\r\n    let orderAtual = JSON.parse(produto.qtds)\r\n    order = []\r\n    for(var key in orderAtual){\r\n        let order_item = {}\r\n        order_item['cor'] = key\r\n        order_item['qtds'] = orderAtual[key]\r\n        order.push(order_item)\r\n    }\r\n    return order\r\n}\r\n\r\n","import React from \"react\";\r\nimport { useCartSearch,useLocalStorage } from '../requests/greenHooks.js'\r\nimport 'primeflex/primeflex.css';\r\nimport { useEffect, useState } from 'react'\r\nimport { Card } from 'primereact/card';\r\n// import CardCarrinho from './cardCarrinho.js'\r\nimport CardItemPedido from './cardItemPedido.js'\r\nimport axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { Button } from 'primereact/button';\r\nimport { Chip } from 'primereact/chip';\r\nimport { formatMoney } from '../utils/utils.js';\r\n\r\n\r\nexport default function Pedido() {\r\n\r\n  const [listItems,setListItems] = useState(<div></div>)  \r\n  const [token,setToken] = useLocalStorage(\"token\",null)\r\n\r\n  const [pedido,setPedido ] = useState([])\r\n  const [emptyMessage,setEmptyMessage ] = useState(null)\r\n  const [valorTotal,setValorTotal ] = useState(null)\r\n  const [qtdTotal,setQtdTotal ] = useState(null)\r\n  const [valorTotalEntregar,setValorTotalEntregar ] = useState(null)\r\n  const [qtdTotalEntregar,setQtdTotalEntregar ] = useState(null)\r\n  const [razaoSocial,setRazaoSocial ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    document.title = \"Greenish B2B | Carrinho\"\r\n\r\n\r\n    const pathIdPedido = window.location.href\r\n    const idPedido = pathIdPedido.substring(pathIdPedido.lastIndexOf('/') + 1)\r\n\r\n    let url = api_address+'/pedido/'+idPedido\r\n    axios({\r\n      method: 'GET',\r\n      headers:{'Authorization': 'Token '+token},\r\n      url: url,\r\n    }).then(res => {\r\n      console.log(res.data)\r\n      if(res.data['confirmed']){\r\n        setPedido(res.data['dados'])\r\n        setRazaoSocial(res.data['razao_social'])\r\n        setEmptyMessage(res.data['message'])\r\n        setValorTotal(res.data['valor_total'])\r\n        setQtdTotal(res.data['qtd_total'])\r\n        setValorTotalEntregar(res.data['valor_total_entregar'])\r\n        setQtdTotalEntregar(res.data['qtd_total_entregar'])\r\n      }\r\n\r\n      console.log(res.data['dados'])\r\n    })\r\n\r\n    \r\n  \r\n  }, [])\r\n\r\n\r\n  useEffect(() => {\r\n    const lista = pedido\r\n    let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\"></div>\r\n    if (lista.length>0){\r\n      listItemsProv = lista.map((val,index) => \r\n      <div className=\"p-col-12 p-md-12 p-lg-12\">\r\n        <CardPeriodo periodoAtual={val.periodo} qtd_periodo={val.qtd_periodo} valor_periodo={val.valor_periodo}\r\n        qtd_periodo_entregar={val.qtd_periodo_entregar} valor_periodo_entregar={val.valor_periodo_entregar}\r\n        itens={val.itens} key={index}></CardPeriodo>\r\n        </div>)\r\n    }\r\n    setListItems(listItemsProv)\r\n  }, [pedido,emptyMessage])\r\n\r\n\r\n  return (\r\n    <>\r\n    <p>{emptyMessage}</p>\r\n    <Chip label={\"Cliente: \"+razaoSocial} />\r\n    <Chip label={\"Quantidade Total: \"+qtdTotal} />\r\n    <Chip label={\"Quantidade a Total Entregar: \"+qtdTotalEntregar} />\r\n    <Chip label={\"Valor Total: \"+formatMoney(valorTotal)} />\r\n    <Chip label={\"Valor Total a Entregar: \"+formatMoney(valorTotalEntregar)} />\r\n    {/* <Button className=\"p-button-secondary\" label={\"Cliente: \"+razaoSocial} disabled />\r\n    <Button className=\"p-button-secondary\" label={\"Valor Total: \"+formatMoney(valorTotal)} disabled />\r\n    <Button className=\"p-button-secondary\" label={\"Quantidade Total: \"+qtdTotal} disabled />  */}\r\n    \r\n    {/* <p>{\"Cliente: \"+razaoSocial + \" | Valor Total: \"+valorTotal+ \" | Quantidade Total: \"+qtdTotal}</p> */}\r\n    <div className=\"p-grid\">{listItems}</div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nfunction CardPeriodo(props){\r\n  console.log(props)\r\n  const lista = props.itens.slice()\r\n  let listItemsProv = <div className=\"p-col-12 p-md-6 p-lg-3\">Entrou</div>\r\n  listItemsProv = lista.map((val,index) => <div className=\"p-col-6 p-md-6 p-lg-2\">\r\n    <CardItemPedido periodoAtual={props.periodoAtual} produto={val} key={index}></CardItemPedido>\r\n    </div>)\r\n\r\n  return (\r\n    <Card title={props.periodoAtual}>\r\n    <p>{\"Quantidade Periodo: \"+props.qtd_periodo + \" | Valor Periodo: \"+ formatMoney(props.valor_periodo)}</p>\r\n    <p>{\"Quantidade Periodo a Entregar: \"+props.qtd_periodo_entregar + \" | Valor Periodo a Entregar: \"+ formatMoney(props.valor_periodo_entregar)}</p>\r\n    <div className=\"p-grid\">\r\n\r\n    {listItemsProv}\r\n    </div>\r\n  </Card>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Carousel } from 'primereact/carousel';\r\nimport { Button } from 'primereact/button';\r\nimport './trade.css';\r\nimport axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useCartSearch,useLocalStorage } from '../requests/greenHooks.js'\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\nimport 'primeflex/primeflex.css';\r\n\r\n\r\nconst SolicitacaoTrade = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [materials, setMaterials] = useState([]);\r\n    const [clientes, setClientes] = useState([]);\r\n    const [cliente, setCliente] = useState(null);\r\n    const [materialEscolhido, setMaterialEscolhido] = useState({});\r\n    const [materialOpcaoEscolhido, setMaterialOpcaoEscolhido] = useState({});\r\n    const [displayModalOpcao, setDisplayModalOpcao] = useState(false)\r\n    const [displayModalMaterial, setDisplayModalMaterial] = useState(false)\r\n    const [observacoes,setObservacoes] = useState(\"\")\r\n    const responsiveOptions = [\r\n        {\r\n            breakpoint: '1024px',\r\n            numVisible: 3,\r\n            numScroll: 3\r\n        },\r\n        {\r\n            breakpoint: '600px',\r\n            numVisible: 2,\r\n            numScroll: 2\r\n        },\r\n        {\r\n            breakpoint: '480px',\r\n            numVisible: 1,\r\n            numScroll: 1\r\n        }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        document.title = \"Greenish B2B | Trade Marketing\"\r\n        \r\n        let url = api_address+'/trade/get_materiais'\r\n        axios({\r\n          method: 'GET',\r\n          headers:{'Authorization': 'Token '+token},\r\n          url: url,\r\n        }).then(res => {\r\n          console.log(res.data)\r\n          if(res.data['confirmed']){\r\n            setMaterials(res.data['materiais'])\r\n            setClientes(res.data['clientes'])\r\n          }\r\n    \r\n          console.log(res.data['clientes'])\r\n        })\r\n    \r\n        \r\n      \r\n      }, [])\r\n\r\n\r\n    const handleSave = () => {\r\n\r\n        axios({\r\n            method: 'GET',\r\n            url: api_address+'/trade/salva_solicitacao',\r\n            headers: {'Authorization': 'Token '+token},\r\n            params:{\r\n            observacoes:observacoes,\r\n            clienteId: cliente.id,\r\n            materialOpcaoId:materialOpcaoEscolhido.id\r\n            }\r\n            \r\n        }).then(res => {\r\n            if(res.data['confirmed']){\r\n            window.location.href = '/trade/solicitacoes'\r\n            }else{\r\n            console.log(res.data)//Fazer Logica para mostrar mensagem de erro\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n    const setMaterial = (material) => {\r\n        setMaterialEscolhido(material)\r\n        setDisplayModalOpcao(true)\r\n    }\r\n\r\n    const setMaterialOpcao = (materialOpcao) => {\r\n        setMaterialOpcaoEscolhido(materialOpcao)\r\n        setDisplayModalOpcao(false)\r\n        setDisplayModalMaterial(false)\r\n    }\r\n\r\n    const materialTemplate = (material) => {\r\n        return (\r\n            <div className=\"product-item\">\r\n                <div className=\"product-item-content\">\r\n                    <div className=\"mb-3\">\r\n                        <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${material.imagem_material}`}  alt={material.descricao} className=\"product-image\" />\r\n                    </div>\r\n                    <div>\r\n                        <h4 className=\"mb-1\">{material.descricao}</h4>\r\n                        <h6 className=\"mt-0 mb-3\">{material.descricao_longa}</h6>\r\n                        <div className=\"car-buttons mt-5\">\r\n                            <Button icon=\"pi pi-pencil\" onClick={() => setMaterial(material)} className=\"p-button p-button-rounded mr-2\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const materialOpcaoTemplate = (materialOpcao) => {\r\n        return (\r\n            <div className=\"product-item\">\r\n                <div className=\"product-item-content\">\r\n                    <div className=\"mb-3\">\r\n                        <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${materialOpcao.imagem_material_opcao}`}  alt={materialOpcao.descricao} className=\"product-image\" />\r\n                    </div>\r\n                    <div>\r\n                        <h4 className=\"mb-1\">{materialOpcao.descricao_opcao}</h4>\r\n                        <h6 className=\"mt-0 mb-3\">{`Prazo de Envio: ${materialOpcao.prazo_envio} dias`}</h6>\r\n                        {/* <h6 className=\"mt-0 mb-3\">{materialOpcao.descricao_longa}</h6> */}\r\n                        <div className=\"car-buttons mt-5\">\r\n                            <Button icon=\"pi pi-pencil\" className=\"p-button p-button-rounded mr-2\" onClick={() => setMaterialOpcao(materialOpcao)}   />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n\r\n        <>\r\n\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col-12\">\r\n                <h4>Cliente</h4>\r\n                <Dropdown placeholder=\"Selecione Cliente\" id=\"dropdown\" value={cliente} options={clientes}\r\n                    onChange={(e) => setCliente(e.value) } optionLabel=\"razao_social\"/>\r\n            </div>\r\n            <div className=\"p-col-6\">\r\n                <h4 >Material: {materialEscolhido.descricao}</h4>\r\n                <div className=\"card\">\r\n                    <div className=\"p-grid\">\r\n                    <div className=\"p-col-12\">\r\n                        <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${materialOpcaoEscolhido.imagem_material_opcao}`}\r\n                            style={{ height: '200px'}}  alt={\"escolher\"} className=\"product-image\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"p-col-12\">\r\n                        <p >{materialEscolhido.descricao_longa}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"p-col-6\">\r\n            </div>\r\n            <div className=\"p-col-3\">\r\n            {materialOpcaoEscolhido.descricao_opcao==null ?\r\n             <Button label=\"Escolher Material\"  onClick={() => setDisplayModalMaterial(true)} /> \r\n              :\r\n               <Button label=\"Alterar Material\"  onClick={() => setDisplayModalMaterial(true)} />\r\n            }\r\n            </div>\r\n            <div className=\"p-col-9\">\r\n            </div>\r\n            <div className=\"p-col-12\">\r\n                <h4 >Observacoes</h4>\r\n                <InputTextarea rows={5} cols={100} value={observacoes} onChange={(e) => setObservacoes(e.target.value)} />\r\n            </div>\r\n        </div>\r\n\r\n\r\n            \r\n\r\n\r\n            <Dialog header={\"Escolha material\"}  visible={displayModalMaterial} style={{ width: '75vw' }} onHide={() => setDisplayModalMaterial(false)}>\r\n                <div className=\"carousel-demo\">\r\n\r\n                    <div className=\"card\">\r\n                        <Carousel value={materials} numVisible={2} numScroll={1} responsiveOptions={responsiveOptions} className=\"custom-carousel\" circular\r\n                            itemTemplate={materialTemplate} header={<h5>Teste</h5>} />\r\n                    </div>\r\n                </div>\r\n\r\n            </Dialog>\r\n\r\n\r\n            <Dialog header={\"Escolha opcao de material\"}  visible={displayModalOpcao} style={{ width: '75vw' }} onHide={() => setDisplayModalOpcao(false)}>\r\n                <div className=\"carousel-demo\">\r\n\r\n                    <div className=\"card\">\r\n                        <Carousel value={materialEscolhido.opcoes} numVisible={3} numScroll={1} responsiveOptions={responsiveOptions} className=\"custom-carousel\" circular\r\n                            itemTemplate={materialOpcaoTemplate} />\r\n                    </div>\r\n                </div>\r\n\r\n            </Dialog>\r\n\r\n\r\n\r\n\r\n        \r\n\r\n            <Button label=\"Salvar\" className=\"p-d-block p-mx-auto p-mt-2\" onClick={() => handleSave()} />\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport {SolicitacaoTrade}\r\n     ","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Carousel } from 'primereact/carousel';\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\n\r\n\r\nconst Solicitacoes = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [solicitacoes,setSolicitacoes] = useState([])\r\n    const [solicitacao,setSolicitacao] = useState({})\r\n    const [displayModal, setDisplayModal] = useState(false)\r\n\r\n    const getSolicitacoes = () =>{\r\n        let url = api_address+'/trade/get_solicitacoes'\r\n        axios({\r\n            method: 'GET',\r\n            headers: {'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            console.log(res.data['solicitacoes'])\r\n            setSolicitacoes(res.data['solicitacoes'])\r\n        })\r\n    } \r\n\r\n    useEffect(() => {\r\n        getSolicitacoes()\r\n        document.title = \"Greenish B2B | Trade\"\r\n      }, [])\r\n\r\n    const acao_tabela = (rowData) => {\r\n        setSolicitacao(rowData)\r\n        setDisplayModal(true)\r\n    }\r\n\r\n    const imagensSolicitacaoTemplate = (imagem) => {\r\n        return (\r\n            <div className=\"product-item\">\r\n                <div className=\"product-item-content\">\r\n                    <div className=\"mb-3\">\r\n                        <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${imagem.imagem_solicitacao_trade}`}  alt={\"Sem Imagem\"} className=\"product-image\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                <Button label=\"Visualizar\" onClick={() => acao_tabela(rowData)} />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Dialog header={\"Detalhes Solicitacao\"} visible={displayModal} style={{ width: '75vw' }} onHide={() => setDisplayModal(false)}>\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col-6\">\r\n                    <h4 >Material: {solicitacao.material}</h4>\r\n                    <div className=\"card\">\r\n                        <div className=\"p-grid\">\r\n                        <div className=\"p-col-12\">\r\n                            <img src={`https://ondasstr092020.blob.core.windows.net/greencom/${solicitacao.material_opcao_imagem}`}\r\n                                style={{ height: '200px'}}  alt={\"escolher\"} className=\"product-image\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"p-col-12\">\r\n                            <p >{solicitacao.material_descricao_longa}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"p-col-6\">\r\n                </div>\r\n            </div>\r\n            <h5>Observacoes</h5>\r\n            <InputTextarea value={solicitacao.observacoes} rows={5} cols={30} disabled />\r\n            <Carousel value={solicitacao.imagens} numVisible={3} numScroll={1} circular\r\n                itemTemplate={imagensSolicitacaoTemplate} header={<h5>Imagens</h5>} />\r\n        </Dialog>\r\n\r\n        <div>\r\n        <Button label=\"Fazer nova solicitacao\" onClick={() => window.location.href = '/trade/solicitacao'} className=\"p-button p-button-rounded mr-2\" />\r\n            <div className=\"card\">\r\n                <DataTable value={solicitacoes}>\r\n                    <Column field=\"cliente__razao_social\" header=\"Cliente\" filter filterPlaceholder=\"Buscar\"></Column>\r\n                    <Column field=\"material\" header=\"Material\"></Column>\r\n                    <Column field=\"status\" header=\"Status\"></Column>     \r\n                    <Column field=\"data_solicitacao\" header=\"Data Solicitacao\"></Column>\r\n                    <Column field=\"previsao_envio\" header=\"Previsao Envio\"></Column>\r\n                    <Column body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default Solicitacoes","import axios from 'axios'\r\nimport  {api_address }  from '../proxy/proxy.js'\r\nimport { useLocalStorage } from '../requests/greenHooks.js'\r\nimport { confirmDialog } from 'primereact/confirmdialog'\r\n\r\nimport React, { useState, useEffect,useRef } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages'\r\n\r\nconst Promocoes = () => {\r\n    const [token,setToken] = useLocalStorage(\"token\",null)\r\n    const [carrinhoId, setCarrinhoId] = useLocalStorage(\"carrinhoId\",null)\r\n    const message = useRef(null)\r\n    const [promocoes,setPromocoes] = useState([])\r\n\r\n  \r\n    useEffect(() => {\r\n        getPromocoes()\r\n        document.title = \"Greenish B2B | Promocoes\"\r\n      }, [])\r\n\r\n    const computaPromo = (id_promocao,id_condicao) =>{\r\n        let url = api_address+'/promocoes/'+carrinhoId\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers:{'Authorization': 'Token '+token},\r\n            params:{\r\n                id_promocao:id_promocao,\r\n                id_condicao:id_condicao\r\n              }\r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoo computada com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const removePromo = () =>{\r\n        let url = api_address+'/promocoes/remove/'+carrinhoId\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url, \r\n        }).then(res => {\r\n            message.current.show([\r\n                { severity: 'success', summary: \"Promoes Removidas com sucesso\", sticky: false }\r\n            ])\r\n        })\r\n\r\n    }\r\n\r\n    const getPromocoes = () =>{\r\n        let url = api_address+'/promocoes'\r\n        axios({\r\n            method: 'GET',\r\n            headers:{'Authorization': 'Token '+token},\r\n            url: url,\r\n        }).then(res => {\r\n            setPromocoes(res.data['promocoes'])\r\n            console.log(res.data['promocoes'])\r\n        })\r\n    } \r\n\r\n\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        const elems = rowData.condicoes.slice()\r\n        let elems_html = elems.map((val,index) =>\r\n        <Button className=\"p-mr-2\" label={rowData.tipo_condicao+\" - \"+val.condicao} onClick={() => computaPromo(rowData.id_promocao,val.id)} />)\r\n        return (\r\n            <React.Fragment>\r\n                {elems_html}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Messages ref={message} />\r\n            <div className=\"card\">\r\n                <DataTable value={promocoes}>\r\n                    <Column field=\"descricao\" header=\"Promocao\"></Column>\r\n                    <Column header=\"Acoes\" body={actionBodyTemplate}></Column>\r\n                </DataTable>\r\n            </div>\r\n            <Button className=\"p-d-block p-mx-auto p-mt-6\" label={\"Remover Promoes\"} onClick={() => removePromo()} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Promocoes","import {MyMenu} from './menu-home/menu.js'\r\nimport {Home} from './menu-home/home.js'\r\nimport Login from './menu-home/login.js'\r\nimport Clientes from './menu-home/clientes.js'\r\nimport Pedidos from './menu-home/pedidos.js'\r\nimport Promocoes from './menu-home/promocoes.js'\r\nimport Conta from './menu-home/conta.js'\r\nimport Produtos from './produtos/produtos.js'\r\nimport Carrinho from './carrinho/carrinho.js'\r\nimport Pedido from './pedido/pedido.js'\r\nimport {SolicitacaoTrade} from './trade/solicitacaoTrade.js'\r\nimport Solicitacoes from './trade/solicitacoesTrade.js'\r\nimport DataTableBasicDemo from './tests/dataTableDemo.js'\r\n\r\nimport React, { useEffect, useRef,useState } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\n// class App extends React.Component {\r\n\r\n//   constructor(props) {\r\n//       super(props);\r\n//       this.state = {\r\n//       }\r\n//   }\r\n\r\n//   verificaLogin(){\r\n//     let loggedIn = JSON.parse(localStorage.getItem('loggedin'))\r\n//     if (loggedIn==null){\r\n//       loggedIn = false\r\n//     }\r\n//     return loggedIn\r\n//   }\r\n\r\n//   render(){\r\n//       const loggedIn = this.verificaLogin()\r\n\r\n      \r\n//       return(\r\n//           <div>\r\n//             <div>\r\n//             <Router>\r\n//               <div>\r\n//                 <nav>\r\n//                   <MyMenu loggedIn={loggedIn}></MyMenu>\r\n//                 </nav>\r\n\r\n//                 {/* A <Switch> looks through its children <Route>s and\r\n//                     renders the first one that matches the current URL. */}\r\n//                 <Switch>\r\n//                   <Route path=\"/login\" component={Login} />\r\n//                   <Route path=\"/clientes\" component={Clientes} />\r\n//                   <Route path=\"/pedidos\" component={Pedidos} />\r\n//                   <Route path=\"/promocoes\" component={Promocoes} />\r\n//                   <Route path=\"/conta\" component={Conta} />\r\n//                   <Route path=\"/carrinho\" component={Carrinho} />\r\n//                   <Route path=\"/trade/solicitacao\" component={SolicitacaoTrade} />\r\n//                   <Route path=\"/trade\" component={Solicitacoes} />\r\n//                   <Route path=\"/busca\" component={Produtos} />\r\n//                   <Route path=\"/teste\" component={DataTableBasicDemo} />\r\n//                   <Route path=\"/pedido/:idPedido\" component={Pedido} />\r\n//                   <Route path=\"/:linha/:categoria/:subcategoria\">\r\n//                     {loggedIn ? <Produtos />  :  <Redirect to=\"/login\"/>}\r\n//                   </Route>                  \r\n//                   {/* <Route path=\"/:linha/:categoria/:subcategoria\" component={Produtos} /> */}\r\n//                   <Route path=\"/:linha/:categoria\">\r\n//                     {loggedIn ? <Produtos /> :   <Redirect to=\"/login\"/> }\r\n//                   </Route>   \r\n//                   <Route path='/' component={Home}/>\r\n//                 </Switch>\r\n//               </div>\r\n//             </Router>             \r\n//             </div>\r\n//           </div>\r\n//       )\r\n//   }\r\n\r\n\r\n// }\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const verificaLogin = () =>{\r\n    let loggedIn = JSON.parse(localStorage.getItem('loggedin'))\r\n    if (loggedIn==null){\r\n      loggedIn = false\r\n    }\r\n    return loggedIn\r\n    }\r\n\r\n\r\n  const [loggedIn, setLoggedIn] = useState(verificaLogin());\r\n  const searchInput = useRef(null)\r\n\r\n\r\n\r\n      \r\n      return(\r\n          <div>\r\n            <div>\r\n            <Router>\r\n              <div>\r\n                <nav>\r\n                  <MyMenu searchInput={searchInput} loggedIn={loggedIn}></MyMenu>\r\n                </nav>\r\n\r\n                {/* A <Switch> looks through its children <Route>s and\r\n                    renders the first one that matches the current URL. */}\r\n                <Switch>\r\n                  <Route path=\"/login\" component={Login} />\r\n                  <Route path=\"/clientes\" component={Clientes} />\r\n                  <Route path=\"/pedidos\" component={Pedidos} />\r\n                  <Route path=\"/promocoes\" component={Promocoes} />\r\n                  <Route path=\"/conta\" component={Conta} />\r\n                  <Route path=\"/carrinho\" component={Carrinho} />\r\n                  <Route path=\"/trade/solicitacao\" component={SolicitacaoTrade} />\r\n                  <Route path=\"/trade\" component={Solicitacoes} />\r\n                  <Route path=\"/busca\" >\r\n                    <Produtos searchInput={searchInput} />\r\n                  </Route>   \r\n                  <Route path=\"/teste\" component={DataTableBasicDemo} />\r\n                  <Route path=\"/pedido/:idPedido\" component={Pedido} />\r\n                  <Route path=\"/:linha/:categoria/:subcategoria\">\r\n                    {loggedIn ? <Produtos searchInput={searchInput} />  :  <Redirect to=\"/login\"/>}\r\n                  </Route>                  \r\n                  {/* <Route path=\"/:linha/:categoria/:subcategoria\" component={Produtos} /> */}\r\n                  <Route path=\"/:linha/:categoria\">\r\n                    {loggedIn ? <Produtos searchInput={searchInput} /> :   <Redirect to=\"/login\"/> }\r\n                  </Route>   \r\n                  <Route path='/' component={Home}/>\r\n                </Switch>\r\n              </div>\r\n            </Router>             \r\n            </div>\r\n          </div>\r\n      )\r\n  }\r\n\r\n\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'primereact/resources/themes/saga-blue/theme.css'\r\nimport 'primereact/resources/primereact.min.css'\r\nimport 'primeicons/primeicons.css'\r\n\r\nimport ReactGA from \"react-ga4\";\r\n\r\nReactGA.initialize(\"G-XGGNKTY87X\")\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}